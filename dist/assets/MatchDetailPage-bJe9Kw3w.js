import{j as e}from"./sanity-DxjeYfqd.js";import{r as f,L as T,f as as}from"./react-vendor-Lq1VaXCH.js";import{h as ls,t as Z,E as is,F as rs,G as ns,H as cs,I as xs,J as os,K as De,q as ds,c as ms,n as hs,w as Ce}from"./index-CWl0sDhy.js";import{a as ps,b as ne,i as gs,f as ee}from"./oddsService-Dn_XJwM0.js";import{p as us,A as _e,m as z,an as Ge,a9 as js,e as Re,i as ce,g as We,aw as bs,ay as Y,Z as Be,u as se,c as Ue,T as xe,k as Oe,x as ie,a8 as re,U as Q,I as fs,ao as ys,o as Ns}from"./ui-CoLpaw0B.js";import{F as ws}from"./Footer-Dp1HAqUh.js";import{i as vs}from"./sanityAPI-CSsVss31.js";const Ee=({homeTeam:l,awayTeam:s,competitionId:r,matchStatus:d="SCHEDULED"})=>{const[u,n]=f.useState(null),[j,o]=f.useState(!0),[A,I]=f.useState(null),[y,p]=f.useState(!1);f.useEffect(()=>{const D=async()=>{if(d==="FINISHED"){o(!1);return}try{o(!0),I(null);const V=await ne(l,s,r);n(V)}catch(V){console.error("[OddsWidget] Error:",V),I("Impossible de charger les cotes")}finally{o(!1)}};if(D(),d==="IN_PLAY"){const V=setInterval(D,18e4);return()=>clearInterval(V)}},[l,s,r,d]);const S=async()=>{o(!0);const D=await ne(l,s,r);n(D),o(!1)};if(d==="FINISHED")return null;const c=u==null?void 0:u.odds.winamax,P=u?ps(u):null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-8 h-8 rounded-lg object-contain"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-bold text-sm",children:"Cotes Winamax"}),d==="IN_PLAY"&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-[10px] bg-red-500 text-white rounded animate-pulse",children:"LIVE"})]})]}),e.jsx("button",{onClick:S,disabled:j,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:e.jsx(us,{className:`w-4 h-4 text-gray-400 ${j?"animate-spin":""}`})})]}),e.jsx("div",{className:"p-4",children:e.jsx(_e,{mode:"wait",children:j?e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})},"loading"):A?e.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(Ge,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:A})]},"error"):c?e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(q,{label:l.split(" ").pop()||"1",value:c.home,isFavorite:P==="home",showProbability:y}),e.jsx(q,{label:"Nul",value:c.draw,isFavorite:P==="draw",showProbability:y}),e.jsx(q,{label:s.split(" ").pop()||"2",value:c.away,isFavorite:P==="away",showProbability:y})]}),c.overUnder&&e.jsxs("div",{className:"pt-3 border-t border-white/5",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Plus/Moins ",c.overUnder.line," buts"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(q,{label:`+ ${c.overUnder.line}`,value:c.overUnder.over,showProbability:y,small:!0}),e.jsx(q,{label:`- ${c.overUnder.line}`,value:c.overUnder.under,showProbability:y,small:!0})]})]}),e.jsx("button",{onClick:()=>p(!y),className:"w-full text-xs text-gray-500 hover:text-gray-300 transition-colors py-1",children:y?"Voir les cotes":"Voir les probabilit√©s"}),e.jsxs("p",{className:"text-[10px] text-gray-600 text-center leading-tight",children:["Cotes √† titre informatif uniquement.",e.jsx("br",{}),"Les paris comportent des risques."]})]},"odds"):e.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(js,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Cotes indisponibles"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"pour ce match"})]},"no-odds")})})]})},q=({label:l,value:s,isFavorite:r=!1,showProbability:d=!1,small:u=!1})=>{const n=d?`${gs(s).toFixed(0)}%`:ee(s);return e.jsxs("div",{className:`
        relative flex flex-col items-center justify-center rounded-lg
        transition-all duration-200 cursor-default
        ${u?"py-2 px-3":"py-3 px-2"}
        ${r?"bg-green-500/20 border border-green-500/30":"bg-white/5 border border-white/10 hover:bg-white/10"}
      `,children:[e.jsx("span",{className:`text-gray-400 ${u?"text-[10px]":"text-xs"} mb-0.5`,children:l}),e.jsx("span",{className:`
          font-bold
          ${u?"text-sm":"text-lg"}
          ${r?"text-green-400":"text-white"}
        `,children:n}),r&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]})},U=({label:l,homeValue:s,awayValue:r,isPercentage:d=!1})=>{const u=s+r||1,n=s/u*100,j=r/u*100;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-white font-bold",children:[s,d?"%":""]}),e.jsx("span",{className:"text-gray-400",children:l}),e.jsxs("span",{className:"text-white font-bold",children:[r,d?"%":""]})]}),e.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-800",children:[e.jsx(z.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.8},className:"bg-gradient-to-r from-pink-500 to-pink-400"}),e.jsx(z.div,{initial:{width:0},animate:{width:`${j}%`},transition:{duration:.8},className:"bg-gradient-to-l from-blue-500 to-blue-400"})]})]})},Ts=({type:l,detail:s})=>{switch(l){case"Goal":return e.jsx("span",{className:"text-2xl",children:"‚öΩ"});case"Card":return s==="Red Card"?e.jsx("span",{className:"text-2xl",children:"üü•"}):s==="Second Yellow card"?e.jsx("span",{className:"text-2xl",children:"üü®üü•"}):e.jsx("span",{className:"text-2xl",children:"üü®"});case"subst":return e.jsx("span",{className:"text-2xl",children:"üîÑ"});case"Var":return e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded",children:"VAR"});default:return e.jsx("span",{className:"text-2xl",children:"üìã"})}},te=({result:l})=>{const s={W:"bg-green-500 text-white",D:"bg-gray-500 text-white",L:"bg-red-500 text-white"},r={W:"V",D:"N",L:"D"};return e.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded text-xs font-bold ${s[l]}`,children:r[l]})},ks=({article:l})=>{var d;if(!l)return null;const r=(()=>{var u,n,j,o;try{return(n=(u=l.mainImage)==null?void 0:u.asset)!=null&&n.url?l.mainImage.asset.url:(o=(j=l.mainImage)==null?void 0:j.asset)!=null&&o._ref?ls(l.mainImage).width(400).height(200).url():null}catch{return null}})();return e.jsxs(T,{to:`/article/${(d=l.slug)==null?void 0:d.current}`,className:"block group rounded-xl overflow-hidden bg-gray-900/50 border border-white/10",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[r?e.jsx("img",{src:r,alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-1.5 px-2 py-1 bg-pink-500 rounded-md",children:[e.jsx(se,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs font-bold text-white",children:"√Ä la une"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:l.title}),l.excerpt&&e.jsx("p",{className:"text-xs text-gray-400 mt-2 line-clamp-2",children:l.excerpt})]})]})},Ss=({articles:l})=>{if(!l||l.length===0)return null;const s=l.slice(0,5);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-2",children:[e.jsx(ce,{size:16,className:"text-orange-500"}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Flash Info"})]}),e.jsx("div",{className:"divide-y divide-white/5",children:s.map(r=>{var d;return e.jsx(T,{to:`/article/${(d=r.slug)==null?void 0:d.current}`,className:"block p-3 hover:bg-white/5 transition-colors group",children:e.jsx("h4",{className:"text-xs font-medium text-gray-300 group-hover:text-white line-clamp-2",children:r.title})},r._id)})}),e.jsxs(T,{to:"/articles",className:"flex items-center justify-center gap-1 p-3 text-xs text-pink-400 hover:text-pink-300 border-t border-white/10",children:["Voir tous les articles",e.jsx(Ue,{size:14})]})]})},$s=({standings:l,homeTeamId:s,awayTeamId:r,competitionId:d})=>{if(!l||l.length===0)return null;const u=l.filter(n=>n.team.id===s||n.team.id===r);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:16,className:"text-yellow-500"}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Classement"})]}),e.jsxs(T,{to:"/classements",className:"text-xs text-pink-400 hover:text-pink-300 flex items-center gap-1",children:["Voir tout",e.jsx(Ue,{size:12})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"grid grid-cols-[auto_1fr_repeat(3,minmax(0,2rem))_2.5rem] gap-2 text-[10px] text-gray-500 px-2 mb-2",children:[e.jsx("span",{children:"#"}),e.jsx("span",{children:"√âquipe"}),e.jsx("span",{className:"text-center",children:"MJ"}),e.jsx("span",{className:"text-center",children:"+/-"}),e.jsx("span",{className:"text-center",children:"Pts"})]}),e.jsx("div",{className:"space-y-1",children:u.map(n=>{const j=n.team.id===s||n.team.id===r;return e.jsxs(T,{to:`/classements/club/${n.team.id}`,className:`grid grid-cols-[auto_1fr_repeat(3,minmax(0,2rem))_2.5rem] gap-2 items-center px-2 py-2 rounded-lg transition-colors ${j?"bg-pink-500/10 border border-pink-500/30":"hover:bg-white/5"}`,children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 w-5",children:n.position}),e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("img",{src:n.team.crest,alt:"",className:"w-5 h-5 object-contain",loading:"lazy"}),e.jsx("span",{className:"text-xs text-white truncate",children:n.team.name})]}),e.jsx("span",{className:"text-xs text-gray-400 text-center",children:n.playedGames}),e.jsxs("span",{className:`text-xs text-center ${n.goalDifference>0?"text-green-400":n.goalDifference<0?"text-red-400":"text-gray-400"}`,children:[n.goalDifference>0?"+":"",n.goalDifference]}),e.jsx("span",{className:"text-xs font-bold text-white text-center",children:n.points})]},n.team.id)})})]})]})},ze=({homeForm:l,awayForm:s,homeTeam:r,awayTeam:d})=>e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsx("span",{className:"text-sm font-bold text-white",children:"Forme r√©cente"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:r.crest,alt:"",className:"w-6 h-6 object-contain",loading:"lazy"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-xs text-white truncate",children:r.name})}),e.jsx("div",{className:"flex gap-1",children:l.slice(0,5).map((u,n)=>e.jsx(te,{result:u},n))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:d.crest,alt:"",className:"w-6 h-6 object-contain",loading:"lazy"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-xs text-white truncate",children:d.name})}),e.jsx("div",{className:"flex gap-1",children:s.slice(0,5).map((u,n)=>e.jsx(te,{result:u},n))})]})]})]}),Is=({match:l,h2h:s,homeForm:r,awayForm:d,standings:u,headerOdds:n,formatDateFR:j})=>{const o=(()=>{let p=0,S=0,c=0,P=0,D=0;return s.forEach(V=>{const _=V.score.fullTime.home??0,R=V.score.fullTime.away??0;V.homeTeam.id===l.homeTeam.id?(P+=_,D+=R,_>R?p++:R>_?S++:c++):(P+=R,D+=_,R>_?p++:_>R?S++:c++)}),{homeWins:p,awayWins:S,draws:c,homeGoals:P,awayGoals:D,total:s.length}})(),A=u.find(p=>p.team.id===l.homeTeam.id),I=u.find(p=>p.team.id===l.awayTeam.id),y=(()=>{if(!(n!=null&&n.odds.winamax))return null;const{home:p,draw:S,away:c}=n.odds.winamax,P=Math.min(p,S,c);return P===p?{winner:"home",confidence:Math.round(1/p*100)}:P===c?{winner:"away",confidence:Math.round(1/c*100)}:{winner:"draw",confidence:Math.round(1/S*100)}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-900/30 via-gray-900/50 to-blue-900/30 rounded-2xl border border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx(Re,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Avant-Match"}),e.jsx(ce,{className:"w-5 h-5 text-orange-400"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:l.homeTeam.crest,alt:"",className:"w-16 h-16 mx-auto mb-2",loading:"lazy"}),e.jsx("p",{className:"text-white font-bold text-sm mb-2",children:l.homeTeam.shortName||l.homeTeam.name}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:r.slice(0,5).map((p,S)=>e.jsx(te,{result:p},S))}),A&&e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-pink-400 font-bold",children:[A.position,"e"]})," au classement"]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-pink-500 to-blue-500 flex items-center justify-center shadow-lg shadow-purple-500/30 mb-2",children:e.jsx("span",{className:"text-white font-black text-lg",children:"VS"})}),e.jsx("p",{className:"text-gray-500 text-xs",children:j(l.utcDate)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:l.awayTeam.crest,alt:"",className:"w-16 h-16 mx-auto mb-2",loading:"lazy"}),e.jsx("p",{className:"text-white font-bold text-sm mb-2",children:l.awayTeam.shortName||l.awayTeam.name}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:d.slice(0,5).map((p,S)=>e.jsx(te,{result:p},S))}),I&&e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-blue-400 font-bold",children:[I.position,"e"]})," au classement"]})]})]}),A&&I&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-pink-400",children:A.goalsFor}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts marqu√©s"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(We,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-blue-400",children:I.goalsFor}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts marqu√©s"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-pink-400",children:A.goalsAgainst}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts encaiss√©s"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(bs,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-blue-400",children:I.goalsAgainst}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts encaiss√©s"})]})]})]}),e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Confrontations directes"}),e.jsxs("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs font-bold rounded-full",children:[o.total," matchs"]})]})}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 grid grid-cols-3 gap-4 border-b border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-pink-400",children:o.homeWins}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Victoires ",l.homeTeam.shortName||l.homeTeam.name.substring(0,3)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-gray-400",children:o.draws}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nuls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-blue-400",children:o.awayWins}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Victoires ",l.awayTeam.shortName||l.awayTeam.name.substring(0,3)]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-white/10",children:e.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-400 transition-all",style:{width:`${o.homeWins/o.total*100}%`}}),e.jsx("div",{className:"bg-gray-600 transition-all",style:{width:`${o.draws/o.total*100}%`}}),e.jsx("div",{className:"bg-gradient-to-l from-blue-500 to-blue-400 transition-all",style:{width:`${o.awayWins/o.total*100}%`}})]})}),e.jsx("div",{className:"p-4 space-y-2",children:s.slice(0,5).map(p=>{const S=p.homeTeam.id===l.homeTeam.id,c=p.score.fullTime.home??0,P=p.score.fullTime.away??0,D=S?c>P?"W":c<P?"L":"D":P>c?"W":P<c?"L":"D";return e.jsxs(T,{to:`/match/${p.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:j(p.utcDate)}),e.jsx("img",{src:p.homeTeam.crest,alt:"",className:"w-5 h-5",loading:"lazy"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:p.homeTeam.name}),e.jsxs("span",{className:`font-bold px-2 py-0.5 rounded ${D==="W"?"bg-green-500/20 text-green-400":D==="L"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:[c," - ",P]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:p.awayTeam.name}),e.jsx("img",{src:p.awayTeam.crest,alt:"",className:"w-5 h-5",loading:"lazy"})]},p.id)})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-gray-700 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Premi√®re confrontation entre ces √©quipes"})]})]}),y&&e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 rounded-2xl border border-orange-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Be,{className:"w-5 h-5 text-orange-400"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Pronostic"}),e.jsx("span",{className:"text-xs text-gray-500",children:"(bas√© sur les cotes)"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:`flex-1 text-center p-4 rounded-xl border ${y.winner==="home"?"bg-pink-500/20 border-pink-500/50":"bg-white/5 border-white/10"}`,children:[e.jsx("img",{src:l.homeTeam.crest,alt:"",className:"w-12 h-12 mx-auto mb-2",loading:"lazy"}),e.jsx("p",{className:`font-bold ${y.winner==="home"?"text-pink-400":"text-gray-500"}`,children:l.homeTeam.shortName||l.homeTeam.name.substring(0,10)}),y.winner==="home"&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-bold",children:"Favori"})]})]}),e.jsx("div",{className:`text-center p-4 rounded-xl border ${y.winner==="draw"?"bg-gray-500/20 border-gray-500/50":"bg-white/5 border-white/10"}`,children:e.jsx("p",{className:`text-2xl font-black ${y.winner==="draw"?"text-gray-300":"text-gray-600"}`,children:"Nul"})}),e.jsxs("div",{className:`flex-1 text-center p-4 rounded-xl border ${y.winner==="away"?"bg-blue-500/20 border-blue-500/50":"bg-white/5 border-white/10"}`,children:[e.jsx("img",{src:l.awayTeam.crest,alt:"",className:"w-12 h-12 mx-auto mb-2",loading:"lazy"}),e.jsx("p",{className:`font-bold ${y.winner==="away"?"text-blue-400":"text-gray-500"}`,children:l.awayTeam.shortName||l.awayTeam.name.substring(0,10)}),y.winner==="away"&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-bold",children:"Favori"})]})]})]})]})]})},He=({matches:l,currentMatchId:s,round:r,competitionId:d,matchday:u})=>{var S;const n=l.filter(c=>c.id!==s).slice(0,6),j=l.filter(c=>c.id!==s).length;if(n.length===0)return null;const o=r==null?void 0:r.includes("Regular Season"),A=(r==null?void 0:r.includes("League Phase"))||(r==null?void 0:r.includes("League Stage")),I=r&&!o&&!A;let y="Autres matchs";if(I)y=r||"Tour de coupe";else if(A){const c=(S=r==null?void 0:r.match(/\d+/))==null?void 0:S[0];y=c?`Journ√©e ${c} - Phase de Ligue`:r||"Phase de Ligue"}else o&&(y=`Journ√©e ${u}`);const p=d?(I||A)&&r?`/classements/matchday/${d}?round=${encodeURIComponent(r)}`:`/classements/matchday/${d}?matchday=${u}`:null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[I?e.jsx(xe,{className:"w-4 h-4 text-yellow-500"}):e.jsx(Oe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-white font-bold text-sm truncate",children:y})]}),j>6&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",j-6]})]}),e.jsxs("div",{className:"p-2 space-y-1",children:[n.map(c=>e.jsxs(T,{to:`/match/${c.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors text-xs",children:[e.jsx("img",{src:c.homeTeam.crest,alt:"",className:"w-4 h-4 object-contain",loading:"lazy"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate",children:c.homeTeam.shortName||c.homeTeam.name.substring(0,3)}),e.jsx("span",{className:`font-bold ${c.status==="IN_PLAY"?"text-red-400":c.status==="FINISHED"?"text-white":"text-gray-500"}`,children:c.status==="FINISHED"||c.status==="IN_PLAY"?`${c.score.fullTime.home??0}-${c.score.fullTime.away??0}`:"vs"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate text-right",children:c.awayTeam.shortName||c.awayTeam.name.substring(0,3)}),e.jsx("img",{src:c.awayTeam.crest,alt:"",className:"w-4 h-4 object-contain",loading:"lazy"})]},c.id)),p&&e.jsx(T,{to:p,className:"block text-center py-2 mt-2 text-xs text-pink-400 hover:text-pink-300 hover:bg-white/5 rounded-lg transition-colors",children:I?"Voir tous les matchs du tour ‚Üí":"Voir la journ√©e compl√®te ‚Üí"})]})]})},Ve=({scorers:l,competitionId:s})=>{const[r,d]=f.useState(!1);if(l.length===0)return null;const u=[...l].filter(j=>(j.assists??0)>0).sort((j,o)=>(o.assists??0)-(j.assists??0)).slice(0,5),n=r?u:l.slice(0,5);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:r?"üéØ":"‚öΩ"}),e.jsx("span",{className:"text-white font-bold text-sm",children:r?"Meilleurs passeurs":"Meilleurs buteurs"})]}),e.jsx(T,{to:`/classements?league=${s}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout ‚Üí"})]}),e.jsxs("div",{className:"flex border-b border-white/10",children:[e.jsx("button",{onClick:()=>d(!1),className:`flex-1 py-2 text-xs font-medium transition-colors ${r?"text-gray-500 hover:text-gray-300":"text-pink-400 bg-pink-500/10 border-b-2 border-pink-500"}`,children:"‚öΩ Buteurs"}),e.jsx("button",{onClick:()=>d(!0),className:`flex-1 py-2 text-xs font-medium transition-colors ${r?"text-blue-400 bg-blue-500/10 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-300"}`,children:"üéØ Passeurs"})]}),e.jsx("div",{className:"p-3 space-y-2",children:n.length===0?e.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"Aucune donn√©e disponible"}):n.map((j,o)=>e.jsxs(T,{to:`/player/${j.player.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors",children:[e.jsx("span",{className:`w-5 h-5 flex items-center justify-center rounded text-xs font-bold ${o===0?"bg-yellow-500/30 text-yellow-400":o===1?"bg-gray-400/30 text-gray-300":o===2?"bg-amber-600/30 text-amber-500":"bg-gray-800 text-gray-500"}`,children:o+1}),e.jsx("img",{src:j.team.crest,alt:"",className:"w-4 h-4 object-contain",loading:"lazy"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:j.player.name}),e.jsx("span",{className:`font-bold text-sm ${r?"text-blue-400":"text-pink-400"}`,children:r?j.assists:j.goals})]},j.player.id))})]})};function Es(){var pe,ge,ue,je,be,fe,ye,Ne,we,ve,Te,ke,Se,$e,Ie,Pe,Le,Me,Fe,Ae;const{id:l}=as(),[s,r]=f.useState(null),[d,u]=f.useState([]),[n,j]=f.useState(null),[o,A]=f.useState(null),[I,y]=f.useState([]),[p,S]=f.useState(null),[c,P]=f.useState([]),[D,V]=f.useState([]),[_,R]=f.useState([]),[ae,qe]=f.useState([]),[oe,Ye]=f.useState([]),[$,Je]=f.useState(null),[Ke,Xe]=f.useState([]),[Ze,Qe]=f.useState(null),[O,de]=f.useState("events"),[es,J]=f.useState(!0),[me,le]=f.useState(null);if(f.useEffect(()=>{async function a(){var g,N,m;if(l){J(!0),le(null);try{const x=parseInt(l),h=await is(x);if(!h){le("Match non trouv√©"),J(!1);return}const i=["IN_PLAY","PAUSED","HALFTIME","1H","2H","HT","ET","BT","P","LIVE"].includes(h.status),[b,w,k]=await Promise.all([rs(x,i),ns(x,i),cs(x,i)]);r(h),u(b||[]),j(w),A(k),J(!1);const M=(g=h.competition)==null?void 0:g.id,C=(N=h.homeTeam)==null?void 0:N.id,E=(m=h.awayTeam)==null?void 0:m.id;if(C&&E&&xs(C,E).then(v=>y(v||[])).catch(()=>{}),(h.status==="FINISHED"||i)&&os(x,i).then(v=>S(v)).catch(()=>{}),h.status!=="FINISHED"&&M&&ne(h.homeTeam.name,h.awayTeam.name,M).then(v=>Je(v)).catch(()=>{}),M){const v=h.round||"",W=v.includes("Regular Season"),L=v.includes("League Phase")||v.includes("League Stage"),G=!W&&!L&&v.length>0;let F;G&&v?F=De(String(M),v).catch(()=>[]):L&&v?F=De(String(M),v).catch(()=>[]):F=ds(String(M),h.matchday).catch(()=>[]),Promise.all([ms(String(M)).catch(()=>[]),hs(String(M)).catch(()=>[]),F]).then(([H,K,X])=>{P(H||[]),V(K||[]),Ye(X||[])})}C&&Ce(C,5).then(v=>{const W=v.map(L=>{const G=L.homeTeam.id===C,F=G?L.score.fullTime.home:L.score.fullTime.away,H=G?L.score.fullTime.away:L.score.fullTime.home;return F===null||H===null?"D":F>H?"W":F<H?"L":"D"});R(W)}).catch(()=>{}),E&&Ce(E,5).then(v=>{const W=v.map(L=>{const G=L.homeTeam.id===E,F=G?L.score.fullTime.home:L.score.fullTime.away,H=G?L.score.fullTime.away:L.score.fullTime.home;return F===null||H===null?"D":F>H?"W":F<H?"L":"D"});qe(W)}).catch(()=>{})}catch(x){console.error("Error fetching match data:",x),le("Erreur lors du chargement du match"),J(!1)}}}a()},[l]),f.useEffect(()=>{vs().then(a=>{if(a&&a.length>0){const g=a.find(m=>m.isFeatured)||a[0];Qe(g);const N=a.filter(m=>m._id!==(g==null?void 0:g._id)).slice(0,5);Xe(N)}}).catch(()=>{})},[]),es)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Chargement du match..."})]})});if(me||!s)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ge,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:me||"Match non trouv√©"}),e.jsx(T,{to:"/matchs",className:"text-pink-400 hover:underline",children:"Retour aux matchs"})]})});const he=s.status==="IN_PLAY"||s.status==="PAUSED",ss=s.status==="FINISHED",B=s.status==="SCHEDULED"||s.status==="TIMED",ts=[{id:"events",label:"Temps forts",icon:ie,count:d.length},{id:"stats",label:"Statistiques",icon:re,available:!!n},{id:"lineups",label:"Compositions",icon:Q,available:!!o},{id:"h2h",label:"Face √† face",icon:Y,count:I.length}];return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(236,72,153,0.15),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(59,130,246,0.15),transparent_50%)]"})]}),e.jsx("header",{className:"relative pt-24 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(T,{to:"/matchs",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(fs,{className:"w-4 h-4"}),e.jsx("span",{children:"Retour aux matchs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[((pe=s.competition)==null?void 0:pe.emblem)&&e.jsx("img",{src:s.competition.emblem,alt:"",className:"w-6 h-6 object-contain",loading:"lazy"}),e.jsx("span",{className:"text-gray-400 text-sm",children:(ge=s.competition)==null?void 0:ge.name}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.round&&!s.round.includes("Regular Season")?s.round:`J${s.matchday}`})]})]}),e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-3xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:`h-1 bg-gradient-to-r ${he?"from-red-500 via-pink-500 to-red-500":ss?"from-gray-500 to-gray-600":"from-blue-500 via-purple-500 to-pink-500"}`}),e.jsxs("div",{className:"p-6 md:p-8",children:[he&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-red-500/20 border border-red-500/50 rounded-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),e.jsx("span",{className:"text-red-400 font-bold text-sm uppercase",children:s.minute?`${s.minute}'`:"Live"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-4 md:gap-8 max-w-2xl mx-auto",children:[e.jsxs(T,{to:`/classements/club/${s.homeTeam.id}`,className:"group text-center flex-1",children:[e.jsx("img",{src:s.homeTeam.crest,alt:s.homeTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-sm md:text-xl font-bold text-white group-hover:text-pink-400 transition-colors",children:s.homeTeam.name})]}),e.jsx("div",{className:"text-center flex-shrink-0",children:B?e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl md:text-6xl font-black text-white",children:"VS"}),e.jsx("div",{className:"mt-2 text-gray-400 text-sm",children:Z(s.utcDate)})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-4",children:[e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.home??0}),e.jsx("span",{className:"text-2xl md:text-4xl text-gray-600",children:"-"}),e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.away??0})]}),s.score.halfTime.home!==null&&e.jsxs("div",{className:"mt-1 text-gray-500 text-xs md:text-sm",children:["MT: ",s.score.halfTime.home," - ",s.score.halfTime.away]})]})}),e.jsxs(T,{to:`/classements/club/${s.awayTeam.id}`,className:"group text-center flex-1",children:[e.jsx("img",{src:s.awayTeam.crest,alt:s.awayTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-sm md:text-xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.awayTeam.name})]})]}),!B&&d.filter(a=>a.type==="Goal").length>0&&(()=>{const a=d.filter(x=>{var h;return x.type==="Goal"&&((h=x.team)==null?void 0:h.id)===s.homeTeam.id}),g=d.filter(x=>{var h;return x.type==="Goal"&&((h=x.team)==null?void 0:h.id)===s.awayTeam.id}),N=7,m=()=>{de("events");const x=document.getElementById("match-tabs");x&&x.scrollIntoView({behavior:"smooth"})};return e.jsxs("div",{className:"mt-3 flex items-start justify-between gap-4 md:gap-8 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-end",children:[a.slice(0,N).map((x,h)=>{var t,i,b,w,k;return e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsxs("span",{children:[(i=(t=x.player)==null?void 0:t.name)==null?void 0:i.split(" ").pop()," ",(b=x.time)==null?void 0:b.elapsed,"'",(w=x.time)!=null&&w.extra?`+${x.time.extra}`:"",(k=x.detail)!=null&&k.includes("Penalty")?" (P)":""]}),e.jsx("span",{className:"text-pink-400",children:"‚öΩ"})]},h)}),a.length>N&&e.jsxs("button",{type:"button",onClick:m,className:"text-[10px] text-pink-400 hover:text-pink-300 mt-1 cursor-pointer",children:["+",a.length-N," autres ‚Üí"]})]}),e.jsx("div",{className:"flex-shrink-0 w-8"}),e.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[g.slice(0,N).map((x,h)=>{var t,i,b,w,k;return e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-400",children:"‚öΩ"}),e.jsxs("span",{children:[(i=(t=x.player)==null?void 0:t.name)==null?void 0:i.split(" ").pop()," ",(b=x.time)==null?void 0:b.elapsed,"'",(w=x.time)!=null&&w.extra?`+${x.time.extra}`:"",(k=x.detail)!=null&&k.includes("Penalty")?" (P)":""]})]},h)}),g.length>N&&e.jsxs("button",{type:"button",onClick:m,className:"text-[10px] text-blue-400 hover:text-blue-300 mt-1 cursor-pointer",children:["+",g.length-N," autres ‚Üí"]})]})]})})(),!B&&d.filter(a=>a.type==="Card").length>0&&(()=>{const a=d.filter(m=>{var x;return m.type==="Card"&&((x=m.team)==null?void 0:x.id)===s.homeTeam.id}),g=d.filter(m=>{var x;return m.type==="Card"&&((x=m.team)==null?void 0:x.id)===s.awayTeam.id}),N=m=>m!=null&&m.includes("Red")||m!=null&&m.includes("Second Yellow")?"üü•":"üü®";return a.length===0&&g.length===0?null:e.jsxs("div",{className:"mt-2 flex items-start justify-between gap-4 md:gap-8 max-w-2xl mx-auto opacity-70",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-end",children:[a.slice(0,4).map((m,x)=>{var h,t,i;return e.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[e.jsxs("span",{children:[(t=(h=m.player)==null?void 0:h.name)==null?void 0:t.split(" ").pop()," ",(i=m.time)==null?void 0:i.elapsed,"'"]}),e.jsx("span",{children:N(m.detail||"")})]},x)}),a.length>4&&e.jsxs("span",{className:"text-[9px] text-gray-600",children:["+",a.length-4]})]}),e.jsx("div",{className:"flex-shrink-0 w-8"}),e.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[g.slice(0,4).map((m,x)=>{var h,t,i;return e.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[e.jsx("span",{children:N(m.detail||"")}),e.jsxs("span",{children:[(t=(h=m.player)==null?void 0:h.name)==null?void 0:t.split(" ").pop()," ",(i=m.time)==null?void 0:i.elapsed,"'"]})]},x)}),g.length>4&&e.jsxs("span",{className:"text-[9px] text-gray-600",children:["+",g.length-4]})]})]})})(),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Oe,{className:"w-3 h-3"}),e.jsx("span",{children:Z(s.utcDate)})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(ys,{className:"w-3 h-3"}),e.jsx("span",{children:s.venue})]}),s.referee&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:s.referee})]})]}),B&&($==null?void 0:$.odds.winamax)&&e.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-6 h-6 rounded object-contain"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Cotes Winamax"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"1"}),e.jsx("span",{className:`text-xl font-bold ${$.odds.winamax.home===Math.min($.odds.winamax.home,$.odds.winamax.draw,$.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee($.odds.winamax.home)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"N"}),e.jsx("span",{className:`text-xl font-bold ${$.odds.winamax.draw===Math.min($.odds.winamax.home,$.odds.winamax.draw,$.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee($.odds.winamax.draw)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"2"}),e.jsx("span",{className:`text-xl font-bold ${$.odds.winamax.away===Math.min($.odds.winamax.home,$.odds.winamax.draw,$.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee($.odds.winamax.away)})]})]})]})]})]})]})}),!B&&e.jsx("section",{id:"match-tabs",className:"sticky top-20 z-30 bg-black/90 backdrop-blur-xl border-y border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex gap-1 py-3 overflow-x-auto scrollbar-hide",children:ts.map(a=>e.jsxs("button",{onClick:()=>de(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap ${O===a.id?"bg-gradient-to-r from-pink-500 to-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.label}),a.count!==void 0&&a.count>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-white/20 rounded-full text-xs",children:a.count})]},a.id))})})}),e.jsx("main",{className:"relative max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:B?e.jsx(Is,{match:s,h2h:I,homeForm:_,awayForm:ae,standings:c,headerOdds:$,formatDateFR:Z}):e.jsxs(_e,{mode:"wait",children:[O==="events"&&e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-pink-500"}),"Temps forts"]}),d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ie,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucun √©v√©nement"})]}):e.jsx("div",{className:"space-y-1",children:(()=>{const a=[...d].sort((t,i)=>{var k,M,C,E;const b=(((k=t.time)==null?void 0:k.elapsed)||0)+(((M=t.time)==null?void 0:M.extra)||0)/100;return(((C=i.time)==null?void 0:C.elapsed)||0)+(((E=i.time)==null?void 0:E.extra)||0)/100-b}),g=d.filter(t=>t.type==="Goal").sort((t,i)=>{var k,M,C,E;const b=(((k=t.time)==null?void 0:k.elapsed)||0)+(((M=t.time)==null?void 0:M.extra)||0)/100,w=(((C=i.time)==null?void 0:C.elapsed)||0)+(((E=i.time)==null?void 0:E.extra)||0)/100;return b-w});let N=0,m=0;const x=new Map;g.forEach(t=>{var i;((i=t.team)==null?void 0:i.id)===s.homeTeam.id?N++:m++,x.set(t,{home:N,away:m})});const h=a.some(t=>{var i;return(((i=t.time)==null?void 0:i.elapsed)||0)>45});return a.map((t,i)=>{var C,E,v,W,L,G,F,H,K,X;const b=((C=t.team)==null?void 0:C.id)===s.homeTeam.id,w=t.type==="Goal",k=w?x.get(t):null,M=h&&i>0&&(((E=a[i-1].time)==null?void 0:E.elapsed)||0)>45&&(((v=t.time)==null?void 0:v.elapsed)||0)<=45;return e.jsxs("div",{children:[M&&e.jsxs("div",{className:"flex items-center gap-4 py-3 my-2",children:[e.jsx("div",{className:"flex-1 h-px bg-white/20"}),e.jsxs("span",{className:"text-gray-500 text-xs font-medium px-3 py-1 bg-white/5 rounded",children:["MI-TEMPS"," ",s.score.halfTime.home!==null?`${s.score.halfTime.home} - ${s.score.halfTime.away}`:""]}),e.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),e.jsxs("div",{className:`flex items-center gap-2 md:gap-3 p-2 md:p-3 rounded-lg transition-colors ${w?"bg-green-500/10 border border-green-500/20":"bg-white/5 hover:bg-white/10"} ${b?"":"flex-row-reverse"}`,children:[e.jsxs("div",{className:"w-10 md:w-12 text-center flex-shrink-0",children:[e.jsxs("span",{className:`font-bold text-sm ${w?"text-green-400":"text-pink-400"}`,children:[(W=t.time)==null?void 0:W.elapsed,"'"]}),(((L=t.time)==null?void 0:L.extra)??0)>0&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",(G=t.time)==null?void 0:G.extra]})]}),e.jsx(Ts,{type:t.type,detail:t.detail||""}),e.jsxs("div",{className:`flex-1 min-w-0 ${b?"":"text-right"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[((F=t.assist)==null?void 0:F.name)&&t.type==="Goal"&&e.jsxs("span",{className:`text-gray-500 text-xs ${b?"":"order-last"}`,children:["(P. ",t.assist.name.split(" ").pop(),")"]}),(H=t.player)!=null&&H.id?e.jsx(T,{to:`/player/${t.player.id}`,className:`text-white font-medium text-sm hover:text-pink-400 truncate ${b?"":"ml-auto"}`,children:t.player.name}):e.jsx("span",{className:"text-white font-medium text-sm truncate",children:((K=t.player)==null?void 0:K.name)||"√âv√©nement"})]}),t.type==="subst"&&((X=t.assist)==null?void 0:X.name)&&e.jsxs("p",{className:"text-red-400 text-xs",children:["‚Üì ",t.assist.name]})]}),w&&k&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-black/30 rounded text-sm font-bold flex-shrink-0",children:[e.jsx("span",{className:"text-white",children:k.home}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("span",{className:"text-white",children:k.away})]})]})]},i)})})()})]}),p&&p.length>0&&e.jsxs("div",{className:"mt-6 bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-yellow-500"}),"Stats Joueurs"]}),(()=>{const a=p.flatMap(t=>(t.players||[]).map(i=>{var b,w;return{...i,teamId:(b=t.team)==null?void 0:b.id,teamLogo:(w=t.team)==null?void 0:w.logo}})),g=a.filter(t=>t.rating&&t.rating>0).sort((t,i)=>(i.rating||0)-(t.rating||0)).slice(0,3),N=a.filter(t=>(t.goals??0)>0).sort((t,i)=>(i.goals??0)-(t.goals??0)).slice(0,3),m=a.filter(t=>(t.assists??0)>0).sort((t,i)=>(i.assists??0)-(t.assists??0)).slice(0,3),x=a.filter(t=>(t.keyPasses??0)>0).sort((t,i)=>(i.keyPasses??0)-(t.keyPasses??0)).slice(0,3),h=a.filter(t=>(t.dribblesSuccess??0)>0).sort((t,i)=>(i.dribblesSuccess??0)-(t.dribblesSuccess??0)).slice(0,3);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[g.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-orange-500"}),"Meilleures notes"]}),e.jsx("div",{className:"space-y-2",children:g.map((t,i)=>{var b;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4",loading:"lazy"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-yellow-400 font-bold text-sm",children:(b=t.rating)==null?void 0:b.toFixed(1)})]},i)})})]}),N.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4 text-green-500"}),"Buteurs"]}),e.jsx("div",{className:"space-y-2",children:N.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4",loading:"lazy"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-green-400 font-bold text-sm",children:t.goals})]},i))})]}),m.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-blue-500"}),"Passeurs d√©cisifs"]}),e.jsx("div",{className:"space-y-2",children:m.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4",loading:"lazy"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-blue-400 font-bold text-sm",children:t.assists})]},i))})]}),x.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-purple-500"}),"Passes cl√©s"]}),e.jsx("div",{className:"space-y-2",children:x.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4",loading:"lazy"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-purple-400 font-bold text-sm",children:t.keyPasses})]},i))})]}),h.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4 text-pink-500"}),"Dribbles r√©ussis"]}),e.jsx("div",{className:"space-y-2",children:h.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4",loading:"lazy"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-pink-400 font-bold text-sm",children:t.dribblesSuccess})]},i))})]})]})})()]})]},"events"),O==="stats"&&e.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-pink-500"}),"Statistiques"]}),n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8",loading:"lazy"}),e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.homeTeam.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.awayTeam.name}),e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8",loading:"lazy"})]})]}),e.jsx(U,{label:"Possession",homeValue:((ue=n.home)==null?void 0:ue.possession)||0,awayValue:((je=n.away)==null?void 0:je.possession)||0,isPercentage:!0}),e.jsx(U,{label:"Tirs",homeValue:((be=n.home)==null?void 0:be.shots)||0,awayValue:((fe=n.away)==null?void 0:fe.shots)||0}),e.jsx(U,{label:"Tirs cadr√©s",homeValue:((ye=n.home)==null?void 0:ye.shotsOnTarget)||0,awayValue:((Ne=n.away)==null?void 0:Ne.shotsOnTarget)||0}),e.jsx(U,{label:"Corners",homeValue:((we=n.home)==null?void 0:we.corners)||0,awayValue:((ve=n.away)==null?void 0:ve.corners)||0}),e.jsx(U,{label:"Fautes",homeValue:((Te=n.home)==null?void 0:Te.fouls)||0,awayValue:((ke=n.away)==null?void 0:ke.fouls)||0}),e.jsx(U,{label:"Hors-jeu",homeValue:((Se=n.home)==null?void 0:Se.offsides)||0,awayValue:(($e=n.away)==null?void 0:$e.offsides)||0})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Stats non disponibles"})]})]})},"stats"),O==="lineups"&&e.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("h3",{className:"text-lg font-bold text-white p-4 md:p-6 border-b border-white/10 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-pink-500"}),"Compositions"]}),o?e.jsxs("div",{className:"grid md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-white/10",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8",loading:"lazy"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.homeTeam.name}),e.jsx("p",{className:"text-pink-400 text-xs",children:(Ie=o.home)==null?void 0:Ie.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((Pe=o.home)==null?void 0:Pe.startXI)||[]).map((a,g)=>e.jsxs(T,{to:a.id?`/player/${a.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-pink-500/30 text-pink-400 rounded text-xs font-bold",children:a.number||g+1}),e.jsx("span",{className:"text-white flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:a.pos})]},g))}),((Le=o.home)==null?void 0:Le.substitutes)&&o.home.substitutes.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Rempla√ßants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:o.home.substitutes.map((a,g)=>e.jsx(T,{to:a.id?`/player/${a.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:a.name},g))})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8",loading:"lazy"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.awayTeam.name}),e.jsx("p",{className:"text-blue-400 text-xs",children:(Me=o.away)==null?void 0:Me.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((Fe=o.away)==null?void 0:Fe.startXI)||[]).map((a,g)=>e.jsxs(T,{to:a.id?`/player/${a.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-blue-500/30 text-blue-400 rounded text-xs font-bold",children:a.number||g+1}),e.jsx("span",{className:"text-white flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:a.pos})]},g))}),((Ae=o.away)==null?void 0:Ae.substitutes)&&o.away.substitutes.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Rempla√ßants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:o.away.substitutes.map((a,g)=>e.jsx(T,{to:a.id?`/player/${a.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:a.name},g))})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Compositions non disponibles"})]})]})},"lineups"),O==="h2h"&&e.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-pink-500"}),"Confrontations"]}),I.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Y,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucune confrontation trouv√©e"})]}):e.jsx("div",{className:"space-y-2",children:I.filter(a=>a.id!==s.id).slice(0,8).map(a=>e.jsxs(T,{to:`/match/${a.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:Z(a.utcDate)}),e.jsx("img",{src:a.homeTeam.crest,alt:"",className:"w-5 h-5",loading:"lazy"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:a.homeTeam.name}),e.jsxs("span",{className:"text-white font-bold",children:[a.score.fullTime.home," - ",a.score.fullTime.away]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:a.awayTeam.name}),e.jsx("img",{src:a.awayTeam.crest,alt:"",className:"w-5 h-5",loading:"lazy"})]},a.id))})]})},"h2h")]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ks,{article:Ze}),e.jsx(Ss,{articles:Ke}),(()=>{var m,x,h,t,i,b,w,k;const a=s.round||"",g=a.includes("Final")||a.includes("Quarter")||a.includes("Semi")||a.includes("Round of")||a.includes("8th")||a.includes("16th")||a.includes("Knockout")||a.includes("Play-off"),N=a.includes("Group");return g&&!N?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 rounded-xl border border-yellow-500/30 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(xe,{className:"w-6 h-6 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold",children:"Phase finale"}),e.jsx("p",{className:"text-yellow-400/80 text-sm",children:a})]})]}),e.jsx(T,{to:`/classements/matchday/${(m=s.competition)==null?void 0:m.id}`,className:"block text-center py-2 px-4 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg text-sm font-medium transition-colors",children:"Voir le tableau complet ‚Üí"})]}),e.jsx(ze,{homeForm:_,awayForm:ae,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(Ee,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((x=s.competition)==null?void 0:x.id)||0,matchStatus:s.status}),e.jsx(Ve,{scorers:D,competitionId:((h=s.competition)==null?void 0:h.id)||0}),e.jsx(He,{matches:oe,currentMatchId:s.id,round:s.round,competitionId:(t=s.competition)==null?void 0:t.id,matchday:s.matchday})]}):e.jsxs(e.Fragment,{children:[e.jsx($s,{standings:c,homeTeamId:s.homeTeam.id,awayTeamId:s.awayTeam.id,competitionId:((i=s.competition)==null?void 0:i.id)||0}),e.jsx(ze,{homeForm:_,awayForm:ae,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(Ee,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((b=s.competition)==null?void 0:b.id)||0,matchStatus:s.status}),e.jsx(Ve,{scorers:D,competitionId:((w=s.competition)==null?void 0:w.id)||0}),e.jsx(He,{matches:oe,currentMatchId:s.id,round:s.round,competitionId:(k=s.competition)==null?void 0:k.id,matchday:s.matchday})]})})()]})]})}),e.jsx(ws,{})]})}export{Es as default};
