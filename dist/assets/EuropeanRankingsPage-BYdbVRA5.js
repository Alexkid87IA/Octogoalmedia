import{j as e}from"./sanity-tkM5Czdy.js";import{h as P,r as h,L as y}from"./react-vendor-DFZZ7aeY.js";import{T as L,d as S,e as E,f as C,h as _}from"./index-97bC7vSA.js";import{m as d,i as T,g as N,a as A,D as K,H as $,A as B,K as M,av as I,l as R,r as F}from"./ui-kcrkP2Yo.js";const b={scorers:{label:"Buteurs",icon:K,statKey:"goals",statLabel:"Buts"},assists:{label:"Passeurs",icon:A,statKey:"assists",statLabel:"Passes"},contributors:{label:"Contributeurs",icon:N,statKey:"total",statLabel:"G+A"},ratings:{label:"Notes",icon:T,statKey:"rating",statLabel:"Note"}},H=({topPlayers:l,activeTab:x,isLoading:n})=>{const c=b[x],[a,s,r]=l.slice(0,3),o=g=>{var u;return x==="ratings"?((u=g.rating)==null?void 0:u.toFixed(2))||"-":g[c.statKey]||0};return e.jsxs("section",{className:"relative min-h-[600px] overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-pink-950/50 via-black to-black"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,rgba(236,72,153,0.3),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,rgba(59,130,246,0.2),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 pt-24 pb-16",children:[e.jsxs(y,{to:"/classements",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-8",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Retour aux classements"})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-500/20 to-blue-500/20 rounded-full border border-pink-500/30 mb-6",children:[e.jsx(I,{className:"w-4 h-4 text-pink-400"}),e.jsx("span",{className:"text-sm font-medium text-pink-400",children:"Top 5 Championnats Européens"})]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:["Les"," ",e.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-blue-400",children:["Meilleurs ",c.label]})]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Ligue 1 • Premier League • La Liga • Serie A • Bundesliga"})]}),!n&&l.length>=3&&e.jsxs(d.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-end justify-center gap-4 md:gap-8 mt-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs(d.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-4",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-gray-400 shadow-xl shadow-gray-500/20",children:s!=null&&s.player.photo?e.jsx("img",{src:s.player.photo,alt:s.player.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl text-gray-500",children:"?"})})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-black font-bold text-lg",children:"2"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white font-bold text-sm md:text-base truncate max-w-[120px]",children:s==null?void 0:s.player.name}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[(s==null?void 0:s.team.crest)&&e.jsx("img",{src:s.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-500 text-xs truncate max-w-[80px]",children:s==null?void 0:s.team.name})]}),e.jsx("p",{className:"text-2xl md:text-3xl font-black text-gray-300 mt-2",children:s&&o(s)})]}),e.jsx("div",{className:"w-24 md:w-32 h-24 bg-gradient-to-t from-gray-700 to-gray-600 rounded-t-lg mt-4"})]}),e.jsxs("div",{className:"flex flex-col items-center -mt-8",children:[e.jsxs(d.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:"relative mb-4",children:[e.jsx(d.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:2},className:"absolute -top-8 left-1/2 -translate-x-1/2 z-10",children:e.jsx(R,{className:"w-10 h-10 text-yellow-400 fill-yellow-400/50"})}),e.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden border-4 border-yellow-400 shadow-xl shadow-yellow-500/30 ring-4 ring-yellow-400/20",children:a!=null&&a.player.photo?e.jsx("img",{src:a.player.photo,alt:a.player.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl text-gray-500",children:"?"})})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/30",children:e.jsx(N,{className:"w-6 h-6 text-white"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white font-bold text-base md:text-lg",children:a==null?void 0:a.player.name}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[(a==null?void 0:a.team.crest)&&e.jsx("img",{src:a.team.crest,alt:"",className:"w-5 h-5 object-contain"}),e.jsx("span",{className:"text-gray-400 text-sm",children:a==null?void 0:a.team.name})]}),e.jsx("p",{className:"text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-500 mt-2",children:a&&o(a)})]}),e.jsx("div",{className:"w-32 md:w-40 h-32 bg-gradient-to-t from-yellow-600 to-yellow-500 rounded-t-lg mt-4"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs(d.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"relative mb-4",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-amber-600 shadow-xl shadow-amber-600/20",children:r!=null&&r.player.photo?e.jsx("img",{src:r.player.photo,alt:r.player.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl text-gray-500",children:"?"})})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"3"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white font-bold text-sm md:text-base truncate max-w-[120px]",children:r==null?void 0:r.player.name}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[(r==null?void 0:r.team.crest)&&e.jsx("img",{src:r.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-500 text-xs truncate max-w-[80px]",children:r==null?void 0:r.team.name})]}),e.jsx("p",{className:"text-2xl md:text-3xl font-black text-amber-500 mt-2",children:r&&o(r)})]}),e.jsx("div",{className:"w-24 md:w-32 h-16 bg-gradient-to-t from-amber-800 to-amber-700 rounded-t-lg mt-4"})]})]}),n&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"w-16 h-16 border-4 border-pink-500/30 border-t-pink-500 rounded-full animate-spin"})})]})]})},D=({player:l,position:x,activeTab:n,isHovered:c,onHover:a})=>{const s=b[n],r=()=>{var o;return n==="ratings"?((o=l.rating)==null?void 0:o.toFixed(2))||"-":l[s.statKey]||0};return e.jsx(d.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.02},onMouseEnter:()=>a(l.player.id),onMouseLeave:()=>a(null),children:e.jsxs(y,{to:`/player/${l.player.id}`,className:`
          group relative flex items-center gap-4 p-4 md:p-5 rounded-2xl transition-all duration-300
          bg-gradient-to-r from-gray-900/80 to-gray-900/40 border border-gray-800/50
          hover:border-pink-500/30 hover:shadow-lg hover:shadow-pink-500/10
          ${c?"scale-[1.02] border-pink-500/50":""}
        `,children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gray-800/80 flex items-center justify-center",children:e.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-400",children:x})}),e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-xl overflow-hidden bg-gray-800 ring-2 ring-gray-700 group-hover:ring-pink-500/50 transition-all",children:l.player.photo?e.jsx("img",{src:l.player.photo,alt:l.player.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl text-gray-600",children:"?"})})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-gray-900 border border-gray-700 flex items-center justify-center text-sm",title:l.league.name,children:l.league.flag})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-bold text-base md:text-lg group-hover:text-pink-400 transition-colors truncate",children:l.player.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.team.crest&&e.jsx("img",{src:l.team.crest,alt:"",className:"w-5 h-5 object-contain"}),e.jsx("span",{className:"text-gray-400 text-sm truncate",children:l.team.name})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-center",children:[n!=="scorers"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:l.goals}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"Buts"})]}),n!=="assists"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:l.assists}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"Passes"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:l.playedMatches}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"Matchs"})]})]}),e.jsxs("div",{className:"flex-shrink-0 min-w-[70px] md:min-w-[80px] py-3 px-4 rounded-xl bg-gradient-to-r from-pink-500/20 to-blue-500/20 border border-pink-500/30 text-center",children:[e.jsx("p",{className:"text-xl md:text-2xl font-black text-white",children:r()}),e.jsx("p",{className:"text-[10px] text-pink-400 uppercase font-medium",children:s.statLabel})]}),e.jsx(F,{className:"w-5 h-5 text-gray-600 group-hover:text-pink-400 group-hover:translate-x-1 transition-all"})]})})};function U(){const[l,x]=P(),n=l.get("tab"),[c,a]=h.useState(n&&["scorers","assists","contributors","ratings"].includes(n)?n:"scorers"),[s,r]=h.useState([]),[o,g]=h.useState(!0),[u,w]=h.useState(null),[p,j]=h.useState(null);h.useEffect(()=>{(async()=>{g(!0);try{let i=[];switch(c){case"scorers":i=await _();break;case"assists":i=await C();break;case"contributors":i=await E();break;case"ratings":i=await S();break}r(i)}catch(i){console.error("Erreur chargement classement:",i),r([])}finally{g(!1)}})()},[c]);const v=t=>{a(t),x({tab:t})},m=p?s.filter(t=>t.league.id===p):s,f=m.slice(3);return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(H,{topPlayers:m,activeTab:c,isLoading:o}),e.jsx("section",{className:"relative -mt-8 pb-20",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/90 backdrop-blur-xl rounded-2xl border border-gray-800 p-4 md:p-6 mb-8 shadow-xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("div",{className:"flex gap-2 p-1 bg-gray-800/50 rounded-xl overflow-x-auto",children:Object.keys(b).map(t=>{const i=b[t],k=i.icon;return e.jsxs("button",{onClick:()=>v(t),className:`
                        flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm whitespace-nowrap transition-all
                        ${c===t?"bg-gradient-to-r from-pink-500 to-blue-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}
                      `,children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:i.label})]},t)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>j(null),className:`
                      px-3 py-1.5 rounded-lg text-sm font-medium transition-all
                      ${p===null?"bg-pink-500/20 text-pink-400 border border-pink-500/30":"text-gray-400 hover:text-white hover:bg-white/5"}
                    `,children:"Tous"}),L.map(t=>e.jsx("button",{onClick:()=>j(t.id===p?null:t.id),title:t.name,className:`
                        w-10 h-10 rounded-lg text-lg flex items-center justify-center transition-all
                        ${p===t.id?"bg-pink-500/20 border border-pink-500/30":"hover:bg-white/5"}
                      `,children:t.flag},t.id))]})]})]})}),e.jsx("div",{className:"space-y-3",children:e.jsx(B,{mode:"wait",children:o?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-pink-500/30 border-t-pink-500 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Chargement des classements..."})]})}):f.length===0&&m.length<=3?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Pas d'autres joueurs à afficher pour cette sélection"}):f.map((t,i)=>e.jsx(D,{player:t,position:i+4,activeTab:c,isHovered:u===t.player.id,onHover:w},`${c}-${t.player.id}`))})}),!o&&m.length>0&&e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-12 p-6 bg-gradient-to-r from-gray-900/50 to-gray-900/30 rounded-2xl border border-gray-800",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-pink-500",children:m.length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Joueurs classés"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-500",children:"5"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Championnats"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-black text-white",children:m.reduce((t,i)=>t+i.goals,0)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Buts totaux"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-black text-white",children:m.reduce((t,i)=>t+i.assists,0)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Passes totales"})]})]})})]})})]})}export{U as default};
