import{j as e,P as be}from"./sanity-b907zOyg.js";import{R as ne,r as g,L as C,e as fe}from"./react-vendor-shu7Bu7M.js";import{S as ye}from"./SEO-CkTwjYeW.js";import{g as le,L as je,f as we}from"./sanityAPI-Bk5jmVQf.js";import{E as Ne}from"./ErrorMessage-B2ll8oHC.js";import{E as ve}from"./ErrorBoundary-CigVuO5b.js";import{F as ke}from"./Footer-BbkQK3xQ.js";import{a1 as q,b as Q,a2 as oe,a3 as Y,a4 as Ce,m as S,t as ae,d as ce,C as P,a5 as O,a6 as W,a7 as Ae,a8 as ie,A as Z,E as Se,Z as Le,h as Te,a9 as $e,X as Ie,aa as Ee,ab as ze,M as _e,ac as Pe,ad as Re,f as Me,n as Ue,c as De,U as Fe,j as He,z as Ge,$ as Be}from"./ui-D28CUlI4.js";import{a as J}from"./index-BG4VaISf.js";const qe=({url:t,caption:a})=>{const[i,r]=g.useState(!0),[c,h]=g.useState(!1),n=g.useRef(null),s=(o=>{if(!o)return null;const l=[/instagram\.com\/p\/([^\/\?]+)/,/instagram\.com\/reel\/([^\/\?]+)/,/instagram\.com\/tv\/([^\/\?]+)/,/instagr\.am\/p\/([^\/\?]+)/];for(const m of l){const x=o.match(m);if(x)return x[1]}return null})(t);return g.useEffect(()=>{c&&n.current&&(n.current.style.willChange="contents")},[c]),s?e.jsx("div",{className:"my-12 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-3xl px-4",children:[e.jsxs("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl border border-gray-800",style:{contain:"layout style paint",willChange:"contents",isolation:"isolate",maxWidth:"100%"},children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-[2px]",children:e.jsx("div",{className:"bg-black p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Post Instagram"})]}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:["Ouvrir dans Instagram",e.jsx(Q,{size:12})]})]})})}),e.jsxs("div",{className:"relative bg-black",style:{height:"1100px",minHeight:"1100px",maxHeight:"1100px",contain:"strict",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[i&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black pointer-events-none",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"w-8 h-8 text-white animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du post Instagram..."})]})}),e.jsx("iframe",{ref:n,src:`https://www.instagram.com/p/${s}/embed`,className:`w-full transition-opacity duration-500 ${c?"opacity-100":"opacity-0"}`,style:{border:"none",height:"1100px",minHeight:"1100px",backgroundColor:"#000",position:"absolute",top:0,left:0,right:0,willChange:"contents",transform:"translateZ(0)"},frameBorder:"0",scrolling:"no",allowTransparency:!0,onLoad:()=>{r(!1),setTimeout(()=>h(!0),100)},title:`Instagram post ${s}`,importance:"high",fetchpriority:"high",decoding:"sync",sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation"},`instagram-${s}`)]})]}),a&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic",children:a})})]})}):e.jsx("div",{className:"my-12 flex justify-center",children:e.jsx("div",{className:"w-full max-w-3xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(q,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Post Instagram non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-all",children:[e.jsx(q,{className:"w-4 h-4"}),"Voir sur Instagram"]})]})})})},Ve=ne.memo(qe,(t,a)=>t.url===a.url&&t.caption===a.caption),Ye=({value:t})=>{const[a,i]=g.useState(!0),[r,c]=g.useState(()=>localStorage.getItem("youtube-cookies-accepted")==="true"),n=(s=>{if(!s)return null;const o=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/,/youtube\.com\/shorts\/([^&\n?#]+)/];for(const l of o){const m=s.match(l);if(m)return m[1]}return null})((t==null?void 0:t.url)||"");if(!n)return e.jsxs("div",{className:"my-8 p-6 bg-gray-900/50 rounded-xl border border-gray-700 text-center",children:[e.jsx("p",{className:"text-gray-400",children:"Vid√©o YouTube non disponible"}),(t==null?void 0:t.url)&&e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Voir sur YouTube"]})]});if(!r)return e.jsx("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500 opacity-50",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Vid√©o YouTube"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Cette vid√©o n√©cessite l'acceptation des cookies YouTube pour √™tre visionn√©e"}),e.jsxs("button",{onClick:()=>{c(!0),localStorage.setItem("youtube-cookies-accepted","true")},className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Accepter et voir la vid√©o"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"En acceptant, vous autorisez le chargement de contenu depuis YouTube"})]})});const d=new URL(`https://www.youtube.com/embed/${n}`);return t!=null&&t.startTime&&d.searchParams.set("start",t.startTime.toString()),t!=null&&t.autoplay&&(d.searchParams.set("autoplay","1"),d.searchParams.set("mute","1")),d.searchParams.set("rel","0"),d.searchParams.set("modestbranding","1"),d.searchParams.set("controls","1"),d.searchParams.set("showinfo","0"),d.searchParams.set("iv_load_policy","3"),e.jsxs("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:[e.jsxs("div",{className:"relative w-full bg-black rounded-xl overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:[a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-gray-700 border-t-red-500 rounded-full animate-spin mb-4 mx-auto"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement de la vid√©o YouTube..."})]})}),e.jsx("iframe",{src:d.toString(),title:(t==null?void 0:t.caption)||`YouTube video ${n}`,className:`absolute top-0 left-0 w-full h-full ${a?"opacity-0":"opacity-100"} transition-opacity duration-500`,style:{border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy",onLoad:()=>i(!1)})]}),(t==null?void 0:t.caption)&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:t.caption})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("a",{href:`https://www.youtube.com/watch?v=${n}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-gray-400 transition-colors",children:["Ouvrir sur YouTube",e.jsx(Q,{size:12})]})})]})},Oe=({url:t,caption:a})=>{const[i,r]=g.useState(!0),[c,h]=g.useState(!1),n=g.useRef(null),s=(o=>{if(!o)return null;const l=[/twitter\.com\/\w+\/status\/(\d+)/,/x\.com\/\w+\/status\/(\d+)/,/twitter\.com\/statuses\/(\d+)/,/x\.com\/statuses\/(\d+)/];for(const m of l){const x=o.match(m);if(x)return x[1]}return null})(t);return g.useEffect(()=>{if(!s||!n.current){h(!0),r(!1);return}if(window.twttr)window.twttr.widgets.createTweet(s,n.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{r(!1)}).catch(()=>{h(!0),r(!1)});else{const o=document.createElement("script");o.src="https://platform.twitter.com/widgets.js",o.async=!0,o.onload=()=>{window.twttr&&n.current&&window.twttr.widgets.createTweet(s,n.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{r(!1)}).catch(()=>{h(!0),r(!1)})},document.body.appendChild(o)}return()=>{n.current&&(n.current.innerHTML="")}},[s]),!s||c?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Tweet non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:s?"Impossible de charger le tweet":"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all",children:[e.jsx(Y,{className:"w-4 h-4"}),"Voir sur X/Twitter",e.jsx(Ce,{size:14})]})]})})}):e.jsx("div",{className:"my-10 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"relative",children:[i&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"w-8 h-8 text-blue-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du tweet..."})]})}),e.jsx("div",{ref:n,className:"twitter-embed-container",style:{minHeight:i?"200px":"auto"}})]}),a&&!i&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:a})})]})})},We=t=>{if(!t)return"center center";const a=Math.round(t.x*100),i=Math.round(t.y*100);return`${a}% ${i}%`},Ze=({article:t,colors:a})=>{var n,d,s,o,l,m,x,f,N,y;console.log("ArticleHero - mainImage data:",{mainImage:t.mainImage,hasAsset:!!((n=t.mainImage)!=null&&n.asset),assetUrl:(s=(d=t.mainImage)==null?void 0:d.asset)==null?void 0:s.url,assetRef:(l=(o=t.mainImage)==null?void 0:o.asset)==null?void 0:l._ref,hasHotspot:!!((m=t.mainImage)!=null&&m.hotspot),hotspotValues:(x=t.mainImage)==null?void 0:x.hotspot,hasCrop:!!((f=t.mainImage)!=null&&f.crop),cropValues:(N=t.mainImage)==null?void 0:N.crop});const i=(y=t.mainImage)==null?void 0:y.hotspot,r=We(i);console.log("ArticleHero - Calculated position:",r);const h=(()=>{if(!t.mainImage||!t.mainImage.asset)return null;if(t.mainImage.asset.url)return console.log("Using direct URL:",t.mainImage.asset.url),t.mainImage.asset.url;if(t.mainImage.asset._ref)try{const u=J(t.mainImage).width(1920).height(1080).quality(90).url();return console.log("Generated URL from ref:",u),u}catch(u){console.error("Error generating URL from ref:",u)}return null})();return e.jsxs("section",{className:"relative min-h-[80vh] md:min-h-[90vh] flex items-end overflow-hidden bg-gradient-to-br from-gray-900 to-black",children:[e.jsxs("div",{className:"absolute inset-0",children:[h?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:h,alt:t.title,className:"absolute inset-0 w-full h-full object-cover",style:{opacity:.9,objectPosition:r},onError:u=>{console.error("Erreur chargement image:",h),u.target.src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80"}}),!1]}):e.jsx("img",{src:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80",alt:"Article background",className:"absolute inset-0 w-full h-full object-cover",style:{opacity:.9,objectPosition:"center 30%"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/4 bg-gradient-to-t from-black/90 via-black/50 to-transparent"})]}),e.jsxs("div",{className:"relative container mx-auto px-4 pb-16 pt-48",children:[e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-sm mb-8 backdrop-blur-md bg-black/50 rounded-full px-5 py-2.5 w-fit border border-white/20",children:[e.jsx(C,{to:"/",className:"text-white font-medium hover:text-gray-200 transition-colors",children:"Accueil"}),e.jsx(ae,{size:16,className:"text-gray-400"}),e.jsx(C,{to:"/articles",className:"text-white font-medium hover:text-gray-200 transition-colors",children:"Articles"}),t.categories&&t.categories[0]&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{size:16,className:"text-gray-400"}),e.jsx(C,{to:`/rubrique/${t.categories[0].slug.current}`,className:"font-semibold transition-colors",style:{color:a.textColor},onMouseEnter:u=>{u.currentTarget.style.color=a.primary,u.currentTarget.style.textShadow=`0 0 20px ${a.primary}50`},onMouseLeave:u=>{u.currentTarget.style.color=a.textColor,u.currentTarget.style.textShadow="none"},children:t.categories[0].title})]})]}),e.jsx(S.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-6 max-w-full lg:max-w-[90%] leading-[1.1] tracking-tight",children:t.title}),e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-wrap items-center gap-4 text-gray-300 text-sm",children:t.publishedAt&&e.jsxs("span",{className:"flex items-center gap-2 bg-black/30 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[e.jsx(ce,{size:14}),new Date(t.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})})]})]})},Qe=({article:t,colors:a,isEmission:i=!1})=>{var d;const[r,c]=g.useState(!1),h=s=>{navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},n={block:{h1:({children:s})=>e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6 mt-12",children:s}),h2:({children:s,value:o})=>{var x,f;const m=`h2-${(((f=(x=o==null?void 0:o.children)==null?void 0:x[0])==null?void 0:f.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsxs("h2",{id:m,className:"text-3xl font-bold mb-6 text-white relative inline-block mt-10 scroll-mt-24",children:[s,e.jsx("span",{className:"absolute -bottom-2 left-0 w-20 h-1 rounded-full",style:{background:a.bgGradient}})]})},h3:({children:s,value:o})=>{var x,f;const m=`h3-${(((f=(x=o==null?void 0:o.children)==null?void 0:x[0])==null?void 0:f.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsx("h3",{id:m,className:"text-2xl font-bold text-white mb-4 mt-8 scroll-mt-24",children:s})},normal:({children:s})=>e.jsx("p",{className:"text-lg leading-relaxed text-gray-300 mb-6",children:s}),blockquote:({children:s})=>e.jsx("blockquote",{className:"relative my-8 p-6 border-l-4 rounded-r-xl",style:{background:a.bgLight,borderLeftColor:a.primary},children:e.jsx("p",{className:"text-xl text-white italic",children:s})})},list:{bullet:({children:s})=>e.jsx("ul",{className:"space-y-3 my-6 ml-6",children:s}),number:({children:s})=>e.jsx("ol",{className:"space-y-3 my-6 ml-6 list-decimal",children:s})},listItem:{bullet:({children:s})=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-300",children:[e.jsx("span",{className:"mt-1",style:{color:a.textColor},children:"‚ñ∏"}),e.jsx("span",{children:s})]}),number:({children:s})=>e.jsx("li",{className:"text-gray-300",children:s})},marks:{strong:({children:s})=>e.jsx("strong",{className:"font-bold text-white",children:s}),em:({children:s})=>e.jsx("em",{className:"italic",children:s}),code:({children:s})=>e.jsx("code",{className:"px-2 py-1 rounded text-sm",style:{background:a.bgLight,color:a.textColor},children:s}),link:({value:s,children:o})=>e.jsx("a",{href:s==null?void 0:s.href,className:"underline transition-colors",style:{color:a.textColor},onMouseEnter:l=>{l.currentTarget.style.color=a.primary},onMouseLeave:l=>{l.currentTarget.style.color=a.textColor},target:"_blank",rel:"noopener noreferrer",children:o})},types:{image:({value:s})=>e.jsxs("figure",{className:"my-12",children:[e.jsx("img",{src:J(s).width(1200).url(),alt:s.alt||"Image de l'article",className:"w-full rounded-xl max-w-full"}),s.caption&&e.jsx("figcaption",{className:"text-center text-sm text-gray-400 mt-4",children:s.caption})]}),code:({value:s})=>e.jsxs("div",{className:"relative bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden my-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-900/80 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:s.language||"code"})]}),e.jsxs("button",{onClick:()=>h(s.code),className:"text-xs bg-blue-500/20 text-blue-400 px-3 py-1 rounded hover:bg-blue-500/30 transition-colors flex items-center gap-1",children:[r?e.jsx(O,{size:12}):e.jsx(W,{size:12}),r?"Copi√©!":"Copier"]})]}),e.jsx("pre",{className:"p-4 text-sm overflow-x-auto",children:e.jsx("code",{className:"text-gray-300",children:s.code})})]}),instagram:({value:s})=>e.jsx(Ve,{url:s==null?void 0:s.url,caption:s==null?void 0:s.caption}),youtube:({value:s})=>e.jsx(Ye,{value:s}),twitter:({value:s})=>e.jsx(Oe,{url:s==null?void 0:s.url,caption:s==null?void 0:s.caption})}};return e.jsxs(e.Fragment,{children:[t.excerpt&&e.jsxs("div",{className:"mb-10 relative max-w-full overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full",style:{background:a.bgGradient,opacity:.6}}),e.jsx("div",{className:"pl-6 pr-2",children:e.jsx("p",{className:"text-lg md:text-xl lg:text-2xl leading-relaxed text-gray-200 font-light italic break-words",children:t.excerpt})}),e.jsxs("div",{className:"mt-10 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-[1px] flex-1",style:{background:`linear-gradient(to right, transparent, ${a.primary}40, transparent)`}}),e.jsx("div",{className:"relative",style:{color:a.primary},children:e.jsx(P,{size:24,className:"animate-bounce",style:{opacity:.6}})}),e.jsx("div",{className:"h-[1px] flex-1",style:{background:`linear-gradient(to left, transparent, ${a.primary}40, transparent)`}})]}),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-3 uppercase tracking-wider",children:"Continuer la lecture"})]})]}),i&&t.videoUrl&&e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${((d=t.videoUrl.split("v=")[1])==null?void 0:d.split("&")[0])||t.videoUrl.split("/").pop()}`,title:t.title,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.jsx("div",{className:"mt-4 p-4 bg-white/5 rounded-lg border border-white/10",children:e.jsx("p",{className:"text-sm text-gray-400",children:"üì∫ √âmission compl√®te"})})]}),e.jsxs("div",{className:"prose prose-invert prose-lg max-w-none overflow-hidden",children:[(t.body||t.content)&&e.jsx(be,{value:t.body||t.content,components:n}),!t.body&&!t.content&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400 px-2",children:"Le contenu de cet article est en cours de r√©daction."})})]}),t.keyPoints&&Array.isArray(t.keyPoints)&&t.keyPoints.length>0&&e.jsxs("div",{className:"mt-12 p-6 rounded-xl",style:{background:a.bgLight,border:`1px solid ${a.borderColor}`},children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"üí°"}),"Points cl√©s √† retenir"]}),e.jsx("ul",{className:"space-y-2 text-gray-300",children:t.keyPoints.map((s,o)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{style:{color:a.primary},children:"‚ñ∏"}),e.jsx("span",{children:s})]},o))})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-white/10",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((s,o)=>e.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-gray-400 hover:bg-white/10 hover:text-white transition-colors cursor-pointer",children:["#",s.title]},o))})}),e.jsxs("div",{className:`mt-16 p-6 md:p-8 bg-gradient-to-br ${a.gradient}/10 rounded-2xl border`,style:{borderColor:a.borderColor},children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4 whitespace-nowrap",children:"Vous avez aim√© cet article¬†?"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Notre newsletter arrive bient√¥t ! En attendant, partagez cet article avec votre r√©seau."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 py-3 px-6 bg-white/10 text-white/50 rounded-lg font-medium text-center cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx("span",{children:"üì¨"}),e.jsx("span",{children:"Newsletter bient√¥t disponible"})]}),e.jsx("button",{onClick:()=>{const s=window.location.href;navigator.clipboard.writeText(s)},className:"flex-1 py-3 px-6 bg-white/10 hover:bg-white/20 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:"Partager l'article"})]})]})]})},de=({author:t,publishedAt:a,colors:i,variant:r="desktop"})=>{const c=r==="mobile"?"lg:hidden mb-10":"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-md rounded-2xl border border-gray-700/50 p-6",h=r==="mobile"?"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/30 p-5":"",n=r==="mobile"?{width:64,height:64,iconSize:24,className:"w-16 h-16"}:{width:80,height:80,iconSize:32,className:"w-20 h-20"},d=ne.useMemo(()=>{try{if(t.imageUrl&&typeof t.imageUrl=="string"&&t.imageUrl.length>0&&(t.imageUrl.startsWith("http")||t.imageUrl.startsWith("//")))return t.imageUrl;if(t.image){if(typeof t.image=="string"&&t.image.startsWith("http"))return t.image;if(t.image.asset){if(typeof t.image.asset=="string"&&t.image.asset.startsWith("http"))return t.image.asset;if(t.image.asset._ref&&typeof t.image.asset._ref=="string"&&t.image.asset._ref.startsWith("http"))return t.image.asset._ref;if(t.image.asset._ref&&typeof t.image.asset._ref=="string"&&t.image.asset._ref.includes("image-"))try{const s=J(t.image).width(n.width*2).height(n.height*2).url();if(s&&!s.includes("undefined"))return s}catch(s){console.error("Error with urlFor:",s)}}if(t.image.url&&typeof t.image.url=="string")return t.image.url}return null}catch(s){return console.error("Error in getAuthorImageUrl:",s),null}},[t.image,t.imageUrl,t.name,n.width,n.height]);return e.jsx("div",{className:c,children:e.jsxs("div",{className:h,children:[e.jsxs("div",{className:`flex ${r==="mobile"?"items-start":"items-center"} gap-4 ${r==="desktop"?"mb-4":""}`,children:[d?e.jsx("img",{src:d,alt:t.name,className:`${n.className} rounded-full object-cover flex-shrink-0 ring-2 ring-white/10`,loading:"lazy",onError:s=>{const o=s.currentTarget;o.style.display="none";const l=o.parentElement;if(l&&!l.querySelector(".author-fallback")){const m=document.createElement("div");m.className=`author-fallback ${n.className} rounded-full flex items-center justify-center flex-shrink-0 ring-2 ring-white/10`,m.style.background=i.bgGradient||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",m.innerHTML=`
                    <svg width="${n.iconSize}" height="${n.iconSize}" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                      <circle cx="12" cy="7" r="4"/>
                    </svg>
                  `,l.appendChild(m)}}}):e.jsx("div",{className:`${n.className} rounded-full flex items-center justify-center flex-shrink-0 ring-2 ring-white/10`,style:{background:i.bgGradient||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx(Ae,{size:n.iconSize,className:"text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-xs text-gray-400 ${r==="mobile"?"mb-0.5":"mb-1"}`,children:"√âcrit par"}),e.jsx("h3",{className:`${r==="mobile"?"text-base":"text-lg"} font-semibold text-white mb-1`,children:t.name}),r==="desktop"&&a&&e.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ce,{size:12}),e.jsx("span",{children:new Date(a).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})}),r==="mobile"&&t.bio&&e.jsx("p",{className:"text-xs text-gray-300 leading-relaxed mt-2",children:t.bio}),r==="mobile"&&e.jsx(C,{to:`/auteur/${t.name.toLowerCase().replace(/\s+/g,"-")}`,className:"inline-block mt-3 text-xs font-medium transition-colors",style:{color:i.textColor},onMouseEnter:s=>{s.currentTarget.style.color=i.primary},onMouseLeave:s=>{s.currentTarget.style.color=i.textColor},children:"Voir tous ses articles ‚Üí"})]})]}),r==="desktop"&&e.jsxs(e.Fragment,{children:[t.bio&&e.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-4",children:t.bio}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:e.jsx(C,{to:`/auteur/${t.name.toLowerCase().replace(/\s+/g,"-")}`,className:"block w-full py-2 px-4 rounded-lg text-sm font-medium transition-colors text-center",style:{background:i.bgLight||"rgba(255, 255, 255, 0.05)",color:i.textColor||"#fff"},onMouseEnter:s=>{s.currentTarget.style.background=i.bgMedium||"rgba(255, 255, 255, 0.1)"},onMouseLeave:s=>{s.currentTarget.style.background=i.bgLight||"rgba(255, 255, 255, 0.05)"},children:"Voir tous ses articles"})})]})]})})},me=({headings:t,activeSection:a,scrollProgress:i,colors:r,variant:c="desktop",mobileMenuOpen:h=!1,setMobileMenuOpen:n})=>{const[d,s]=g.useState({});if(!t||t.length===0)return null;const o=l=>{c==="mobile"&&n&&n(!1);const m=document.getElementById(l);m&&m.scrollIntoView({behavior:"smooth",block:"start"})};return c==="mobile"?e.jsx("div",{className:"lg:hidden container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n&&n(!h),className:"w-full p-5 border-b flex items-center justify-between",style:{borderColor:r.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:r.bgGradient},children:e.jsx(ie,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des mati√®res"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(P,{size:20,className:`text-gray-400 transition-transform ${h?"rotate-180":""}`})]}),e.jsx(Z,{children:h&&e.jsx(S.nav,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"p-4 max-h-[400px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:e.jsx("div",{className:"space-y-2 max-w-full",children:t.map((l,m)=>{const x=a===l.id,f=l.subheadings.length>0,N=d[l.id];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:`#${l.id}`,onClick:y=>{y.preventDefault(),o(l.id)},className:`flex-1 flex items-center gap-3 py-3 px-3 rounded-xl transition-all ${x?"bg-white/10":"hover:bg-white/5"}`,style:{borderLeft:x?`3px solid ${r.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0",style:{background:x?r.primary:r.bgLight,color:x?"#000":r.textColor},children:m+1}),e.jsx("span",{className:`text-sm ${x?"text-white font-medium":"text-gray-300"} break-words line-clamp-2`,children:l.text})]}),f&&e.jsx("button",{onClick:y=>{y.preventDefault(),y.stopPropagation(),s(u=>({...u,[l.id]:!u[l.id]}))},className:"p-2 rounded-lg hover:bg-white/10 transition-all",children:e.jsx(P,{size:16,className:`transition-transform ${N?"rotate-180":""}`,style:{color:r.textColor}})})]}),f&&N&&e.jsx("div",{className:"ml-8 mt-1 space-y-1",children:l.subheadings.map(y=>e.jsxs("a",{href:`#${y.id}`,onClick:u=>{u.preventDefault(),o(y.id)},className:"flex items-center gap-2 py-2 px-3 rounded-lg text-sm hover:bg-white/5",style:{color:a===y.id?r.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:a===y.id?r.primary:"#4b5563"}}),y.text]},y.id))})]},l.id)})})})})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"p-5 border-b",style:{borderColor:r.borderColor+"30"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:r.bgGradient},children:e.jsx(ie,{size:18,className:"text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-white/20 animate-pulse",style:{background:r.primary+"40"}})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des mati√®res"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]})}),e.jsx("nav",{className:"p-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:t.map((l,m)=>{const x=a===l.id,f=l.subheadings.length>0,N=d[l.id],y=l.subheadings.some(u=>a===u.id);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsxs("a",{href:`#${l.id}`,className:`
                      flex-1 flex items-center gap-3 py-3 px-4 rounded-xl
                      transition-all duration-300 relative overflow-hidden
                      ${x?"bg-gradient-to-r":"hover:bg-white/5"}
                    `,style:{background:x?`linear-gradient(90deg, ${r.bgLight}, transparent)`:y?r.bgLight+"50":void 0,borderLeft:x?`3px solid ${r.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:`
                        w-7 h-7 rounded-lg flex items-center justify-center
                        text-xs font-bold transition-all duration-300
                        ${x?"scale-110":""}
                      `,style:{background:x?r.primary:r.bgLight,color:x?"#000":r.textColor},children:m+1}),e.jsx("span",{className:`
                        flex-1 font-medium transition-colors duration-300
                        ${x?"text-white":"text-gray-300 group-hover:text-white"}
                      `,children:l.text}),x&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-green-500",children:"En cours"})]})]}),f&&e.jsx("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),s(v=>({...v,[l.id]:!v[l.id]}))},className:"p-1.5 rounded-lg transition-all duration-300 hover:bg-white/10",style:{color:r.textColor},children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{size:16,className:`transition-transform duration-300 ${N?"rotate-180":""}`}),!N&&l.subheadings.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full",style:{background:r.primary+"60"}})]})})]}),e.jsx(Z,{children:f&&N&&e.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"ml-8 mt-1 space-y-1 border-l-2 border-gray-700/50 pl-4",children:l.subheadings.map(u=>{const v=a===u.id;return e.jsxs("a",{href:`#${u.id}`,className:`
                                flex items-center gap-2 py-2 px-3 rounded-lg
                                text-sm transition-all duration-200
                                ${v?"bg-white/10":"hover:bg-white/5"}
                              `,style:{color:v?r.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:v?r.primary:"#4b5563"}}),e.jsx("span",{className:"line-clamp-1",children:u.text}),v&&e.jsx(Se,{size:12,className:"ml-auto",style:{color:r.primary}})]},u.id)})})})})]},l.id)})})}),e.jsxs("div",{className:"p-4 border-t",style:{borderColor:r.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Progression de lecture"}),e.jsxs("span",{className:"text-xs font-medium",style:{color:r.textColor},children:[Math.round(i),"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(S.div,{className:"h-full rounded-full",style:{background:r.bgGradient,width:`${i}%`},transition:{duration:.1}})})]})]})},Je=({article:t,relatedArticles:a,latestArticles:i=[],headings:r,activeSection:c,scrollProgress:h,colors:n,onShare:d})=>{const[s,o]=g.useState("flash"),[l,m]=g.useState([]),[x,f]=g.useState([]),[N,y]=g.useState([]),[u,v]=g.useState(!0);g.useEffect(()=>{(async()=>{try{v(!0);const j=await le();if(j&&j.length>0){m(j.slice(0,10));const T=j.filter(E=>E.isTrending).slice(0,10);f(T.length>0?T:j.slice(0,5));const R=j.filter(E=>E.contentType==="emission").slice(0,10);y(R)}}catch(j){console.error("Erreur chargement articles Flash:",j)}finally{v(!1)}})()},[]);const X=b=>new Date(b).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),I=(()=>{switch(s){case"flash":return l;case"trending":return x;case"emissions":return N;default:return l}})(),G=[{id:"flash",label:"Flash",icon:Le,color:"text-yellow-400"},{id:"trending",label:"Tendances",icon:Te,color:"text-pink-500"},{id:"emissions",label:"√âmissions",icon:$e,color:"text-blue-400"}];return e.jsxs("div",{className:"space-y-6",children:[t.author&&e.jsx(de,{author:t.author,publishedAt:t.publishedAt,colors:n,variant:"desktop"}),r&&r.length>0&&e.jsx("div",{className:"sticky top-24",children:e.jsx(me,{headings:r,activeSection:c,scrollProgress:h,colors:n,variant:"desktop"})}),e.jsx("div",{className:"bg-gray-900/50 border border-dashed border-gray-700 rounded-xl p-4 flex items-center justify-center min-h-[250px]",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"Emplacement Pub (300x250)"})}),e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-700/50",children:e.jsx("div",{className:"flex",children:G.map(b=>{const j=b.icon,T=s===b.id;return e.jsxs("button",{onClick:()=>o(b.id),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-3 text-sm font-medium transition-all relative ${T?"text-white bg-white/5":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(j,{size:14,className:T?b.color:""}),e.jsx("span",{className:"hidden sm:inline",children:b.label}),T&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5",style:{background:`linear-gradient(to right, ${n.primary}, ${n.secondary||n.primary})`}})]},b.id)})})}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:u?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-pink-500 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Chargement..."})]}):I.length===0?e.jsx("div",{className:"p-6 text-center text-gray-400 text-sm",children:"Aucun article disponible"}):e.jsx("div",{className:"divide-y divide-gray-800/50",children:I.map((b,j)=>e.jsxs(C,{to:`/article/${b.slug.current}`,className:"flex items-start gap-3 p-3 hover:bg-white/5 transition-colors group",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono w-12 flex-shrink-0 pt-0.5",children:X(b.publishedAt||new Date().toISOString())}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm text-gray-300 group-hover:text-white transition-colors line-clamp-2 leading-snug",children:b.title}),b.categories&&b.categories[0]&&e.jsx("span",{className:"inline-block mt-1 text-xs text-gray-500",children:b.categories[0].title})]})]},b._id))})}),e.jsx("div",{className:"border-t border-gray-700/50 p-3",children:e.jsxs(C,{to:"/articles",className:"flex items-center justify-center gap-2 text-sm text-gray-400 hover:text-white transition-colors",children:[e.jsx("span",{children:"Voir tous les articles"}),e.jsx(P,{size:14})]})})]}),e.jsx("div",{className:"bg-gray-900/50 border border-dashed border-gray-700 rounded-xl p-4 flex items-center justify-center min-h-[250px]",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"Emplacement Pub (300x250)"})}),a.length>0&&e.jsxs("div",{className:"bg-gray-900/30 backdrop-blur-md rounded-2xl border border-gray-700/50 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üì∞"})," √Ä lire aussi"]}),e.jsx("div",{className:"space-y-3",children:a.slice(0,3).map(b=>e.jsx(C,{to:`/article/${b.slug.current}`,className:"group block",children:e.jsxs("div",{className:"flex gap-3 p-2 rounded-lg hover:bg-white/5 transition-all",children:[b.mainImage&&b.mainImage.asset&&b.mainImage.asset._ref&&e.jsx("img",{src:`https://cdn.sanity.io/images/5rn8u6ed/production/${b.mainImage.asset._ref.replace("image-","").replace("-jpg",".jpg").replace("-png",".png").replace("-webp",".webp")}?w=80&h=60&fit=crop&auto=format`,alt:b.title,className:"w-16 h-12 object-cover rounded flex-shrink-0"}),e.jsx("h4",{className:"text-xs text-gray-300 group-hover:text-white transition-colors line-clamp-2 flex-1",children:b.title})]})},b._id))})]}),e.jsx("div",{className:"bg-gray-900/50 border border-dashed border-gray-700 rounded-xl p-4 flex items-center justify-center min-h-[600px]",children:e.jsxs("span",{className:"text-gray-500 text-sm text-center",children:["Emplacement Pub",e.jsx("br",{}),"(300x600)"]})})]})},Xe=({articles:t,colors:a})=>{if(t.length===0)return null;const i=r=>{var c,h;return(c=r==null?void 0:r.asset)!=null&&c.url?r.asset.url:(h=r==null?void 0:r.asset)!=null&&h._ref?`https://cdn.sanity.io/images/5rn8u6ed/production/${r.asset._ref.replace("image-","").replace("-jpg",".jpg").replace("-jpeg",".jpeg").replace("-png",".png").replace("-webp",".webp")}?w=400&h=250&fit=crop&auto=format`:null};return e.jsx("section",{className:"py-20 bg-gradient-to-b from-transparent via-gray-900/20 to-transparent",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(S.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Continuez votre lecture"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"D√©couvrez d'autres articles qui pourraient vous int√©resser"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.slice(0,6).map((r,c)=>{var s;const n=(()=>{var l,m,x,f;switch((f=(x=(m=(l=r.categories)==null?void 0:l[0])==null?void 0:m.slug)==null?void 0:x.current)==null?void 0:f.toLowerCase()){case"story":case"recits":return{gradient:"from-amber-500 to-orange-500",primary:"#f59e0b",textColor:"#fbbf24",borderColor:"rgba(245, 158, 11, 0.3)"};case"business":return{gradient:"from-blue-500 to-cyan-500",primary:"#3b82f6",textColor:"#60a5fa",borderColor:"rgba(59, 130, 246, 0.3)"};case"mental":case"psycho":return{gradient:"from-purple-500 to-violet-500",primary:"#a855f7",textColor:"#c084fc",borderColor:"rgba(168, 85, 247, 0.3)"};case"society":return{gradient:"from-emerald-500 to-teal-500",primary:"#10b981",textColor:"#34d399",borderColor:"rgba(16, 185, 129, 0.3)"};default:return{gradient:"from-gray-500 to-gray-600",primary:"#6b7280",textColor:"#9ca3af",borderColor:"rgba(107, 114, 128, 0.3)"}}})(),d=i(r.mainImage);return e.jsx(S.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},className:"group",children:e.jsx(C,{to:`/article/${r.slug.current}`,children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-white/5 border transition-all hover:transform hover:scale-105",style:{borderColor:n.borderColor},onMouseEnter:o=>{o.currentTarget.style.borderColor=n.primary},onMouseLeave:o=>{o.currentTarget.style.borderColor=n.borderColor},children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-900",children:[d?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:d,alt:r.title||"Article image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy",onError:o=>{const l=o.currentTarget;l.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})]}):e.jsx("div",{className:`w-full h-full bg-gradient-to-br ${n.gradient} opacity-50`,children:e.jsx("div",{className:"absolute inset-0 bg-black/40"})}),r.categories&&r.categories[0]&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium text-white bg-gradient-to-r ${n.gradient} shadow-lg`,children:r.categories[0].title})}),r.readingTime&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium text-white bg-black/60 backdrop-blur",children:[r.readingTime," min"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3 line-clamp-2 group-hover:text-opacity-90 transition-colors",children:r.title}),r.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-4",children:r.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[((s=r.author)==null?void 0:s.name)&&e.jsxs("span",{className:"truncate max-w-[60%]",children:["Par ",r.author.name]}),r.publishedAt&&e.jsx("span",{children:new Date(r.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300",style:{background:`linear-gradient(to right, ${n.primary}, ${n.textColor})`}})]})})},r._id)})}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(C,{to:"/articles",className:`inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r ${a.gradient} hover:opacity-90 text-white rounded-lg font-medium transition-all transform hover:scale-105`,children:["Voir tous les articles",e.jsx(Q,{size:20})]})})]})})},Ke=({isOpen:t,onClose:a,shareUrl:i,shareTitle:r,shareText:c})=>{const[h,n]=g.useState(!1),d=()=>{navigator.clipboard.writeText(i),n(!0),setTimeout(()=>{n(!1),a()},1e3)},s=[{name:"Twitter",icon:Y,color:"hover:bg-blue-500/20 hover:text-blue-400",url:`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(i)}`},{name:"LinkedIn",icon:Ee,color:"hover:bg-blue-700/20 hover:text-blue-600",url:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(i)}`},{name:"Facebook",icon:ze,color:"hover:bg-blue-600/20 hover:text-blue-500",url:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i)}`},{name:"WhatsApp",icon:_e,color:"hover:bg-green-500/20 hover:text-green-400",url:`https://wa.me/?text=${encodeURIComponent(r+" "+i)}`},{name:"Telegram",icon:Pe,color:"hover:bg-sky-500/20 hover:text-sky-400",url:`https://t.me/share/url?url=${encodeURIComponent(i)}&text=${encodeURIComponent(r)}`},{name:"Email",icon:Re,color:"hover:bg-purple-500/20 hover:text-purple-400",url:`mailto:?subject=${encodeURIComponent(r)}&body=${encodeURIComponent(c+`

`+i)}`}];return e.jsx(Z,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]"}),e.jsxs(S.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"fixed inset-x-4 bottom-20 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-[90%] max-w-md bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-gray-700/50 shadow-2xl z-[101]",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 md:p-6 border-b border-gray-700/50",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:"Partager cet article"}),e.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Ie,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"p-5 md:p-6 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-3 gap-3",children:s.map(o=>{const l=o.icon;return e.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",onClick:a,className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10 transition-all ${o.color}`,children:[e.jsx(l,{size:20,className:"md:hidden"}),e.jsx(l,{size:24,className:"hidden md:block"}),e.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:o.name})]},o.name)})}),e.jsxs("div",{className:"pt-4 border-t border-gray-700/50",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mb-3",children:"Ou copier le lien"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i,readOnly:!0,className:"flex-1 px-3 py-2.5 md:px-4 md:py-3 bg-black/50 border border-gray-700 rounded-lg text-gray-300 text-xs md:text-sm"}),e.jsxs("button",{onClick:d,className:"px-3 py-2.5 md:px-4 md:py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm",children:[h?e.jsx(O,{size:16,className:"md:hidden"}):e.jsx(W,{size:16,className:"md:hidden"}),h?e.jsx(O,{size:18,className:"hidden md:block"}):e.jsx(W,{size:18,className:"hidden md:block"}),e.jsx("span",{className:"hidden sm:inline",children:h?"Copi√©!":"Copier"})]})]})]})]})]})]})})},et=({colors:t,variant:a="desktop"})=>{const i=a==="mobile"?"lg:hidden mt-12":"";return e.jsx("div",{className:i,children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 opacity-90",style:{background:t.bgGradient}}),e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 transform rotate-45 translate-x-16 -translate-y-16",children:e.jsx("div",{className:"w-full h-full bg-white rounded-lg"})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 transform rotate-45 -translate-x-16 translate-y-16",children:e.jsx("div",{className:"w-full h-full bg-white rounded-lg"})})]}),e.jsxs("div",{className:"relative p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"px-2 py-1 bg-white/20 rounded text-xs font-semibold text-white uppercase",children:"Le Club √âlite"}),e.jsxs("span",{className:"px-2 py-1 bg-amber-500 text-black rounded text-xs font-bold flex items-center gap-1",children:[e.jsx(Me,{size:10}),"Bient√¥t"]})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center animate-pulse",children:e.jsx(Ue,{className:"w-8 h-8 text-black"})})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:"Quelque chose d'exceptionnel arrive"}),e.jsx("p",{className:"text-white/90 text-sm mb-4 text-center",children:"L'√©cosyst√®me premium pour les entrepreneurs d'exception est en pr√©paration."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx("span",{className:"text-amber-400",children:"‚úî"}),e.jsx("span",{children:"Acc√®s VIP aux contenus"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx("span",{className:"text-amber-400",children:"‚úî"}),e.jsx("span",{children:"Communaut√© priv√©e"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx("span",{className:"text-amber-400",children:"‚úî"}),e.jsx("span",{children:"Events mensuels exclusifs"})]})]}),e.jsx("div",{className:"w-full py-3 bg-white/10 text-white/60 rounded-xl font-bold text-center border border-white/20 cursor-not-allowed",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(De,{size:16,className:"text-amber-400"}),e.jsx("span",{children:"Ouverture prochaine"})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[e.jsx(Fe,{size:12,className:"text-white/60"}),e.jsx("p",{className:"text-xs text-white/60 text-center",children:"500+ personnes attendent d√©j√†"})]}),e.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[...Array(5)].map((r,c)=>e.jsx(He,{size:10,className:"fill-amber-400 text-amber-400"},c))})]})]})})},V=[{_id:"1",title:"Comment d√©buter en programmation web en 2024",slug:{current:"comment-debuter-programmation"},excerpt:"Guide complet pour apprendre la programmation web de z√©ro. D√©couvrez les langages essentiels, les outils indispensables et la roadmap parfaite pour devenir d√©veloppeur.",body:[{_type:"block",children:[{text:"La programmation web est l'un des domaines les plus accessibles et demand√©s du d√©veloppement logiciel. Que vous souhaitiez cr√©er des sites vitrines, des applications web complexes ou m√™me devenir freelance, ce guide vous donnera toutes les cl√©s pour r√©ussir.",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"Les langages fondamentaux",_type:"span"}]},{_type:"block",children:[{text:"HTML (HyperText Markup Language) est le squelette de toute page web. Il d√©finit la structure et le contenu : les titres, paragraphes, listes, liens, images, formulaires et tableaux.",_type:"span"}]},{_type:"block",children:[{text:"CSS (Cascading Style Sheets) s'occupe de la pr√©sentation : couleurs, polices, espacements, mise en page responsive, animations et transitions.",_type:"span"}]},{_type:"block",children:[{text:"JavaScript apporte l'interactivit√© : manipulation du DOM, gestion des √©v√©nements, communication avec les APIs.",_type:"span"}]}],publishedAt:"2024-12-01T10:00:00.000Z",author:{name:"Alex D√©veloppeur",bio:"D√©veloppeur fullstack passionn√© avec 5 ans d'exp√©rience. Sp√©cialis√© en React, Node.js et formations."},categories:[{title:"Programmation",slug:{current:"programmation"}},{title:"D√©butant",slug:{current:"debutant"}}],tags:[{title:"HTML",slug:{current:"html"}},{title:"CSS",slug:{current:"css"}},{title:"JavaScript",slug:{current:"javascript"}}],readingTime:8,views:1247,likes:89},{_id:"2",title:"Ma√Ætriser les React Hooks : Guide complet 2024",slug:{current:"react-hooks-guide"},excerpt:"D√©couvrez tous les secrets des React Hooks avec des exemples pratiques. useState, useEffect, useContext et hooks personnalis√©s expliqu√©s simplement.",body:[{_type:"block",children:[{text:"Les React Hooks ont r√©volutionn√© la fa√ßon d'√©crire des composants React. Fini les classes complexes, place √† des fonctions √©l√©gantes et r√©utilisables !",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"useState : G√©rer l'√©tat local",_type:"span"}]},{_type:"block",children:[{text:"Le hook le plus utilis√© pour g√©rer l'√©tat dans vos composants. Exemple : const [count, setCount] = useState(0);",_type:"span"}]}],publishedAt:"2024-11-28T14:30:00.000Z",author:{name:"Marie Frontend",bio:"Experte React avec une passion pour l'architecture frontend moderne."},categories:[{title:"React",slug:{current:"react"}},{title:"Avanc√©",slug:{current:"avance"}}],tags:[{title:"React",slug:{current:"react"}},{title:"Hooks",slug:{current:"hooks"}}],readingTime:12,views:892,likes:156},{_id:"3",title:"CSS Grid vs Flexbox : Quand utiliser quoi ?",slug:{current:"css-grid-vs-flexbox"},excerpt:"Comprendre les diff√©rences entre CSS Grid et Flexbox. D√©couvrez quand et comment utiliser chaque technique pour cr√©er des layouts parfaits.",body:[{_type:"block",children:[{text:"CSS Grid et Flexbox sont deux syst√®mes de mise en page puissants mais avec des objectifs diff√©rents. Ce guide vous aide √† choisir la bonne solution.",_type:"span"}]}],publishedAt:"2024-11-25T09:15:00.000Z",author:{name:"Sophie Design",bio:"Designer UI/UX sp√©cialis√©e dans les interfaces web modernes et accessibles."},categories:[{title:"CSS",slug:{current:"css"}},{title:"Design",slug:{current:"design"}}],tags:[{title:"CSS",slug:{current:"css"}},{title:"Layout",slug:{current:"layout"}}],readingTime:6,views:654,likes:78},{_id:"4",title:"API REST vs GraphQL : Le guide complet",slug:{current:"api-rest-vs-graphql"},excerpt:"Comparaison d√©taill√©e entre REST et GraphQL. Avantages, inconv√©nients, et cas d'usage pour vous aider √† faire le bon choix architectural.",body:[{_type:"block",children:[{text:"Le choix entre REST et GraphQL est crucial pour votre architecture. Chaque approche a ses avantages selon votre contexte projet.",_type:"span"}]}],publishedAt:"2024-11-22T16:45:00.000Z",author:{name:"Thomas Backend",bio:"Architecte logiciel sp√©cialis√© dans les APIs et les syst√®mes distribu√©s."},categories:[{title:"Backend",slug:{current:"backend"}},{title:"API",slug:{current:"api"}}],tags:[{title:"REST",slug:{current:"rest"}},{title:"GraphQL",slug:{current:"graphql"}}],readingTime:10,views:1089,likes:134}];class tt{static delay(a=300){return new Promise(i=>setTimeout(i,a))}static async getAllArticles(){return await this.delay(),[...V].sort((a,i)=>new Date(i.publishedAt).getTime()-new Date(a.publishedAt).getTime())}static async getArticleBySlug(a){return await this.delay(),V.find(i=>i.slug.current===a)||null}static async getRelatedArticles(a,i=3){return await this.delay(),V.filter(r=>r._id!==a).slice(0,i)}}const F=t=>t?typeof t=="string"?t:t._type==="block"&&t.children?t.children.map(a=>a.text||"").join(""):Array.isArray(t)?t.map(a=>a._type==="block"&&a.children?a.children.map(i=>i.text||"").join(""):"").join(" "):t.text?t.text:"":"",st=t=>{var i,r,c,h;switch((h=(c=(r=(i=t==null?void 0:t.categories)==null?void 0:i[0])==null?void 0:r.slug)==null?void 0:c.current)==null?void 0:h.toLowerCase()){case"story":case"recits":return{gradient:"from-amber-500 to-orange-500",bgGradient:"linear-gradient(135deg, rgb(245 158 11), rgb(249 115 22))",primary:"#f59e0b",secondary:"#fb923c",bgLight:"rgba(245, 158, 11, 0.1)",bgMedium:"rgba(245, 158, 11, 0.2)",borderColor:"rgba(245, 158, 11, 0.3)",textColor:"#fbbf24"};case"business":return{gradient:"from-blue-500 to-cyan-500",bgGradient:"linear-gradient(135deg, rgb(59 130 246), rgb(6 182 212))",primary:"#3b82f6",secondary:"#06b6d4",bgLight:"rgba(59, 130, 246, 0.1)",bgMedium:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 0.3)",textColor:"#60a5fa"};case"mental":case"psycho":return{gradient:"from-purple-500 to-violet-500",bgGradient:"linear-gradient(135deg, rgb(168 85 247), rgb(139 92 246))",primary:"#a855f7",secondary:"#8b5cf6",bgLight:"rgba(168, 85, 247, 0.1)",bgMedium:"rgba(168, 85, 247, 0.2)",borderColor:"rgba(168, 85, 247, 0.3)",textColor:"#c084fc"};case"society":return{gradient:"from-emerald-500 to-teal-500",bgGradient:"linear-gradient(135deg, rgb(16 185 129), rgb(20 184 166))",primary:"#10b981",secondary:"#14b8a6",bgLight:"rgba(16, 185, 129, 0.1)",bgMedium:"rgba(16, 185, 129, 0.2)",borderColor:"rgba(16, 185, 129, 0.3)",textColor:"#34d399"};default:return{gradient:"from-blue-500 to-cyan-500",bgGradient:"linear-gradient(135deg, rgb(59 130 246), rgb(6 182 212))",primary:"#3b82f6",secondary:"#06b6d4",bgLight:"rgba(59, 130, 246, 0.1)",bgMedium:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 0.3)",textColor:"#60a5fa"}}},rt=t=>{if(!(t!=null&&t.body))return null;const a=[];let i=null;return t.body.filter(r=>r._type==="block"&&["h2","h3"].includes(r.style)).forEach(r=>{var d,s;const c=((s=(d=r.children)==null?void 0:d[0])==null?void 0:s.text)||"",n=`${r.style==="h2"?"h2-":"h3-"}${c.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;r.style==="h2"?(i={id:n,text:c,subheadings:[]},a.push(i)):r.style==="h3"&&(i?i.subheadings.push({id:n,text:c}):a.push({id:n,text:c,subheadings:[]}))}),a.length>0?a:null},ht=({isEmission:t=!1})=>{var ee,te;const{slug:a}=fe(),[i,r]=g.useState(null),[c,h]=g.useState([]),[n,d]=g.useState([]),[s,o]=g.useState(!0),[l,m]=g.useState(null),[x,f]=g.useState(!1),[N,y]=g.useState(!1),[u,v]=g.useState(0),[X,H]=g.useState("local"),[I,G]=g.useState(0),[b,j]=g.useState("intro"),[T,R]=g.useState(!1),[E,xe]=g.useState(!1);g.useEffect(()=>{const z=()=>{const U=document.documentElement.scrollHeight-window.innerHeight,D=window.scrollY/U*100;G(Math.min(D,100)),document.querySelectorAll("section[id], h2[id], h3[id]").forEach(p=>{const A=p.getBoundingClientRect();A.top<=150&&A.bottom>=150&&j(p.id)})};return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]),g.useEffect(()=>{(async()=>{var U;if(!a){m("Slug de l'article manquant."),o(!1);return}try{o(!0),m(null);const se=new URLSearchParams(window.location.search).get("preview")==="true";let p=null;try{p=await we(a,se),p&&(H("sanity"),p.excerpt&&(p.excerpt=F(p.excerpt)),(U=p.author)!=null&&U.bio&&(p.author.bio=F(p.author.bio)),p.keyPoints&&!Array.isArray(p.keyPoints)?delete p.keyPoints:p.keyPoints&&Array.isArray(p.keyPoints)&&(p.keyPoints=p.keyPoints.map(A=>typeof A=="string"?A:F(A)).filter(Boolean)))}catch(A){console.error("Erreur Sanity:",A)}if(p||(p=await tt.getArticleBySlug(a),H("local")),!p)m("Article non trouv√©");else{r(p),v(p.likes||0);const A=JSON.parse(localStorage.getItem("bookmarks")||"[]");f(A.includes(p._id));try{const B=(await le()).map(k=>({...k,excerpt:F(k.excerpt)}));let L;if(p.categories&&p.categories.length>0){const k=p.categories.map(w=>w._id);L=B.filter(w=>w._id===p._id?!1:w.categories&&w.categories.length>0?w.categories.some(_=>k.includes(_._id)):!1)}if(!L||L.length<6){const k=B.filter(w=>w._id!==p._id).filter(w=>!(L!=null&&L.some(_=>_._id===w._id)));L=[...L||[],...k].slice(0,6)}h(L||[]);const pe=B.filter(k=>k._id!==p._id).sort((k,w)=>{const _=new Date(k.publishedAt||k._createdAt).getTime();return new Date(w.publishedAt||w._createdAt).getTime()-_}).slice(0,6);d(pe)}catch(re){console.error("Erreur chargement articles li√©s:",re)}}}catch(D){console.error("Erreur lors du chargement:",D),m("Erreur lors du chargement de l'article")}finally{o(!1)}})()},[a,t]),g.useEffect(()=>{window.scrollTo(0,0)},[a]);const K=()=>{R(!0)},$=st(i),M=rt(i),ge=typeof window<"u"?window.location.href:"",he=(i==null?void 0:i.title)||"",ue=(i==null?void 0:i.excerpt)||"";return s?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(je,{})}):l||!i?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{message:l||"Article non trouv√©"}),e.jsxs(C,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 px-6 py-3 rounded-lg text-white transition-colors mt-4",children:[e.jsx(Ge,{size:20}),"Retour √† l'accueil"]})]})}):e.jsxs(ve,{children:[e.jsx(ye,{title:i.title,description:i.excerpt,keywords:(ee=i.tags)==null?void 0:ee.map(z=>z.title).join(", "),author:(te=i.author)==null?void 0:te.name,publishedTime:i.publishedAt,image:i.mainImage}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        /* Fix pour emp√™cher le scroll horizontal sur mobile */
        html, body {
          overflow-x: hidden !important;
          max-width: 100vw !important;
          position: relative;
        }
        body {
          overscroll-behavior-x: none;
        }
        p, h1, h2, h3, h4, h5, h6, li, span {
          word-wrap: break-word;
          overflow-wrap: break-word;
        }
        #root, main {
          overflow-x: hidden !important;
        }
      `}),e.jsx(Ke,{isOpen:T,onClose:()=>R(!1),shareUrl:ge,shareTitle:he,shareText:ue}),e.jsx("div",{className:`fixed top-0 left-0 h-1 bg-gradient-to-r ${$.gradient} z-[60] transition-all duration-300`,style:{width:`${I}%`}}),e.jsxs("div",{className:"min-h-screen bg-black text-white overflow-x-hidden",children:[e.jsx(Ze,{article:i,colors:$}),M&&M.length>0&&e.jsx(me,{headings:M,activeSection:b,scrollProgress:I,colors:$,variant:"mobile",mobileMenuOpen:E,setMobileMenuOpen:xe}),e.jsx("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[i.author&&e.jsx(de,{author:i.author,publishedAt:i.publishedAt,colors:$,variant:"mobile"}),e.jsx(Qe,{article:i,colors:$,isEmission:t}),e.jsx(et,{colors:$,variant:"mobile"})]}),e.jsx("div",{className:"hidden lg:block lg:col-span-4",children:e.jsx(Je,{article:i,relatedArticles:c,latestArticles:n,headings:M,activeSection:b,scrollProgress:I,colors:$,onShare:K})})]})}),e.jsx(Xe,{articles:c,colors:$}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/90 backdrop-blur-lg border-t border-white/10 p-4 lg:hidden z-50",children:e.jsxs("button",{onClick:K,className:"w-full flex items-center justify-center gap-3 py-3 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[e.jsx(Be,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Partager cet article"})]})})]}),e.jsx(ke,{})]})};export{ht as default};
