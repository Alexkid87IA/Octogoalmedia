import{j as g}from"./sanity-Dli2Tcak.js";import{h as v}from"./index-BKc32NQR.js";function w(j,e,i="Image"){const u=`<svg xmlns="http://www.w3.org/2000/svg" width="${j}" height="${e}" viewBox="0 0 ${j} ${e}">
    <rect width="100%" height="100%" fill="#1a1a1a"/>
    <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" fill="#666">${i}</text>
  </svg>`;return`data:image/svg+xml,${encodeURIComponent(u)}`}function b({source:j,alt:e,className:i="",width:u=800,height:h=600,loading:f="lazy",onError:t,fallbackText:p="Image"}){const x=w(u,h,p);if(!j)return g.jsx("img",{src:x,alt:e||"",className:i,loading:f});if(typeof j=="string")return!j||j.trim()===""?g.jsx("img",{src:x,alt:e||"",className:i,loading:f}):g.jsx("img",{src:j,alt:e,className:i,loading:f,onError:s=>{s.target.src=x,t==null||t()}});try{const s=j;if(s!=null&&s.asset){if(typeof s.asset=="object"&&s.asset.url)return g.jsx("img",{src:s.asset.url,alt:e,className:i,loading:f,onError:m=>{m.target.src=x,t==null||t()}});if(typeof s.asset=="string"&&s.asset.startsWith("http"))return g.jsx("img",{src:s.asset,alt:e,className:i,loading:f,onError:m=>{m.target.src=x,t==null||t()}});if(typeof s.asset=="object"&&s.asset._ref){const m=s.asset._ref;if(!m||m==="")return g.jsx("img",{src:x,alt:e||"",className:i,loading:f});if(m.startsWith("http"))return g.jsx("img",{src:m,alt:e,className:i,loading:f,onError:c=>{c.target.src=x,t==null||t()}});if(m.includes("image-"))try{const c=v(j).width(u).height(h).auto("format").url();return c?g.jsx("img",{src:c,alt:e,className:i,loading:f,onError:y=>{y.target.src=x,t==null||t()}}):g.jsx("img",{src:x,alt:e||"",className:i,loading:f})}catch{return g.jsx("img",{src:x,alt:e||"",className:i,loading:f})}return g.jsx("img",{src:x,alt:e||"",className:i,loading:f})}}return s!=null&&s.url?g.jsx("img",{src:s.url,alt:e,className:i,loading:f,onError:m=>{m.target.src=x,t==null||t()}}):g.jsx("img",{src:x,alt:e||"",className:i,loading:f})}catch{return t==null||t(),g.jsx("img",{src:x,alt:e||"",className:i,loading:f})}}export{b as S};
