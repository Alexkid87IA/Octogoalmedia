import{j as e}from"./sanity-b907zOyg.js";import{e as k,r as c,L as d}from"./react-vendor-shu7Bu7M.js";import{h as N,f as D,i as T,j as M,k as C}from"./apiFootball-fAwS4wji.js";const A={Gardiens:["Goalkeeper"],DÃ©fenseurs:["Defence","Centre-Back","Left-Back","Right-Back"],Milieux:["Midfield","Central Midfield","Defensive Midfield","Attacking Midfield","Left Midfield","Right Midfield"],Attaquants:["Offence","Centre-Forward","Left Winger","Right Winger"]};function R(l){for(const[t,r]of Object.entries(A))if(r.some(i=>l==null?void 0:l.includes(i)))return t;return"Autres"}function S(l){const t=new Date,r=new Date(l);let i=t.getFullYear()-r.getFullYear();const x=t.getMonth()-r.getMonth();return(x<0||x===0&&t.getDate()<r.getDate())&&i--,i}function L(){const{teamId:l}=k(),[t,r]=c.useState(null),[i,x]=c.useState([]),[g,y]=c.useState([]),[o,v]=c.useState("info"),[w,j]=c.useState(!0),[b,h]=c.useState(null);c.useEffect(()=>{async function s(){if(l){j(!0),h(null);try{const n=parseInt(l),[a,u,f]=await Promise.all([T(n),M(n,5),C(n,5)]);if(!a){h("Club non trouvÃ©");return}r(a),x(u),y(f)}catch(n){h("Erreur lors du chargement des donnÃ©es"),console.error(n)}finally{j(!1)}}}s()},[l]);const p=(t==null?void 0:t.squad.reduce((s,n)=>{const a=R(n.position);return s[a]||(s[a]=[]),s[a].push(n),s},{}))||{};return w?e.jsx("div",{className:"min-h-screen bg-black pt-24 pb-16 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Chargement du club..."})]})}):b||!t?e.jsx("div",{className:"min-h-screen bg-black pt-24 pb-16 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 text-xl mb-4",children:b||"Club non trouvÃ©"}),e.jsx(d,{to:"/football",className:"text-pink-400 hover:text-pink-300 underline",children:"â† Retour aux classements"})]})}):e.jsx("div",{className:"min-h-screen bg-black pt-24 pb-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx(d,{to:"/football",className:"inline-flex items-center text-gray-400 hover:text-white mb-6 transition-colors",children:"â† Retour aux classements"}),e.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-white rounded-2xl p-4 flex items-center justify-center",children:e.jsx("img",{src:t.crest,alt:t.name,className:"max-w-full max-h-full object-contain"})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:t.name}),t.tla&&e.jsx("span",{className:"inline-block px-3 py-1 bg-pink-500/20 text-pink-400 rounded-full text-sm font-medium mb-4",children:t.tla}),t.runningCompetitions.length>0&&e.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mt-4",children:t.runningCompetitions.map(s=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-700 rounded-full",children:[s.emblem&&e.jsx("img",{src:s.emblem,alt:s.name,className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-300 text-sm",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Forme rÃ©cente"}),e.jsx("div",{className:"flex gap-1",children:i.slice(0,5).map((s,n)=>{const a=N(s,t.id);return e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${a==="win"?"bg-green-500 text-white":a==="loss"?"bg-red-500 text-white":"bg-gray-500 text-white"}`,children:a==="win"?"V":a==="loss"?"D":"N"},n)})})]})]})}),e.jsx("div",{className:"flex gap-2 mb-6",children:[{id:"info",label:"ðŸ“‹ Infos",icon:"ðŸ“‹"},{id:"squad",label:"ðŸ‘¥ Effectif",icon:"ðŸ‘¥"},{id:"matches",label:"âš½ Matchs",icon:"âš½"}].map(s=>e.jsx("button",{onClick:()=>v(s.id),className:`px-6 py-3 rounded-xl font-medium transition-all ${o===s.id?"bg-pink-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:s.label},s.id))}),o==="info"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"ðŸŸï¸ Informations"}),e.jsxs("div",{className:"space-y-4",children:[t.venue&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Stade"}),e.jsx("span",{className:"text-white font-medium",children:t.venue})]}),t.founded&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"FondÃ© en"}),e.jsx("span",{className:"text-white font-medium",children:t.founded})]}),t.clubColors&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Couleurs"}),e.jsx("span",{className:"text-white font-medium",children:t.clubColors})]}),t.address&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Adresse"}),e.jsx("span",{className:"text-white font-medium text-right text-sm",children:t.address})]}),t.website&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Site web"}),e.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 transition-colors",children:"Visiter â†’"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"ðŸ‘” Staff technique"}),t.coach?e.jsxs("div",{className:"bg-gray-800 rounded-xl p-4",children:[e.jsx("div",{className:"text-white font-bold text-lg",children:t.coach.name}),e.jsx("div",{className:"text-gray-400",children:"EntraÃ®neur"}),t.coach.nationality&&e.jsx("div",{className:"text-gray-500 text-sm mt-1",children:t.coach.nationality})]}):e.jsx("p",{className:"text-gray-400",children:"Information non disponible"})]})]}),o==="squad"&&e.jsxs("div",{className:"space-y-6",children:[["Gardiens","DÃ©fenseurs","Milieux","Attaquants","Autres"].map(s=>{const n=p[s];return!n||n.length===0?null:e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:[s==="Gardiens"&&"ðŸ§¤",s==="DÃ©fenseurs"&&"ðŸ›¡ï¸",s==="Milieux"&&"âš™ï¸",s==="Attaquants"&&"âš¡",s==="Autres"&&"ðŸ‘¤"," ",s," (",n.length,")"]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map(a=>e.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 hover:bg-gray-750 transition-colors",children:[e.jsx("div",{className:"text-white font-medium",children:a.name}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-400",children:a.nationality}),a.dateOfBirth&&e.jsxs("span",{className:"text-gray-500",children:[S(a.dateOfBirth)," ans"]})]})]},a.id))})]},s)}),Object.keys(p).length===0&&e.jsx("div",{className:"bg-gray-900 rounded-2xl p-12 text-center",children:e.jsx("p",{className:"text-gray-400",children:"Effectif non disponible"})})]}),o==="matches"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"ðŸ“… Prochains matchs"}),g.length===0?e.jsx("p",{className:"text-gray-400 text-center py-4",children:"Aucun match Ã  venir"}):e.jsx("div",{className:"space-y-3",children:g.map(s=>{const n=s.homeTeam.id===t.id,a=n?s.awayTeam:s.homeTeam;return e.jsxs("div",{className:"bg-gray-800 rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:D(s.utcDate)}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{to:`/football/club/${a.id}`,children:e.jsx("img",{src:a.crest,alt:a.name,className:"w-10 h-10 object-contain hover:scale-110 transition-transform"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:n?"vs":"@"}),e.jsx(d,{to:`/football/club/${a.id}`,className:"text-white font-medium ml-2 hover:text-pink-400",children:a.name})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${n?"bg-green-900/50 text-green-400":"bg-blue-900/50 text-blue-400"}`,children:n?"DOM":"EXT"})]}),s.competition&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[s.competition.emblem&&e.jsx("img",{src:s.competition.emblem,alt:"",className:"w-4 h-4"}),s.competition.name]})]},s.id)})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"âš½ Derniers rÃ©sultats"}),i.length===0?e.jsx("p",{className:"text-gray-400 text-center py-4",children:"Aucun rÃ©sultat rÃ©cent"}):e.jsx("div",{className:"space-y-3",children:i.map(s=>{const n=s.homeTeam.id===t.id,a=n?s.awayTeam:s.homeTeam,u=n?s.score.fullTime.home:s.score.fullTime.away,f=n?s.score.fullTime.away:s.score.fullTime.home,m=N(s,t.id);return e.jsxs("div",{className:`bg-gray-800 rounded-xl p-4 border-l-4 ${m==="win"?"border-green-500":m==="loss"?"border-red-500":"border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{to:`/football/club/${a.id}`,children:e.jsx("img",{src:a.crest,alt:a.name,className:"w-10 h-10 object-contain hover:scale-110 transition-transform"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:n?"vs":"@"}),e.jsx(d,{to:`/football/club/${a.id}`,className:"text-white font-medium ml-2 hover:text-pink-400",children:a.name})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`text-xl font-bold ${m==="win"?"text-green-400":m==="loss"?"text-red-400":"text-gray-400"}`,children:[u," - ",f]})})]}),s.competition&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[s.competition.emblem&&e.jsx("img",{src:s.competition.emblem,alt:"",className:"w-4 h-4"}),s.competition.name]})]},s.id)})})]})]})]})})}export{L as default};
