import{j as e}from"./sanity-Dli2Tcak.js";import{r as l,L as v}from"./react-vendor-BZT10b4B.js";import{S as P}from"./SEO-C1ysZtSl.js";import{F as W}from"./Footer-DCqNEjgN.js";import{S as E}from"./SafeImage-a7uIdfak.js";import{i as q}from"./sanityAPI-DTS41rFR.js";import{S as z,X as H,z as V,ao as X,m as F,ap as R,aq as O,k as K,x as Q,b as J,ar as U}from"./ui-CXtmN_I9.js";import"./index-B832RcJ2.js";const d=({className:i="",variant:p="rectangular",width:x,height:b,animation:n="pulse"})=>{const f="bg-white/5",o={pulse:"animate-pulse",wave:"animate-shimmer",none:""},m={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"},w={width:x,height:b};return e.jsx("div",{className:`${f} ${o[n]} ${m[p]} ${i}`,style:w})},Y=()=>e.jsxs("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:[e.jsx(d,{className:"w-full h-48"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(d,{className:"h-4 w-20"}),e.jsx(d,{className:"h-6 w-full"}),e.jsx(d,{className:"h-4 w-3/4"}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(d,{className:"h-3 w-16"}),e.jsx(d,{className:"h-3 w-16"})]})]})]}),Z=({count:i=6})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:i}).map((p,x)=>e.jsx(Y,{},x))}),ee="polygon(8px 0, calc(100% - 8px) 0, 100% 8px, 100% calc(100% - 8px), calc(100% - 8px) 100%, 8px 100%, 0 calc(100% - 8px), 0 8px)",_=[{id:"all",label:"Tout",color:"from-pink-500 to-rose-600"},{id:"actus",label:"Actus",color:"from-orange-500 to-red-500"},{id:"joueurs",label:"Joueurs",color:"from-green-500 to-emerald-600"},{id:"formats-octogoal",label:"Formats",color:"from-purple-500 to-pink-500"},{id:"memes",label:"Mèmes",color:"from-yellow-500 to-orange-500"}],de=()=>{const[i,p]=l.useState([]),[x,b]=l.useState(!0),[n,f]=l.useState("all"),[o,m]=l.useState(""),[w,te]=l.useState("recent"),[j,y]=l.useState("grid"),[N,k]=l.useState([]);l.useEffect(()=>{(async()=>{try{b(!0);const s=await q();s&&s.length>0&&p(s)}catch(s){console.error("Erreur chargement articles:",s)}finally{b(!1)}})();try{const s=localStorage.getItem("bookmarkedArticles");s&&k(JSON.parse(s))}catch{}},[]),l.useEffect(()=>{try{localStorage.setItem("bookmarkedArticles",JSON.stringify(N))}catch{}},[N]);const A=t=>{k(s=>s.includes(t)?s.filter(a=>a!==t):[...s,t])},C=l.useMemo(()=>{let t=i;if(n!=="all"&&(t=t.filter(s=>{var a;return(a=s.categories)==null?void 0:a.some(r=>{var h,u;return((u=(h=r.slug)==null?void 0:h.current)==null?void 0:u.toLowerCase())===n.toLowerCase()})})),o){const s=o.toLowerCase();t=t.filter(a=>{var r;return a.title.toLowerCase().includes(s)||((r=a.excerpt)==null?void 0:r.toLowerCase().includes(s))})}return t.sort((s,a)=>new Date(a.publishedAt).getTime()-new Date(s.publishedAt).getTime())},[i,n,o,w]),S=t=>{const s=new Date(t),r=Math.floor((new Date().getTime()-s.getTime())/(1e3*60*60*24));return r===0?"Aujourd'hui":r===1?"Hier":r<7?`Il y a ${r} jours`:s.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},$={total:i.length,thisWeek:i.filter(t=>new Date(t.publishedAt)>new Date(Date.now()-7*864e5)).length};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Tous les articles | Octogoal",description:"Toute l'actu foot : actus, joueurs, formats originaux, mèmes. Le meilleur du football."}),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("section",{className:"relative pt-28 pb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-pink-950/30 via-black to-black"}),e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-20 right-1/4 w-64 h-64 bg-rose-500/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-3",children:["Tous les ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-rose-500",children:"articles"})]}),e.jsxs("p",{className:"text-gray-400 text-lg",children:[$.total," articles • ",$.thisWeek," cette semaine"]})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",value:o,onChange:t=>m(t.target.value),placeholder:"Rechercher...",className:"w-full pl-12 pr-10 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-pink-500/50 transition-all"}),o&&e.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(H,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 hide-scrollbar",children:[_.map(t=>e.jsx("button",{onClick:()=>f(t.id),className:`
                    flex-shrink-0 px-5 py-2.5 rounded-xl font-medium text-sm transition-all
                    ${n===t.id?`bg-gradient-to-r ${t.color} text-white shadow-lg`:"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white border border-white/10"}
                  `,children:t.label},t.id)),e.jsx("div",{className:"w-px h-8 bg-white/10 mx-2"}),e.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded-lg transition-all ${j==="grid"?"bg-white/10 text-white":"text-gray-500 hover:text-white"}`,children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-lg transition-all ${j==="list"?"bg-white/10 text-white":"text-gray-500 hover:text-white"}`,children:e.jsx(X,{className:"w-4 h-4"})})]})]})]})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:x?e.jsx(Z,{count:9}):C.length>0?e.jsx("div",{className:j==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:C.map((t,s)=>{var h,u,T,L,D,B,I;const a=N.includes(((h=t.slug)==null?void 0:h.current)||""),r=((u=_.find(c=>{var g;return(g=t.categories)==null?void 0:g.some(G=>{var M;return((M=G.slug)==null?void 0:M.current)===c.id})}))==null?void 0:u.color)||"from-pink-500 to-rose-600";return j==="grid"?e.jsx(F.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.min(s*.05,.3)},className:"group",children:e.jsxs("div",{className:"relative bg-gray-900/50 border border-white/10 rounded-2xl overflow-hidden hover:border-pink-500/30 transition-all duration-300",children:[e.jsx(v,{to:`/article/${(T=t.slug)==null?void 0:T.current}`,children:e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[e.jsx(E,{source:t.mainImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",fallbackText:t.title}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/20 to-transparent"}),((L=t.categories)==null?void 0:L[0])&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-1.5 text-xs font-bold uppercase tracking-wider text-white bg-gradient-to-r ${r} rounded-lg`,children:t.categories[0].title})})]})}),e.jsx("button",{onClick:()=>{var c;return A(((c=t.slug)==null?void 0:c.current)||"")},className:"absolute top-4 right-4 p-2 bg-black/50 backdrop-blur-sm rounded-lg hover:bg-black/70 transition-all",children:a?e.jsx(R,{className:"w-4 h-4 text-pink-400"}):e.jsx(O,{className:"w-4 h-4 text-white/70"})}),e.jsxs(v,{to:`/article/${(D=t.slug)==null?void 0:D.current}`,className:"block p-5",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2 group-hover:text-pink-400 transition-colors",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:t.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),S(t.publishedAt)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-3 h-3"}),t.readingTime||"5"," min"]})]}),e.jsx(J,{className:"w-4 h-4 text-pink-400 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r ${r} scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left`})]})},t._id):e.jsx(F.article,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Math.min(s*.03,.2)},className:"group",children:e.jsxs(v,{to:`/article/${(B=t.slug)==null?void 0:B.current}`,className:"flex gap-4 p-4 bg-gray-900/50 border border-white/10 rounded-xl hover:border-pink-500/30 transition-all",children:[e.jsx("div",{className:"flex-shrink-0 w-40 h-24 rounded-xl overflow-hidden",style:{clipPath:ee},children:e.jsx(E,{source:t.mainImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",fallbackText:t.title})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[e.jsxs("div",{children:[((I=t.categories)==null?void 0:I[0])&&e.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase text-white bg-gradient-to-r ${r} rounded mb-2`,children:t.categories[0].title}),e.jsx("h3",{className:"text-base font-bold text-white line-clamp-1 group-hover:text-pink-400 transition-colors",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-gray-400 text-sm line-clamp-1 mt-1",children:t.excerpt})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsx("span",{children:S(t.publishedAt)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.readingTime||"5"," min"]})]}),e.jsx(J,{className:"w-4 h-4 text-pink-400 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("button",{onClick:c=>{var g;c.preventDefault(),A(((g=t.slug)==null?void 0:g.current)||"")},className:"flex-shrink-0 p-2 hover:bg-white/5 rounded-lg transition-colors",children:a?e.jsx(R,{className:"w-5 h-5 text-pink-400"}):e.jsx(O,{className:"w-5 h-5 text-gray-500"})})]})},t._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/5 rounded-2xl mb-6",children:e.jsx(U,{className:"w-10 h-10 text-gray-500"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Aucun article trouvé"}),e.jsx("p",{className:"text-gray-400 mb-6",children:o?`Aucun résultat pour "${o}"`:"Aucun article dans cette catégorie"}),e.jsx("button",{onClick:()=>{m(""),f("all")},className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-600 text-white font-medium rounded-xl hover:shadow-lg hover:shadow-pink-500/30 transition-all",children:"Réinitialiser les filtres"})]})}),e.jsx(W,{})]}),e.jsx("style",{children:`
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};export{de as AllArticlesPage,de as default};
