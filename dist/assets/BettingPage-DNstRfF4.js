import{j as e}from"./sanity-Dli2Tcak.js";import{r as g,L as S}from"./react-vendor-BZT10b4B.js";import{S as E}from"./SEO-kQSMwFEJ.js";import{F as M}from"./Footer-aVl75TB5.js";import{D as T,f as P}from"./index-DsgIwI8X.js";import{C as W,g as C,f}from"./oddsService-CRw8dx3o.js";import{T as L,k as $,a4 as F,m as _,x as y,b as z}from"./ui-CXtmN_I9.js";const v=[61,39,140,135,78];function K(){const[s,h]=g.useState([]),[c,d]=g.useState(!0),[r,x]=g.useState(null);g.useEffect(()=>{async function n(){try{d(!0);const a=[];for(const t of v)try{const l=await P(String(t),10);a.push(...l),await new Promise(i=>setTimeout(i,150))}catch{console.log(`[BettingPage] Skipping league ${t}`)}const o=a.filter(t=>t.status==="SCHEDULED"||t.status==="TIMED"),N=new Set;o.forEach(t=>{var i;const l=W[(i=t.competition)==null?void 0:i.id];l&&N.add(l)});const u=new Map;await Promise.all(Array.from(N).map(async t=>{(await C(t)).forEach(i=>{const p=m(i.homeTeam)+"_"+m(i.awayTeam);u.set(p,i)})}));const D=o.map(t=>{var p;const l=m(t.homeTeam.name)+"_"+m(t.awayTeam.name);let i=(p=u.get(l))==null?void 0:p.odds.winamax;if(!i){for(const[b,O]of u.entries())if(b.includes(m(t.homeTeam.name))&&b.includes(m(t.awayTeam.name))){i=O.odds.winamax;break}}return{...t,odds:i?{home:i.home,draw:i.draw,away:i.away}:void 0}}).filter(t=>t.odds).sort((t,l)=>new Date(t.utcDate).getTime()-new Date(l.utcDate).getTime());h(D)}catch(a){console.error("[BettingPage] Error:",a)}finally{d(!1)}}n()},[]);const j=r?s.filter(n=>{var a;return((a=n.competition)==null?void 0:a.id)===r}):s,k=j.reduce((n,a)=>{const o=new Date(a.utcDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"});return n[o]||(n[o]=[]),n[o].push(a),n},{});return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Paris et Cotes Winamax | Octogoal",description:"Retrouvez toutes les cotes Winamax pour les prochains matchs des grands championnats européens."}),e.jsxs("div",{className:"min-h-screen bg-black pt-24",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-900/20 via-black to-black"}),e.jsxs("div",{className:"relative container mx-auto px-4 py-8 sm:py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-10 h-10 sm:w-12 sm:h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:"Paris & Cotes"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Cotes fournies par Winamax"})]})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 sm:flex-wrap",style:{scrollbarWidth:"none"},children:[e.jsx("button",{onClick:()=>x(null),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium transition-all whitespace-nowrap flex-shrink-0 ${r===null?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:"Tous"}),v.map(n=>{const a=T[n];return a?e.jsxs("button",{onClick:()=>x(n),className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium transition-all whitespace-nowrap flex-shrink-0 ${r===n?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:[e.jsx("span",{children:a.flag}),e.jsx("span",{className:"hidden sm:inline",children:a.shortName})]},n):null})]})]})]}),e.jsxs("div",{className:"container mx-auto px-4 pb-20",children:[c?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-red-500 border-t-transparent"})}):j.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(L,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Aucun match avec cotes disponible pour le moment"})]}):e.jsx("div",{className:"space-y-8",children:Object.entries(k).map(([n,a])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx($,{className:"w-5 h-5 text-red-500"}),e.jsx("h2",{className:"text-lg font-semibold text-white capitalize",children:n}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.length," matchs)"]})]}),e.jsx("div",{className:"grid gap-3",children:a.map(o=>e.jsx(R,{match:o},o.id))})]},n))}),e.jsx("div",{className:"mt-16 p-6 bg-white/5 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-8 h-8 object-contain flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Partenariat Winamax"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Les cotes affichées sont fournies par Winamax et sont susceptibles de varier. Jeu responsable : ne misez que ce que vous pouvez vous permettre de perdre."}),e.jsxs("a",{href:"https://www.winamax.fr",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-3 text-sm text-red-400 hover:text-red-300 transition-colors",children:[e.jsx("span",{children:"Parier sur Winamax"}),e.jsx(F,{className:"w-4 h-4"})]})]})]})})]}),e.jsx(M,{})]})]})}function R({match:s}){var x;const c=new Date(s.utcDate).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),d=T[(x=s.competition)==null?void 0:x.id],r=s.odds?Math.min(s.odds.home,s.odds.draw,s.odds.away):0;return e.jsx(S,{to:`/match/${s.id}`,children:e.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/[0.03] hover:bg-white/[0.06] rounded-lg p-3 sm:p-4 transition-all border border-white/5 hover:border-white/10",children:[e.jsxs("div",{className:"sm:hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(y,{className:"w-3 h-3"}),e.jsx("span",{children:c}),d&&e.jsxs("span",{className:"text-gray-600",children:["• ",d.shortName]})]}),e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-5 h-5 object-contain opacity-60"})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm text-white flex-1 truncate",children:s.homeTeam.name}),s.odds&&e.jsx("span",{className:`text-sm font-bold px-2 py-1 rounded ${s.odds.home===r?"bg-green-500/20 text-green-400":"bg-white/5 text-white"}`,children:f(s.odds.home)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm text-white flex-1 truncate",children:s.awayTeam.name}),s.odds&&e.jsx("span",{className:`text-sm font-bold px-2 py-1 rounded ${s.odds.away===r?"bg-green-500/20 text-green-400":"bg-white/5 text-white"}`,children:f(s.odds.away)})]})]}),s.odds&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:`text-xs px-3 py-1 rounded ${s.odds.draw===r?"bg-green-500/20 text-green-400":"bg-white/5 text-gray-400"}`,children:["Nul: ",f(s.odds.draw)]})})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center w-16 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mb-1",children:[e.jsx(y,{className:"w-3 h-3"}),e.jsx("span",{children:c})]}),d&&e.jsx("span",{className:"text-[10px] text-gray-600",children:d.shortName})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-6 h-6 object-contain flex-shrink-0"}),e.jsx("span",{className:"text-sm text-white truncate",children:s.homeTeam.name})]}),e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-4 h-4 object-contain opacity-60 mb-0.5"}),e.jsx("span",{className:"text-[10px] text-gray-600",children:"vs"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 justify-end",children:[e.jsx("span",{className:"text-sm text-white truncate text-right",children:s.awayTeam.name}),e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-6 h-6 object-contain flex-shrink-0"})]})]})}),s.odds&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(w,{label:"1",value:s.odds.home,isMin:s.odds.home===r}),e.jsx(w,{label:"N",value:s.odds.draw,isMin:s.odds.draw===r}),e.jsx(w,{label:"2",value:s.odds.away,isMin:s.odds.away===r})]}),e.jsx(z,{className:"w-4 h-4 text-gray-500 flex-shrink-0"})]})]})})}function w({label:s,value:h,isMin:c}){return e.jsxs("div",{className:`flex flex-col items-center px-3 py-2 rounded ${c?"bg-green-500/20":"bg-white/5"}`,children:[e.jsx("span",{className:"text-[9px] text-gray-500 mb-0.5",children:s}),e.jsx("span",{className:`text-sm font-bold ${c?"text-green-400":"text-white"}`,children:f(h)})]})}function m(s){return s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"")}export{K as default};
