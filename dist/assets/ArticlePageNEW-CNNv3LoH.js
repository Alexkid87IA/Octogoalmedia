import{j as e,P as Ee}from"./sanity-tkM5Czdy.js";import{R as ye,r as x,L,f as Re}from"./react-vendor-DFZZ7aeY.js";import{S as De}from"./SEO-CuyuPNxE.js";import{g as Ne,L as Ue,j as Fe}from"./sanityAPI-CUnsLmHE.js";import{E as Me}from"./ErrorMessage-Cj78_Sh4.js";import{E as qe}from"./ErrorBoundary-DCXSs1PU.js";import{F as Be}from"./Footer-BQHljzBM.js";import{a8 as ee,d as re,a9 as we,aa as se,a7 as Ge,r as V,ab as Z,b as oe,c as ve,n as ke,h as He,F as Ce,v as Ve,ac as Se,ad as Oe,ae as me,g as Ye,af as xe,q as he,X as Ae,E as Ie,ag as Qe,C as W,a5 as ze,a4 as We,m as U,ah as ge,ai as ue,A as te,Z as Ze,P as ie,i as $e,Y as Je,a as Te,aj as Xe,ak as Ke,al as et,am as tt,x as pe,an as be,l as st,U as rt,K as at}from"./ui-BM8btEJq.js";import{c as F}from"./index-BHKyC1cq.js";const lt=({url:t,caption:l})=>{const[s,a]=x.useState(!0),[i,n]=x.useState(!1),o=x.useRef(null),c=(r=>{if(!r)return null;const d=[/instagram\.com\/p\/([^\/\?]+)/,/instagram\.com\/reel\/([^\/\?]+)/,/instagram\.com\/tv\/([^\/\?]+)/,/instagr\.am\/p\/([^\/\?]+)/];for(const g of d){const m=r.match(g);if(m)return m[1]}return null})(t);return x.useEffect(()=>{i&&o.current&&(o.current.style.willChange="contents")},[i]),c?e.jsx("div",{className:"my-12 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-3xl px-4",children:[e.jsxs("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl border border-gray-800",style:{contain:"layout style paint",willChange:"contents",isolation:"isolate",maxWidth:"100%"},children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-[2px]",children:e.jsx("div",{className:"bg-black p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Post Instagram"})]}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:["Ouvrir dans Instagram",e.jsx(re,{size:12})]})]})})}),e.jsxs("div",{className:"relative bg-black",style:{height:"1100px",minHeight:"1100px",maxHeight:"1100px",contain:"strict",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[s&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black pointer-events-none",children:e.jsxs("div",{className:"text-center",children:[e.jsx(we,{className:"w-8 h-8 text-white animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du post Instagram..."})]})}),e.jsx("iframe",{ref:o,src:`https://www.instagram.com/p/${c}/embed`,className:`w-full transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,style:{border:"none",height:"1100px",minHeight:"1100px",backgroundColor:"#000",position:"absolute",top:0,left:0,right:0,willChange:"contents",transform:"translateZ(0)"},frameBorder:"0",scrolling:"no",allowTransparency:!0,onLoad:()=>{a(!1),setTimeout(()=>n(!0),100)},title:`Instagram post ${c}`,importance:"high",fetchpriority:"high",decoding:"sync",sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation"},`instagram-${c}`)]})]}),l&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic",children:l})})]})}):e.jsx("div",{className:"my-12 flex justify-center",children:e.jsx("div",{className:"w-full max-w-3xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Post Instagram non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-all",children:[e.jsx(ee,{className:"w-4 h-4"}),"Voir sur Instagram"]})]})})})},it=ye.memo(lt,(t,l)=>t.url===l.url&&t.caption===l.caption),nt=x.memo(({value:t})=>{const[l,s]=x.useState(!0),[a,i]=x.useState(()=>localStorage.getItem("youtube-cookies-accepted")==="true"),o=(c=>{if(!c)return null;const r=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/,/youtube\.com\/shorts\/([^&\n?#]+)/];for(const d of r){const g=c.match(d);if(g)return g[1]}return null})((t==null?void 0:t.url)||"");if(!o)return e.jsxs("div",{className:"my-8 p-6 bg-gray-900/50 rounded-xl border border-gray-700 text-center",children:[e.jsx("p",{className:"text-gray-400",children:"Vidéo YouTube non disponible"}),(t==null?void 0:t.url)&&e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Voir sur YouTube"]})]});if(!a)return e.jsx("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500 opacity-50",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Vidéo YouTube"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Cette vidéo nécessite l'acceptation des cookies YouTube pour être visionnée"}),e.jsxs("button",{onClick:()=>{i(!0),localStorage.setItem("youtube-cookies-accepted","true")},className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Accepter et voir la vidéo"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"En acceptant, vous autorisez le chargement de contenu depuis YouTube"})]})});const h=x.useMemo(()=>{const c=new URL(`https://www.youtube.com/embed/${o}`);return t!=null&&t.startTime&&c.searchParams.set("start",t.startTime.toString()),t!=null&&t.autoplay&&(c.searchParams.set("autoplay","1"),c.searchParams.set("mute","1")),c.searchParams.set("rel","0"),c.searchParams.set("modestbranding","1"),c.searchParams.set("controls","1"),c.searchParams.set("showinfo","0"),c.searchParams.set("iv_load_policy","3"),c.toString()},[o,t==null?void 0:t.startTime,t==null?void 0:t.autoplay]);return e.jsxs("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:[e.jsxs("div",{className:"relative w-full bg-black rounded-xl overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:[l&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-gray-700 border-t-red-500 rounded-full animate-spin mb-4 mx-auto"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement de la vidéo YouTube..."})]})}),e.jsx("iframe",{src:h,title:(t==null?void 0:t.caption)||`YouTube video ${o}`,className:`absolute top-0 left-0 w-full h-full ${l?"opacity-0":"opacity-100"} transition-opacity duration-500`,style:{border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy",onLoad:()=>s(!1)})]}),(t==null?void 0:t.caption)&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:t.caption})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("a",{href:`https://www.youtube.com/watch?v=${o}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-gray-400 transition-colors",children:["Ouvrir sur YouTube",e.jsx(re,{size:12})]})})]})}),ot=({url:t,caption:l})=>{const[s,a]=x.useState(!0),[i,n]=x.useState(!1),o=x.useRef(null),c=(r=>{if(!r)return null;const d=[/twitter\.com\/\w+\/status\/(\d+)/,/x\.com\/\w+\/status\/(\d+)/,/twitter\.com\/statuses\/(\d+)/,/x\.com\/statuses\/(\d+)/];for(const g of d){const m=r.match(g);if(m)return m[1]}return null})(t);return x.useEffect(()=>{if(!c||!o.current){n(!0),a(!1);return}if(window.twttr)window.twttr.widgets.createTweet(c,o.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{a(!1)}).catch(()=>{n(!0),a(!1)});else{const r=document.createElement("script");r.src="https://platform.twitter.com/widgets.js",r.async=!0,r.onload=()=>{window.twttr&&o.current&&window.twttr.widgets.createTweet(c,o.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{a(!1)}).catch(()=>{n(!0),a(!1)})},document.body.appendChild(r)}return()=>{o.current&&(o.current.innerHTML="")}},[c]),!c||i?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(se,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Tweet non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:c?"Impossible de charger le tweet":"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all",children:[e.jsx(se,{className:"w-4 h-4"}),"Voir sur X/Twitter",e.jsx(Ge,{size:14})]})]})})}):e.jsx("div",{className:"my-10 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"relative",children:[s&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(we,{className:"w-8 h-8 text-blue-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du tweet..."})]})}),e.jsx("div",{ref:o,className:"twitter-embed-container",style:{minHeight:s?"200px":"auto"}})]}),l&&!s&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:l})})]})})},ct=t=>{if(!t)return"center center";const l=Math.round(t.x*100),s=Math.round(t.y*100);return`${l}% ${s}%`},dt=({article:t,colors:l})=>{var h,c,r;const s=(h=t.mainImage)==null?void 0:h.hotspot,a=ct(s),n=(()=>{if(!t.mainImage||!t.mainImage.asset)return null;if(t.mainImage.asset.url)return t.mainImage.asset.url;if(t.mainImage.asset._ref)try{return F(t.mainImage).width(1920).height(1080).quality(90).url()}catch(d){console.error("Error generating URL from ref:",d)}return null})(),o=t.readingTime||"5 min";return e.jsxs("section",{className:"relative min-h-[85vh] md:min-h-[90vh] flex items-end overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[n?e.jsx("img",{src:n,alt:t.title,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:a},onError:d=>{d.target.src="https://images.unsplash.com/photo-1508098682722-e99c43a406b2?auto=format&fit=crop&q=80"}}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-900"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[55%]",style:{background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.8) 40%, rgba(0,0,0,0.4) 70%, transparent 100%)"}}),e.jsx("div",{className:"absolute inset-x-0 top-0 h-32",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, transparent 100%)"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[3px]",style:{background:l.bgGradient}})]}),e.jsx("div",{className:"relative container mx-auto px-4 pb-12 md:pb-16",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-sm mb-8",children:[e.jsx(L,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Accueil"}),e.jsx(V,{size:14,className:"text-gray-600"}),t.categories&&t.categories[0]&&e.jsxs(e.Fragment,{children:[e.jsx(L,{to:`/rubrique/${t.categories[0].slug.current}`,className:"px-3 py-1.5 rounded-full text-sm font-semibold transition-all hover:scale-105",style:{background:l.primary,color:"white"},children:t.categories[0].title}),t.subcategories&&t.subcategories[0]&&e.jsxs(e.Fragment,{children:[e.jsx(V,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"px-3 py-1.5 rounded-full text-sm font-medium bg-white/15 backdrop-blur-sm text-white border border-white/10",children:t.subcategories[0].title})]})]})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white mb-8 leading-[1.05] tracking-tight",style:{textShadow:"0 4px 40px rgba(0,0,0,0.5)"},children:t.title}),t.excerpt&&e.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-10 max-w-3xl leading-relaxed",children:t.excerpt}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.author&&e.jsxs("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-full pl-1.5 pr-5 py-1.5 border border-white/10",children:[t.author.image?e.jsx("img",{src:((c=t.author.image.asset)==null?void 0:c.url)||((r=t.author.image.asset)!=null&&r._ref?F(t.author.image).width(80).height(80).url():null),alt:t.author.name,className:"w-9 h-9 rounded-full object-cover ring-2 ring-white/20"}):e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center",style:{background:l.bgGradient},children:e.jsx(Z,{size:16,className:"text-white"})}),e.jsx("span",{className:"text-white font-medium",children:t.author.name})]}),e.jsx("div",{className:"w-px h-6 bg-white/20 hidden sm:block"}),t.publishedAt&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[e.jsx(oe,{size:15,className:"text-gray-400"}),e.jsx("span",{children:new Date(t.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsx("div",{className:"w-px h-6 bg-white/20 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[e.jsx(ve,{size:15,className:"text-gray-400"}),e.jsxs("span",{children:[o," de lecture"]})]})]})]})})]})},fe={info:{bg:"bg-blue-500/10",border:"border-blue-500/30",icon:Oe,iconColor:"text-blue-400",titleColor:"text-blue-300"},warning:{bg:"bg-amber-500/10",border:"border-amber-500/30",icon:Se,iconColor:"text-amber-400",titleColor:"text-amber-300"},success:{bg:"bg-green-500/10",border:"border-green-500/30",icon:Ve,iconColor:"text-green-400",titleColor:"text-green-300"},breaking:{bg:"bg-red-500/10",border:"border-red-500/30",icon:Ce,iconColor:"text-red-400",titleColor:"text-red-300"},stat:{bg:"bg-purple-500/10",border:"border-purple-500/30",icon:He,iconColor:"text-purple-400",titleColor:"text-purple-300"},quote:{bg:"bg-pink-500/10",border:"border-pink-500/30",icon:ke,iconColor:"text-pink-400",titleColor:"text-pink-300"}},mt=({value:t})=>{const{type:l="info",title:s,content:a}=t,i=fe[l]||fe.info,n=i.icon;return e.jsx("div",{className:`
        my-8 rounded-xl border ${i.bg} ${i.border}
        overflow-hidden
      `,children:e.jsxs("div",{className:"flex items-start gap-4 p-5",children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i.iconColor}`,children:e.jsx(n,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[s&&e.jsx("h4",{className:`font-bold text-base mb-2 ${i.titleColor}`,children:s}),e.jsx("p",{className:"text-gray-300 leading-relaxed",children:a})]})]})})},xt=({value:t})=>{const{quote:l,author:s,role:a,image:i,source:n,date:o,style:h="classic"}=t,r=(()=>{if(!(i!=null&&i.asset))return null;try{return i.asset.url?i.asset.url:i.asset._ref?F(i).width(120).height(120).url():null}catch{return null}})();return h==="classic"?e.jsxs("blockquote",{className:"my-10 relative pl-6 border-l-4 border-pink-500",children:[e.jsxs("p",{className:"text-xl md:text-2xl text-white italic leading-relaxed mb-4",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-3 mt-4",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{children:[s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic block",children:s}),a&&e.jsx("span",{className:"text-gray-500 text-sm",children:a}),n&&e.jsxs("span",{className:"text-gray-500 text-sm block",children:[n,o&&` - ${o}`]})]})]})]}):h==="with-background"?e.jsxs("blockquote",{className:"my-10 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl p-8 border border-white/10 relative overflow-hidden",children:[e.jsx(me,{size:80,className:"absolute top-4 right-4 text-pink-500/10"}),e.jsxs("p",{className:"text-xl md:text-2xl text-white italic leading-relaxed mb-6 relative z-10",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-4 relative z-10",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-14 h-14 rounded-full object-cover ring-2 ring-pink-500/30"}),e.jsxs("div",{children:[s&&e.jsx("cite",{className:"text-white font-semibold not-italic block",children:s}),a&&e.jsx("span",{className:"text-pink-400 text-sm",children:a}),n&&e.jsxs("span",{className:"text-gray-500 text-sm block",children:[n,o&&` - ${o}`]})]})]})]}):h==="large"?e.jsxs("blockquote",{className:"my-16 text-center px-4",children:[e.jsx(me,{size:48,className:"text-pink-500/30 mx-auto mb-4"}),e.jsxs("p",{className:"text-2xl md:text-4xl text-white font-light italic leading-snug mb-6 max-w-3xl mx-auto",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex flex-col items-center gap-2",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-16 h-16 rounded-full object-cover"}),s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic",children:s}),a&&e.jsx("span",{className:"text-pink-400 text-sm",children:a}),n&&e.jsxs("span",{className:"text-gray-500 text-sm",children:[n,o&&` - ${o}`]})]})]}):h==="bordered"?e.jsx("blockquote",{className:"my-10 border border-white/20 rounded-xl p-6 bg-black/30",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-1 h-full bg-gradient-to-b from-pink-500 to-rose-600 rounded-full"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-gray-200 italic leading-relaxed mb-4",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-3",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"text-sm",children:[s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic block",children:s}),(a||n)&&e.jsxs("span",{className:"text-gray-500",children:[a,a&&n&&" - ",n]})]})]})]})]})}):e.jsxs("blockquote",{className:"my-10 relative pl-6 border-l-4 border-pink-500",children:[e.jsxs("p",{className:"text-xl text-white italic leading-relaxed",children:['"',l,'"']}),s&&e.jsxs("cite",{className:"text-gray-400 mt-2 block not-italic",children:["— ",s]})]})},ht=(t,l)=>{const s=parseFloat(t.replace(/[^0-9.-]/g,"")),a=parseFloat(l.replace(/[^0-9.-]/g,""));return isNaN(s)||isNaN(a)?"equal":s>a?"player1":a>s?"player2":"equal"},gt=({value:t})=>{const{title:l,player1Name:s,player2Name:a,stats:i,source:n}=t;return!i||i.length===0?null:e.jsxs("div",{className:"my-10 bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-white/10 overflow-hidden",children:[l&&e.jsx("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"text-lg font-bold text-white text-center",children:l})}),(s||a)&&e.jsxs("div",{className:"grid grid-cols-3 items-center px-6 py-4 bg-black/20 border-b border-white/10",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-lg font-bold text-pink-400",children:s||"Joueur 1"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"VS"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-lg font-bold text-blue-400",children:a||"Joueur 2"})})]}),e.jsx("div",{children:i.map((o,h)=>{const c=ht(o.value1,o.value2);return e.jsxs("div",{className:`grid grid-cols-3 items-center px-6 py-4 ${h%2===0?"bg-black/10":""} ${h!==i.length-1?"border-b border-white/5":""}`,children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-2xl font-bold ${c==="player1"?"text-green-400":c==="player2"?"text-gray-500":"text-white"}`,children:o.value1})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-gray-400 font-medium",children:o.label})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-2xl font-bold ${c==="player2"?"text-green-400":c==="player1"?"text-gray-500":"text-white"}`,children:o.value2})})]},o._key||h)})}),n&&e.jsx("div",{className:"px-6 py-3 border-t border-white/10 bg-black/20",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",n]})})]})},ut=({value:t})=>{const{title:l,player1:s,player2:a,stats:i,verdict:n,season:o}=t,h=g=>{var m;if(!((m=g==null?void 0:g.image)!=null&&m.asset))return null;try{return g.image.asset.url?g.image.asset.url:g.image.asset._ref?F(g.image).width(200).height(200).url():null}catch{return null}},c=h(s),r=h(a),d=g=>g==="player1"?{p1:"text-green-400 font-bold",p2:"text-gray-400"}:g==="player2"?{p1:"text-gray-400",p2:"text-green-400 font-bold"}:{p1:"text-gray-300",p2:"text-gray-300"};return e.jsxs("div",{className:"my-10 bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-white/10 overflow-hidden",children:[l&&e.jsxs("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center",children:l}),o&&e.jsxs("p",{className:"text-sm text-gray-500 text-center mt-1",children:["Saison ",o]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-pink-500/20 to-rose-600/20 overflow-hidden border-2 border-pink-500/30",children:c?e.jsx("img",{src:c,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Z,{size:40,className:"text-pink-400"})})}),e.jsx("h4",{className:"text-lg font-bold text-white",children:s.name}),s.club&&e.jsx("p",{className:"text-sm text-gray-400",children:s.club})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-600/20 overflow-hidden border-2 border-blue-500/30",children:r?e.jsx("img",{src:r,alt:a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Z,{size:40,className:"text-blue-400"})})}),e.jsx("h4",{className:"text-lg font-bold text-white",children:a.name}),a.club&&e.jsx("p",{className:"text-sm text-gray-400",children:a.club})]})]}),e.jsx("div",{className:"border-t border-white/10",children:i==null?void 0:i.map((g,m)=>{const j=d(g.advantage);return e.jsxs("div",{className:`grid grid-cols-3 items-center px-6 py-3 ${m%2===0?"bg-black/20":""}`,children:[e.jsx("span",{className:`text-lg text-right ${j.p1}`,children:g.value1}),e.jsx("span",{className:"text-sm text-gray-500 text-center px-2",children:g.label}),e.jsx("span",{className:`text-lg text-left ${j.p2}`,children:g.value2})]},g._key||m)})}),n&&e.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-pink-500/10 to-blue-500/10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx(Ye,{size:20,className:"text-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Verdict"})]}),n.winner&&e.jsxs("p",{className:"text-lg font-bold text-white text-center mb-2",children:[n.winner==="draw"&&"Égalité",n.winner==="player1"&&`Avantage ${s.name}`,n.winner==="player2"&&`Avantage ${a.name}`]}),n.comment&&e.jsx("p",{className:"text-gray-400 text-center text-sm leading-relaxed",children:n.comment})]})]})},pt=({value:t})=>{var H;const{title:l,images:s,layout:a="grid-3",showCaptions:i=!0,lightbox:n=!0}=t,[o,h]=x.useState(!1),[c,r]=x.useState(0),[d,g]=x.useState(0),m=(p,S=800)=>{var A;if(!((A=p==null?void 0:p.image)!=null&&A.asset))return null;try{return p.image.asset.url?p.image.asset.url:p.image.asset._ref?F(p.image).width(S).url():null}catch{return null}},j=p=>{n&&(r(p),h(!0))},y=()=>h(!1),_=()=>{r(p=>(p+1)%s.length)},k=()=>{r(p=>(p-1+s.length)%s.length)},w=()=>{g(p=>Math.min(p+1,s.length-1))},N=()=>{g(p=>Math.max(p-1,0))},z=()=>{switch(a){case"grid-2":return"grid grid-cols-2 gap-4";case"grid-3":return"grid grid-cols-2 md:grid-cols-3 gap-4";case"masonry":return"columns-2 md:columns-3 gap-4 space-y-4";default:return"grid grid-cols-2 md:grid-cols-3 gap-4"}};if(a==="carousel")return e.jsxs("div",{className:"my-10",children:[l&&e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:l}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-gray-900",children:s[d]&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:m(s[d],1200)||"",alt:s[d].caption||"",className:"w-full h-full object-cover cursor-pointer",onClick:()=>j(d)}),n&&e.jsx("button",{onClick:()=>j(d),className:"absolute top-4 right-4 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(xe,{size:20,className:"text-white"})})]})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:N,disabled:d===0,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full hover:bg-black/70 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(he,{size:24,className:"text-white"})}),e.jsx("button",{onClick:w,disabled:d===s.length-1,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full hover:bg-black/70 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(V,{size:24,className:"text-white"})})]}),i&&((H=s[d])==null?void 0:H.caption)&&e.jsx("p",{className:"text-sm text-gray-400 mt-3 text-center italic",children:s[d].caption}),s.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:s.map((p,S)=>e.jsx("button",{onClick:()=>g(S),className:`w-2 h-2 rounded-full transition-colors ${S===d?"bg-pink-500":"bg-gray-600"}`},S))})]}),o&&e.jsx(B,{})]});const B=()=>{var p,S;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:y,children:[e.jsx("button",{onClick:y,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full z-50",children:e.jsx(Ae,{size:32,className:"text-white"})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:A=>{A.stopPropagation(),k()},className:"absolute left-4 p-3 bg-white/10 rounded-full hover:bg-white/20",children:e.jsx(he,{size:32,className:"text-white"})}),e.jsx("button",{onClick:A=>{A.stopPropagation(),_()},className:"absolute right-4 p-3 bg-white/10 rounded-full hover:bg-white/20",children:e.jsx(V,{size:32,className:"text-white"})})]}),e.jsxs("div",{className:"max-w-5xl max-h-[80vh] px-4",onClick:A=>A.stopPropagation(),children:[e.jsx("img",{src:m(s[c],1600)||"",alt:((p=s[c])==null?void 0:p.caption)||"",className:"max-w-full max-h-[80vh] object-contain"}),i&&((S=s[c])==null?void 0:S.caption)&&e.jsx("p",{className:"text-white text-center mt-4",children:s[c].caption}),e.jsxs("p",{className:"text-gray-500 text-center mt-2 text-sm",children:[c+1," / ",s.length]})]})]})};return e.jsxs("div",{className:"my-10",children:[l&&e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:l}),e.jsx("div",{className:z(),children:s.map((p,S)=>{const A=m(p);return A?e.jsxs("figure",{className:`relative group overflow-hidden rounded-lg bg-gray-900 ${a==="masonry"?"break-inside-avoid":""}`,children:[e.jsx("img",{src:A,alt:p.caption||"",className:`w-full object-cover cursor-pointer transition-transform duration-300 group-hover:scale-105 ${a==="masonry"?"":"aspect-square"}`,onClick:()=>j(S)}),n&&e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>j(S),children:e.jsx(xe,{size:32,className:"text-white"})}),i&&p.caption&&e.jsx("figcaption",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("p",{className:"text-sm text-white",children:p.caption})})]},p._key||S):null})}),o&&e.jsx(B,{})]})},bt=({value:t})=>{const l=t.text||t.label||"Lien",s=t.url||t.link||t.href||"#",a=t.openInNewTab||t.newTab||!1,i=s.startsWith("http")||a,n=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:l}),e.jsx(re,{size:16,className:"opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-200"})]}),o="group inline-flex items-center gap-2 text-lg text-gray-300 hover:text-white transition-colors cursor-pointer";return i?e.jsx("p",{className:"my-4",children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:o,children:n})}):e.jsx("p",{className:"my-4",children:e.jsx(L,{to:s,className:o,children:n})})},ft=t=>{if(!t)return[];const l=[];let s=0;const a=/(\*\*(.+?)\*\*|\*(.+?)\*)/g;let i=0,n;for(;(n=a.exec(t))!==null;)n.index>i&&l.push(t.slice(i,n.index)),n[2]?l.push(e.jsx("strong",{className:"font-bold text-white",children:n[2]},s++)):n[3]&&l.push(e.jsx("em",{className:"italic text-gray-200",children:n[3]},s++)),i=a.lastIndex;return i<t.length&&l.push(t.slice(i)),l.length>0?l:[t]},jt=({value:t})=>{const{title:l,content:s,warningText:a}=t,[i,n]=x.useState(!1);return e.jsxs("div",{className:"my-8 rounded-xl border border-amber-500/30 bg-amber-500/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-amber-500/20",children:[e.jsx(Se,{size:20,className:"text-amber-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-amber-300",children:l||"Spoiler"}),a&&e.jsx("p",{className:"text-sm text-amber-400/70 mt-0.5",children:a})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`p-5 transition-all duration-300 ${i?"":"blur-md select-none"}`,children:e.jsx("p",{className:"text-gray-300 leading-relaxed",children:ft(s)})}),!i&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer bg-black/20 hover:bg-black/10 transition-colors",onClick:()=>n(!0),children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 rounded-lg text-amber-300 hover:bg-amber-500/30 transition-colors",onClick:o=>{o.stopPropagation(),n(!0)},children:[e.jsx(Ie,{size:18}),e.jsx("span",{className:"font-medium",children:"Révéler le contenu"})]})}),i&&e.jsx("div",{className:"px-5 pb-4",children:e.jsxs("button",{onClick:()=>n(!1),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-400 transition-colors",children:[e.jsx(Qe,{size:14}),e.jsx("span",{children:"Masquer le spoiler"})]})})]})]})},yt=t=>t?t.includes(" - ")||t.startsWith("- ")?t.split(/\s*-\s+/).map(s=>s.trim()).filter(s=>s.length>0):[t]:[],Nt=({item:t,isOpen:l,onToggle:s,index:a})=>{const i=yt(t.content),n=i.length>1;return e.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between gap-4 px-5 py-4 text-left hover:bg-white/5 transition-colors","aria-expanded":l,children:[e.jsx("span",{className:"font-medium text-white",children:t.title}),e.jsx(W,{size:20,className:`text-gray-400 transition-transform duration-300 flex-shrink-0 ${l?"rotate-180":""}`})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-5 pb-4 text-gray-300 leading-relaxed",children:n?e.jsx("ul",{className:"space-y-2",children:i.map((o,h)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-pink-400 mt-1.5",children:"•"}),e.jsx("span",{children:o})]},h))}):e.jsx("p",{children:i[0]})})})]})},wt=({value:t})=>{const{title:l,items:s,allowMultiple:a=!1}=t,[i,n]=x.useState([]),o=h=>{n(a?c=>c.includes(h)?c.filter(r=>r!==h):[...c,h]:c=>c.includes(h)?[]:[h])};return e.jsxs("div",{className:"my-8 rounded-xl border border-white/10 bg-gray-900/50 overflow-hidden",children:[l&&e.jsx("div",{className:"px-5 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"font-bold text-white",children:l})}),e.jsx("div",{children:s==null?void 0:s.map((h,c)=>e.jsx(Nt,{item:h,isOpen:i.includes(c),onToggle:()=>o(c),index:c},h._key||c))})]})},vt=({value:t})=>{const{title:l,headers:s,rows:a,caption:i,striped:n=!0,compact:o=!1}=t,h=o?"px-3 py-2":"px-4 py-3";return e.jsxs("div",{className:"my-8 rounded-xl border border-white/10 bg-gray-900/50 overflow-hidden",children:[l&&e.jsx("div",{className:"px-5 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"font-bold text-white",children:l})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[s&&s.length>0&&e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/10 bg-black/20",children:s.map((c,r)=>e.jsx("th",{className:`${h} text-left text-sm font-semibold text-gray-300 uppercase tracking-wider`,children:c},r))})}),e.jsx("tbody",{children:a==null?void 0:a.map((c,r)=>{var d;return e.jsx("tr",{className:`
                  border-b border-white/5 last:border-b-0
                  ${n&&r%2===1?"bg-black/20":""}
                  hover:bg-white/5 transition-colors
                `,children:(d=c.cells)==null?void 0:d.map((g,m)=>e.jsx("td",{className:`${h} text-gray-300`,children:m===0?e.jsx("span",{className:"font-medium text-white",children:g}):g},m))},c._key||r)})})]})}),i&&e.jsx("div",{className:"px-5 py-3 border-t border-white/10 bg-black/20",children:e.jsx("p",{className:"text-xs text-gray-500",children:i})})]})},je=({type:t,className:l=""})=>e.jsx("div",{className:`relative ${l}`,children:e.jsx("div",{className:`${t==="inline"?"my-12 py-6 px-6":"p-4"} bg-gray-900/50 border border-gray-800 rounded-lg flex flex-col items-center justify-center text-center min-h-[120px]`,children:e.jsx("p",{className:"text-[11px] uppercase tracking-widest text-gray-600 font-medium",children:"Publicité"})})}),kt=x.memo(({article:t,colors:l,isEmission:s=!1})=>{var c;const[a,i]=x.useState(!1),n=x.useRef(0),o=x.useCallback(r=>{navigator.clipboard.writeText(r),i(!0),setTimeout(()=>i(!1),2e3)},[]);n.current=0;const h=x.useMemo(()=>({block:{h1:({children:r})=>e.jsx("h1",{className:"text-2xl font-montserrat font-bold text-white mb-6 mt-12 leading-tight",children:r}),h2:({children:r,value:d})=>{var j,y;const m=`h2-${(((y=(j=d==null?void 0:d.children)==null?void 0:j[0])==null?void 0:y.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsxs("h2",{id:m,className:"text-xl md:text-2xl font-montserrat font-bold text-white mt-14 mb-5 scroll-mt-24 flex items-center gap-3",children:[e.jsx("span",{className:"w-1 self-stretch rounded-full flex-shrink-0",style:{background:l.bgGradient}}),r]})},h3:({children:r,value:d})=>{var j,y;const m=`h3-${(((y=(j=d==null?void 0:d.children)==null?void 0:j[0])==null?void 0:y.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsx("h3",{id:m,className:"text-base font-montserrat font-bold text-gray-100 mt-8 mb-2 scroll-mt-24",children:r})},h4:({children:r})=>e.jsx("h4",{className:"text-sm font-montserrat font-semibold text-gray-500 mt-6 mb-2 uppercase tracking-wider",children:r}),normal:({children:r})=>{n.current++;const d=n.current===5||n.current===12;return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg leading-[1.8] text-gray-300 mb-6",children:r}),d&&e.jsx(je,{type:"inline"})]})},blockquote:({children:r})=>e.jsxs("blockquote",{className:"my-12 md:my-16 relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[3px]",style:{background:l.primary}}),e.jsx("div",{className:"pl-8 md:pl-12",children:e.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl font-montserrat italic text-white leading-snug",children:r})})]})},list:{bullet:({children:r})=>e.jsx("div",{className:"my-8 space-y-3",children:r}),number:({children:r})=>e.jsx("div",{className:"my-8 space-y-3",children:r})},listItem:{bullet:({children:r})=>e.jsxs("div",{className:"flex items-start gap-4 text-gray-300",children:[e.jsx("span",{className:"mt-[10px] w-[6px] h-[6px] rounded-full bg-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-lg leading-[1.8]",children:r})]}),number:({children:r,index:d})=>e.jsxs("div",{className:"flex items-start gap-4 text-gray-300",children:[e.jsxs("span",{className:"text-lg font-medium text-gray-500 w-6 flex-shrink-0",children:[(d||0)+1,"."]}),e.jsx("span",{className:"text-lg leading-[1.8]",children:r})]})},marks:{strong:({children:r})=>e.jsx("strong",{className:"font-semibold text-white",children:r}),em:({children:r})=>e.jsx("em",{className:"italic",children:r}),code:({children:r})=>e.jsx("code",{className:"px-2 py-0.5 bg-gray-800 rounded text-sm font-mono text-gray-300",children:r}),link:({value:r,children:d})=>e.jsx("a",{href:r==null?void 0:r.href,className:"text-white underline underline-offset-4 decoration-gray-500 hover:decoration-white transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})},types:{image:({value:r})=>e.jsxs("figure",{className:"my-12",children:[e.jsx("div",{className:"relative overflow-hidden rounded-lg",children:e.jsx("img",{src:F(r).width(1400).url(),alt:r.alt||"Image de l'article",className:"w-full",loading:"lazy"})}),r.caption&&e.jsx("figcaption",{className:"text-sm text-gray-500 mt-4 italic",children:r.caption})]}),code:({value:r})=>e.jsxs("div",{className:"relative rounded-lg border border-gray-800 overflow-hidden my-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-900 border-b border-gray-800",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:r.language||"code"}),e.jsx("button",{onClick:()=>o(r.code),className:"text-xs text-gray-500 hover:text-white transition-colors",children:a?"Copié":"Copier"})]}),e.jsx("pre",{className:"p-6 text-sm overflow-x-auto bg-gray-950",children:e.jsx("code",{className:"text-gray-300 font-mono",children:r.code})})]}),instagram:({value:r})=>e.jsx(it,{url:r==null?void 0:r.url,caption:r==null?void 0:r.caption}),youtube:({value:r})=>e.jsx(nt,{value:r}),twitter:({value:r})=>e.jsx(ot,{url:r==null?void 0:r.url,caption:r==null?void 0:r.caption}),callout:({value:r})=>e.jsx(mt,{value:r}),styledQuote:({value:r})=>e.jsx(xt,{value:r}),statsCard:({value:r})=>e.jsx(gt,{value:r}),playerComparison:({value:r})=>e.jsx(ut,{value:r}),imageGallery:({value:r})=>e.jsx(pt,{value:r}),ctaButton:({value:r})=>e.jsx(bt,{value:r}),spoiler:({value:r})=>e.jsx(jt,{value:r}),accordion:({value:r})=>e.jsx(wt,{value:r}),dataTable:({value:r})=>e.jsx(vt,{value:r})}}),[l.primary,l.bgGradient,o,a]);return e.jsxs("article",{className:"article-content",children:[s&&t.videoUrl&&e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${((c=t.videoUrl.split("v=")[1])==null?void 0:c.split("&")[0])||t.videoUrl.split("/").pop()}`,title:t.title,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e.jsxs("div",{className:"max-w-none",children:[(t.body||t.content)&&e.jsx(Ee,{value:t.body||t.content,components:h}),!t.body&&!t.content&&e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Contenu en cours de rédaction."})})]}),e.jsx(je,{type:"inline",className:"mt-16"}),t.keyPoints&&Array.isArray(t.keyPoints)&&t.keyPoints.length>0&&e.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800",children:[e.jsx("h3",{className:"text-xl font-montserrat font-bold text-white mb-6",children:"À retenir"}),e.jsx("ul",{className:"space-y-4",children:t.keyPoints.map((r,d)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-300",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[d+1,"."]}),e.jsx("span",{className:"text-lg leading-relaxed",children:r})]},d))})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((r,d)=>e.jsx("span",{className:"px-3 py-1.5 text-sm text-gray-400 bg-gray-900 rounded hover:bg-gray-800 transition-colors cursor-pointer",children:r.title},d))})}),e.jsx("div",{className:"mt-16 pt-8 border-t border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Partager"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const r=window.location.href;navigator.share?navigator.share({title:t.title,url:r}):navigator.clipboard.writeText(r)},className:"p-3 bg-gray-900 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(ze,{size:18,className:"text-gray-400"})}),e.jsx("button",{className:"p-3 bg-gray-900 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(We,{size:18,className:"text-gray-400"})})]})]})}),e.jsx("style",{children:`
        .article-content ul,
        .article-content ol,
        .article-content li {
          list-style: none !important;
          list-style-type: none !important;
          padding-left: 0 !important;
          margin-left: 0 !important;
        }
        .article-content li::before,
        .article-content li::marker {
          content: none !important;
          display: none !important;
        }
      `})]})}),X="polygon(15% 0, 85% 0, 100% 15%, 100% 85%, 85% 100%, 15% 100%, 0 85%, 0 15%)",Le=({author:t,publishedAt:l,colors:s,variant:a="desktop"})=>{const i=a==="mobile"?{width:64,height:64,iconSize:24,className:"w-16 h-16"}:{width:72,height:72,iconSize:28,className:"w-[72px] h-[72px]"},n=ye.useMemo(()=>{try{if(t.imageUrl&&typeof t.imageUrl=="string"&&t.imageUrl.startsWith("http"))return t.imageUrl;if(t.image){if(typeof t.image=="string"&&t.image.startsWith("http"))return t.image;if(t.image.asset){if(typeof t.image.asset=="string"&&t.image.asset.startsWith("http"))return t.image.asset;if(t.image.asset._ref&&t.image.asset._ref.includes("image-"))try{const o=F(t.image).width(i.width*2).height(i.height*2).url();if(o&&!o.includes("undefined"))return o}catch(o){console.error("Error with urlFor:",o)}}if(t.image.url&&typeof t.image.url=="string")return t.image.url}return null}catch{return null}},[t.image,t.imageUrl,i.width,i.height]);return a==="mobile"?e.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"lg:hidden mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl",style:{background:`linear-gradient(135deg, ${s.bgLight} 0%, rgba(0,0,0,0.3) 100%)`,border:`1px solid ${s.borderColor}`},children:[e.jsx("div",{className:"relative flex-shrink-0",children:n?e.jsx("div",{className:`${i.className} overflow-hidden`,style:{clipPath:X},children:e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}):e.jsx("div",{className:`${i.className} flex items-center justify-center`,style:{clipPath:X,background:s.bgGradient},children:e.jsx(Z,{size:i.iconSize,className:"text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Écrit par"}),e.jsx("h3",{className:"text-base font-bold text-white",children:t.name}),l&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[e.jsx(oe,{size:10}),new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]})]})}):e.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:s.bgGradient},children:e.jsx(ge,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-white",children:"L'auteur"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[n?e.jsx("div",{className:`${i.className} overflow-hidden`,style:{clipPath:X},children:e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}):e.jsx("div",{className:`${i.className} flex items-center justify-center`,style:{clipPath:X,background:s.bgGradient},children:e.jsx(Z,{size:i.iconSize,className:"text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-md flex items-center justify-center",style:{background:s.primary},children:e.jsx(ge,{size:10,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),l&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(oe,{size:10}),new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]})]})]}),t.bio&&e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mt-4 line-clamp-3",children:t.bio}),e.jsxs(L,{to:`/auteur/${t.name.toLowerCase().replace(/\s+/g,"-")}`,className:"group flex items-center justify-between mt-4 p-3 rounded-xl transition-all hover:bg-white/5",style:{border:`1px solid ${s.borderColor}`},children:[e.jsx("span",{className:"text-sm font-medium",style:{color:s.textColor},children:"Voir ses articles"}),e.jsx(V,{size:16,className:"group-hover:translate-x-1 transition-transform",style:{color:s.textColor}})]})]})]})},_e=({headings:t,activeSection:l,scrollProgress:s,colors:a,variant:i="desktop",mobileMenuOpen:n=!1,setMobileMenuOpen:o})=>{const[h,c]=x.useState({}),[r,d]=x.useState(!0);if(!t||t.length===0)return null;const g=m=>{i==="mobile"&&o&&o(!1);const j=document.getElementById(m);j&&j.scrollIntoView({behavior:"smooth",block:"start"})};return i==="mobile"?e.jsx("div",{className:"lg:hidden container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>o&&o(!n),className:"w-full p-5 border-b flex items-center justify-between",style:{borderColor:a.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:a.bgGradient},children:e.jsx(ue,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des matières"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(W,{size:20,className:`text-gray-400 transition-transform ${n?"rotate-180":""}`})]}),e.jsx(te,{children:n&&e.jsx(U.nav,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"p-4 max-h-[400px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:e.jsx("div",{className:"space-y-2 max-w-full",children:t.map((m,j)=>{const y=l===m.id,_=m.subheadings.length>0,k=h[m.id];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:`#${m.id}`,onClick:w=>{w.preventDefault(),g(m.id)},className:`flex-1 flex items-center gap-3 py-3 px-3 rounded-xl transition-all ${y?"bg-white/10":"hover:bg-white/5"}`,style:{borderLeft:y?`3px solid ${a.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0",style:{background:y?a.primary:a.bgLight,color:y?"#000":a.textColor},children:j+1}),e.jsx("span",{className:`text-sm ${y?"text-white font-medium":"text-gray-300"} break-words line-clamp-2`,children:m.text})]}),_&&e.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),c(N=>({...N,[m.id]:!N[m.id]}))},className:"p-2 rounded-lg hover:bg-white/10 transition-all",children:e.jsx(W,{size:16,className:`transition-transform ${k?"rotate-180":""}`,style:{color:a.textColor}})})]}),_&&k&&e.jsx("div",{className:"ml-8 mt-1 space-y-1",children:m.subheadings.map(w=>e.jsxs("a",{href:`#${w.id}`,onClick:N=>{N.preventDefault(),g(w.id)},className:"flex items-center gap-2 py-2 px-3 rounded-lg text-sm hover:bg-white/5",style:{color:l===w.id?a.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:l===w.id?a.primary:"#4b5563"}}),w.text]},w.id))})]},m.id)})})})})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>d(!r),className:"w-full p-5 flex items-center justify-between hover:bg-white/5 transition-colors",style:{borderBottom:r?"none":`1px solid ${a.borderColor}30`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:a.bgGradient},children:e.jsx(ue,{size:18,className:"text-white"})}),!r&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-white/20 animate-pulse",style:{background:a.primary+"40"}})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des matières"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(W,{size:20,className:`text-gray-400 transition-transform duration-300 ${r?"":"rotate-180"}`})]}),e.jsx(te,{children:!r&&e.jsxs(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:[e.jsx("nav",{className:"p-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:t.map((m,j)=>{const y=l===m.id,_=m.subheadings.length>0,k=h[m.id],w=m.subheadings.some(N=>l===N.id);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsxs("a",{href:`#${m.id}`,className:`
                      flex-1 flex items-center gap-3 py-3 px-4 rounded-xl
                      transition-all duration-300 relative overflow-hidden
                      ${y?"bg-gradient-to-r":"hover:bg-white/5"}
                    `,style:{background:y?`linear-gradient(90deg, ${a.bgLight}, transparent)`:w?a.bgLight+"50":void 0,borderLeft:y?`3px solid ${a.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:`
                        w-7 h-7 rounded-lg flex items-center justify-center
                        text-xs font-bold transition-all duration-300
                        ${y?"scale-110":""}
                      `,style:{background:y?a.primary:a.bgLight,color:y?"#000":a.textColor},children:j+1}),e.jsx("span",{className:`
                        flex-1 font-medium transition-colors duration-300
                        ${y?"text-white":"text-gray-300 group-hover:text-white"}
                      `,children:m.text}),y&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-green-500",children:"En cours"})]})]}),_&&e.jsx("button",{onClick:N=>{N.preventDefault(),N.stopPropagation(),c(z=>({...z,[m.id]:!z[m.id]}))},className:"p-1.5 rounded-lg transition-all duration-300 hover:bg-white/10",style:{color:a.textColor},children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{size:16,className:`transition-transform duration-300 ${k?"rotate-180":""}`}),!k&&m.subheadings.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full",style:{background:a.primary+"60"}})]})})]}),e.jsx(te,{children:_&&k&&e.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"ml-8 mt-1 space-y-1 border-l-2 border-gray-700/50 pl-4",children:m.subheadings.map(N=>{const z=l===N.id;return e.jsxs("a",{href:`#${N.id}`,className:`
                                flex items-center gap-2 py-2 px-3 rounded-lg
                                text-sm transition-all duration-200
                                ${z?"bg-white/10":"hover:bg-white/5"}
                              `,style:{color:z?a.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:z?a.primary:"#4b5563"}}),e.jsx("span",{className:"line-clamp-1",children:N.text}),z&&e.jsx(Ie,{size:12,className:"ml-auto",style:{color:a.primary}})]},N.id)})})})})]},m.id)})})}),e.jsxs("div",{className:"p-4 border-t",style:{borderColor:a.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Progression de lecture"}),e.jsxs("span",{className:"text-xs font-medium",style:{color:a.textColor},children:[Math.round(s),"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(U.div,{className:"h-full rounded-full",style:{background:a.bgGradient,width:`${s}%`},transition:{duration:.1}})})]})]})})]})},Ct=({format:t="rectangle",className:l=""})=>e.jsx("div",{className:`relative ${l}`,children:e.jsx("div",{className:`
      p-4 bg-gray-900/50 border border-dashed border-gray-700 rounded-xl
      flex flex-col items-center justify-center text-center
      ${t==="skyscraper"?"min-h-[600px]":"min-h-[250px]"}
    `,children:e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-600",children:"Publicité"})})}),St=({article:t,relatedArticles:l,latestArticles:s=[],headings:a,activeSection:i,scrollProgress:n,colors:o,onShare:h})=>{const[c,r]=x.useState("flash"),[d,g]=x.useState([]),[m,j]=x.useState([]),[y,_]=x.useState([]),[k,w]=x.useState(null),[N,z]=x.useState(null),[B,H]=x.useState(!0),p=((a==null?void 0:a.length)||0)>=3;x.useEffect(()=>{(async()=>{try{H(!0);const b=await Ne();if(b&&b.length>0){g(b.slice(0,6));const v=b.filter($=>$.isTrending).slice(0,6);j(v.length>0?v:b.slice(0,5));const I=b.filter($=>$.contentType==="emission");_(I.slice(0,6)),z(I[0]||null);const R=b.find($=>$.isTrending&&$._id!==t._id)||b.find($=>$._id!==t._id);w(R||null)}}catch(b){console.error("Erreur chargement articles:",b)}finally{H(!1)}})()},[t._id]);const S=u=>{const b=new Date,v=new Date(u),I=Math.floor((b.getTime()-v.getTime())/(1e3*60*60)),R=Math.floor(I/24);return I<1?"À l'instant":I<24?`${I}h`:R===1?"Hier":R<7?`${R}j`:v.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},A=()=>{switch(c){case"flash":return d;case"trending":return m;case"emissions":return y;default:return d}},M=(u,b=200)=>{var v,I,R,$,J,O,Y,C,P;try{if((I=(v=u.mainImage)==null?void 0:v.asset)!=null&&I.url)return u.mainImage.asset.url;if(($=(R=u.mainImage)==null?void 0:R.asset)!=null&&$._ref)return F(u.mainImage).width(b).height(b).url();if((J=u.mainImage)!=null&&J.asset)try{return F(u.mainImage).width(b).height(b).url()}catch{}return typeof u.mainImage=="string"&&u.mainImage.startsWith("http")?u.mainImage:u.mainImageUrl?u.mainImageUrl:(Y=(O=u.image)==null?void 0:O.asset)!=null&&Y.url?u.image.asset.url:(P=(C=u.image)==null?void 0:C.asset)!=null&&P._ref?F(u.image).width(b).height(b).url():null}catch(G){return console.error("Error getting article image:",G),null}},ae=[{id:"flash",label:"Flash",icon:Ze},{id:"trending",label:"Tendances",icon:Ce},{id:"emissions",label:"Vidéos",icon:ie}];return e.jsxs("div",{className:"space-y-6",children:[t.author&&e.jsx(Le,{author:t.author,publishedAt:t.publishedAt,colors:o,variant:"desktop"}),p&&a&&a.length>0&&e.jsx(_e,{headings:a,activeSection:i,scrollProgress:n,colors:o,variant:"desktop"}),e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"p-1 bg-black/30",children:e.jsx("div",{className:"flex gap-1",children:ae.map(u=>{const b=u.icon,v=c===u.id;return e.jsxs("button",{onClick:()=>r(u.id),className:`
                    flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg
                    text-sm font-medium transition-all
                    ${v?"bg-gradient-to-r from-pink-500 to-rose-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[e.jsx(b,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:u.label})]},u.id)})})}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:B?e.jsx("div",{className:"p-6 text-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"})}):e.jsx("div",{className:"p-2 space-y-1",children:A().map(u=>{const b=M(u);return e.jsxs(L,{to:`/article/${u.slug.current}`,className:"group flex items-start gap-3 p-2 rounded-lg hover:bg-white/5 transition-all",children:[b&&e.jsx("div",{className:"w-14 h-10 rounded-md overflow-hidden flex-shrink-0 bg-gray-800",children:e.jsx("img",{src:b,alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm text-gray-300 group-hover:text-white transition-colors line-clamp-2 leading-snug",children:u.title}),e.jsx("span",{className:"text-xs text-gray-500",children:S(u.publishedAt||"")})]})]},u._id)})})}),e.jsxs(L,{to:"/articles",className:"flex items-center justify-center gap-2 text-sm text-gray-400 hover:text-white p-3 border-t border-white/5",children:["Voir tous les articles ",e.jsx(V,{size:14})]})]}),k&&e.jsxs(L,{to:`/article/${k.slug.current}`,className:"block group rounded-xl overflow-hidden bg-gray-900/80 border border-white/10",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[M(k,600)?e.jsx("img",{src:M(k,600),alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-1.5 px-2 py-1 bg-pink-500 rounded-md",children:[e.jsx($e,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs font-bold text-white",children:"À la une"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:k.title}),k.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:k.excerpt})]})]}),N&&e.jsxs("div",{className:"rounded-xl overflow-hidden bg-gray-900/80 border border-white/10",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center",children:e.jsx(ie,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Dernière émission"})]}),e.jsxs(L,{to:`/article/${N.slug.current}`,className:"block group",children:[e.jsxs("div",{className:"relative aspect-video",children:[M(N,600)?e.jsx("img",{src:M(N,600),alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:e.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:e.jsx(ie,{size:24,className:"text-white ml-1"})})})]}),e.jsx("div",{className:"p-3",children:e.jsx("h4",{className:"text-sm font-medium text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:N.title})})]})]}),e.jsxs("div",{className:"rounded-xl bg-gray-900/80 border border-white/10 p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Suivez-nous"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("a",{href:"https://youtube.com/@octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-red-500/10 hover:bg-red-500/20 transition-colors group",children:[e.jsx(Je,{size:20,className:"text-red-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"YouTube"})]}),e.jsxs("a",{href:"https://instagram.com/octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-pink-500/10 hover:bg-pink-500/20 transition-colors group",children:[e.jsx(ee,{size:20,className:"text-pink-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"Instagram"})]}),e.jsxs("a",{href:"https://twitter.com/octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 transition-colors group",children:[e.jsx(se,{size:20,className:"text-blue-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"Twitter"})]})]})]}),p&&l.length>0&&e.jsxs("div",{className:"rounded-xl bg-gray-900/80 border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center",children:e.jsx(Te,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:"À lire aussi"})]}),e.jsx("div",{className:"p-2 space-y-1",children:l.slice(0,4).map(u=>{const b=M(u);return e.jsxs(L,{to:`/article/${u.slug.current}`,className:"group flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-all",children:[e.jsx("div",{className:"w-14 h-10 rounded-md overflow-hidden flex-shrink-0 bg-gray-800",children:b?e.jsx("img",{src:b,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-700"})}),e.jsx("h4",{className:"flex-1 text-sm text-gray-300 group-hover:text-white transition-colors line-clamp-2",children:u.title})]},u._id)})})]}),e.jsx(Ct,{format:"skyscraper"})]})},At=({articles:t,colors:l})=>{if(t.length===0)return null;const s=a=>{var i,n;return(i=a==null?void 0:a.asset)!=null&&i.url?a.asset.url:(n=a==null?void 0:a.asset)!=null&&n._ref?`https://cdn.sanity.io/images/5rn8u6ed/production/${a.asset._ref.replace("image-","").replace("-jpg",".jpg").replace("-jpeg",".jpeg").replace("-png",".png").replace("-webp",".webp")}?w=400&h=250&fit=crop&auto=format`:null};return e.jsx("section",{className:"py-20 bg-gradient-to-b from-transparent via-gray-900/20 to-transparent",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Continuez votre lecture"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Découvrez d'autres articles qui pourraient vous intéresser"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.slice(0,6).map((a,i)=>{var c;const o=(()=>{var d,g,m,j;switch((j=(m=(g=(d=a.categories)==null?void 0:d[0])==null?void 0:g.slug)==null?void 0:m.current)==null?void 0:j.toLowerCase()){case"story":case"recits":return{gradient:"from-amber-500 to-orange-500",primary:"#f59e0b",textColor:"#fbbf24",borderColor:"rgba(245, 158, 11, 0.3)"};case"business":return{gradient:"from-blue-500 to-cyan-500",primary:"#3b82f6",textColor:"#60a5fa",borderColor:"rgba(59, 130, 246, 0.3)"};case"mental":case"psycho":return{gradient:"from-purple-500 to-violet-500",primary:"#a855f7",textColor:"#c084fc",borderColor:"rgba(168, 85, 247, 0.3)"};case"society":return{gradient:"from-emerald-500 to-teal-500",primary:"#10b981",textColor:"#34d399",borderColor:"rgba(16, 185, 129, 0.3)"};default:return{gradient:"from-gray-500 to-gray-600",primary:"#6b7280",textColor:"#9ca3af",borderColor:"rgba(107, 114, 128, 0.3)"}}})(),h=s(a.mainImage);return e.jsx(U.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"group",children:e.jsx(L,{to:`/article/${a.slug.current}`,children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-white/5 border transition-all hover:transform hover:scale-105",style:{borderColor:o.borderColor},onMouseEnter:r=>{r.currentTarget.style.borderColor=o.primary},onMouseLeave:r=>{r.currentTarget.style.borderColor=o.borderColor},children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-900",children:[h?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:h,alt:a.title||"Article image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy",onError:r=>{const d=r.currentTarget;d.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})]}):e.jsx("div",{className:`w-full h-full bg-gradient-to-br ${o.gradient} opacity-50`,children:e.jsx("div",{className:"absolute inset-0 bg-black/40"})}),a.categories&&a.categories[0]&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium text-white bg-gradient-to-r ${o.gradient} shadow-lg`,children:a.categories[0].title})}),a.readingTime&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium text-white bg-black/60 backdrop-blur",children:[a.readingTime," min"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3 line-clamp-2 group-hover:text-opacity-90 transition-colors",children:a.title}),a.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-4",children:a.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[((c=a.author)==null?void 0:c.name)&&e.jsxs("span",{className:"truncate max-w-[60%]",children:["Par ",a.author.name]}),a.publishedAt&&e.jsx("span",{children:new Date(a.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300",style:{background:`linear-gradient(to right, ${o.primary}, ${o.textColor})`}})]})})},a._id)})}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(L,{to:"/articles",className:`inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r ${l.gradient} hover:opacity-90 text-white rounded-lg font-medium transition-all transform hover:scale-105`,children:["Voir tous les articles",e.jsx(re,{size:20})]})})]})})},It=({isOpen:t,onClose:l,shareUrl:s,shareTitle:a,shareText:i})=>{const[n,o]=x.useState(!1),h=()=>{navigator.clipboard.writeText(s),o(!0),setTimeout(()=>{o(!1),l()},1e3)},c=[{name:"Twitter",icon:se,color:"hover:bg-blue-500/20 hover:text-blue-400",url:`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(s)}`},{name:"LinkedIn",icon:Xe,color:"hover:bg-blue-700/20 hover:text-blue-600",url:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(s)}`},{name:"Facebook",icon:Ke,color:"hover:bg-blue-600/20 hover:text-blue-500",url:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`},{name:"WhatsApp",icon:ke,color:"hover:bg-green-500/20 hover:text-green-400",url:`https://wa.me/?text=${encodeURIComponent(a+" "+s)}`},{name:"Telegram",icon:et,color:"hover:bg-sky-500/20 hover:text-sky-400",url:`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${encodeURIComponent(a)}`},{name:"Email",icon:tt,color:"hover:bg-purple-500/20 hover:text-purple-400",url:`mailto:?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(i+`

`+s)}`}];return e.jsx(te,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]"}),e.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"fixed inset-x-4 bottom-20 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-[90%] max-w-md bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-gray-700/50 shadow-2xl z-[101]",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 md:p-6 border-b border-gray-700/50",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:"Partager cet article"}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Ae,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"p-5 md:p-6 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map(r=>{const d=r.icon;return e.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",onClick:l,className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10 transition-all ${r.color}`,children:[e.jsx(d,{size:20,className:"md:hidden"}),e.jsx(d,{size:24,className:"hidden md:block"}),e.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:r.name})]},r.name)})}),e.jsxs("div",{className:"pt-4 border-t border-gray-700/50",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mb-3",children:"Ou copier le lien"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-3 py-2.5 md:px-4 md:py-3 bg-black/50 border border-gray-700 rounded-lg text-gray-300 text-xs md:text-sm"}),e.jsxs("button",{onClick:h,className:"px-3 py-2.5 md:px-4 md:py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm",children:[n?e.jsx(pe,{size:16,className:"md:hidden"}):e.jsx(be,{size:16,className:"md:hidden"}),n?e.jsx(pe,{size:18,className:"hidden md:block"}):e.jsx(be,{size:18,className:"hidden md:block"}),e.jsx("span",{className:"hidden sm:inline",children:n?"Copié!":"Copier"})]})]})]})]})]})]})})},zt=({colors:t,variant:l="desktop"})=>{const s=l==="mobile"?"lg:hidden mt-12":"";return e.jsx("div",{className:s,children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 opacity-90",style:{background:t.bgGradient}}),e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 transform rotate-45 translate-x-16 -translate-y-16",children:e.jsx("div",{className:"w-full h-full bg-white rounded-lg"})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 transform rotate-45 -translate-x-16 translate-y-16",children:e.jsx("div",{className:"w-full h-full bg-white rounded-lg"})})]}),e.jsxs("div",{className:"relative p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"px-2 py-1 bg-white/20 rounded text-xs font-semibold text-white uppercase",children:"Le Club Élite"}),e.jsxs("span",{className:"px-2 py-1 bg-amber-500 text-black rounded text-xs font-bold flex items-center gap-1",children:[e.jsx(ve,{size:10}),"Bientôt"]})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center animate-pulse",children:e.jsx(st,{className:"w-8 h-8 text-black"})})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:"Quelque chose d'exceptionnel arrive"}),e.jsx("p",{className:"text-white/90 text-sm mb-4 text-center",children:"L'écosystème premium pour les entrepreneurs d'exception est en préparation."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx("span",{className:"text-amber-400",children:"✔"}),e.jsx("span",{children:"Accès VIP aux contenus"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx("span",{className:"text-amber-400",children:"✔"}),e.jsx("span",{children:"Communauté privée"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx("span",{className:"text-amber-400",children:"✔"}),e.jsx("span",{children:"Events mensuels exclusifs"})]})]}),e.jsx("div",{className:"w-full py-3 bg-white/10 text-white/60 rounded-xl font-bold text-center border border-white/20 cursor-not-allowed",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Te,{size:16,className:"text-amber-400"}),e.jsx("span",{children:"Ouverture prochaine"})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[e.jsx(rt,{size:12,className:"text-white/60"}),e.jsx("p",{className:"text-xs text-white/60 text-center",children:"500+ personnes attendent déjà"})]}),e.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[...Array(5)].map((a,i)=>e.jsx($e,{size:10,className:"fill-amber-400 text-amber-400"},i))})]})]})})},ne=[{_id:"1",title:"Comment débuter en programmation web en 2024",slug:{current:"comment-debuter-programmation"},excerpt:"Guide complet pour apprendre la programmation web de zéro. Découvrez les langages essentiels, les outils indispensables et la roadmap parfaite pour devenir développeur.",body:[{_type:"block",children:[{text:"La programmation web est l'un des domaines les plus accessibles et demandés du développement logiciel. Que vous souhaitiez créer des sites vitrines, des applications web complexes ou même devenir freelance, ce guide vous donnera toutes les clés pour réussir.",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"Les langages fondamentaux",_type:"span"}]},{_type:"block",children:[{text:"HTML (HyperText Markup Language) est le squelette de toute page web. Il définit la structure et le contenu : les titres, paragraphes, listes, liens, images, formulaires et tableaux.",_type:"span"}]},{_type:"block",children:[{text:"CSS (Cascading Style Sheets) s'occupe de la présentation : couleurs, polices, espacements, mise en page responsive, animations et transitions.",_type:"span"}]},{_type:"block",children:[{text:"JavaScript apporte l'interactivité : manipulation du DOM, gestion des événements, communication avec les APIs.",_type:"span"}]}],publishedAt:"2024-12-01T10:00:00.000Z",author:{name:"Alex Développeur",bio:"Développeur fullstack passionné avec 5 ans d'expérience. Spécialisé en React, Node.js et formations."},categories:[{title:"Programmation",slug:{current:"programmation"}},{title:"Débutant",slug:{current:"debutant"}}],tags:[{title:"HTML",slug:{current:"html"}},{title:"CSS",slug:{current:"css"}},{title:"JavaScript",slug:{current:"javascript"}}],readingTime:8,views:1247,likes:89},{_id:"2",title:"Maîtriser les React Hooks : Guide complet 2024",slug:{current:"react-hooks-guide"},excerpt:"Découvrez tous les secrets des React Hooks avec des exemples pratiques. useState, useEffect, useContext et hooks personnalisés expliqués simplement.",body:[{_type:"block",children:[{text:"Les React Hooks ont révolutionné la façon d'écrire des composants React. Fini les classes complexes, place à des fonctions élégantes et réutilisables !",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"useState : Gérer l'état local",_type:"span"}]},{_type:"block",children:[{text:"Le hook le plus utilisé pour gérer l'état dans vos composants. Exemple : const [count, setCount] = useState(0);",_type:"span"}]}],publishedAt:"2024-11-28T14:30:00.000Z",author:{name:"Marie Frontend",bio:"Experte React avec une passion pour l'architecture frontend moderne."},categories:[{title:"React",slug:{current:"react"}},{title:"Avancé",slug:{current:"avance"}}],tags:[{title:"React",slug:{current:"react"}},{title:"Hooks",slug:{current:"hooks"}}],readingTime:12,views:892,likes:156},{_id:"3",title:"CSS Grid vs Flexbox : Quand utiliser quoi ?",slug:{current:"css-grid-vs-flexbox"},excerpt:"Comprendre les différences entre CSS Grid et Flexbox. Découvrez quand et comment utiliser chaque technique pour créer des layouts parfaits.",body:[{_type:"block",children:[{text:"CSS Grid et Flexbox sont deux systèmes de mise en page puissants mais avec des objectifs différents. Ce guide vous aide à choisir la bonne solution.",_type:"span"}]}],publishedAt:"2024-11-25T09:15:00.000Z",author:{name:"Sophie Design",bio:"Designer UI/UX spécialisée dans les interfaces web modernes et accessibles."},categories:[{title:"CSS",slug:{current:"css"}},{title:"Design",slug:{current:"design"}}],tags:[{title:"CSS",slug:{current:"css"}},{title:"Layout",slug:{current:"layout"}}],readingTime:6,views:654,likes:78},{_id:"4",title:"API REST vs GraphQL : Le guide complet",slug:{current:"api-rest-vs-graphql"},excerpt:"Comparaison détaillée entre REST et GraphQL. Avantages, inconvénients, et cas d'usage pour vous aider à faire le bon choix architectural.",body:[{_type:"block",children:[{text:"Le choix entre REST et GraphQL est crucial pour votre architecture. Chaque approche a ses avantages selon votre contexte projet.",_type:"span"}]}],publishedAt:"2024-11-22T16:45:00.000Z",author:{name:"Thomas Backend",bio:"Architecte logiciel spécialisé dans les APIs et les systèmes distribués."},categories:[{title:"Backend",slug:{current:"backend"}},{title:"API",slug:{current:"api"}}],tags:[{title:"REST",slug:{current:"rest"}},{title:"GraphQL",slug:{current:"graphql"}}],readingTime:10,views:1089,likes:134}];class $t{static delay(l=300){return new Promise(s=>setTimeout(s,l))}static async getAllArticles(){return await this.delay(),[...ne].sort((l,s)=>new Date(s.publishedAt).getTime()-new Date(l.publishedAt).getTime())}static async getArticleBySlug(l){return await this.delay(),ne.find(s=>s.slug.current===l)||null}static async getRelatedArticles(l,s=3){return await this.delay(),ne.filter(a=>a._id!==l).slice(0,s)}}const K=t=>t?typeof t=="string"?t:t._type==="block"&&t.children?t.children.map(l=>l.text||"").join(""):Array.isArray(t)?t.map(l=>l._type==="block"&&l.children?l.children.map(s=>s.text||"").join(""):"").join(" "):t.text?t.text:"":"",Tt=t=>({gradient:"from-pink-500 to-rose-600",bgGradient:"linear-gradient(135deg, rgb(236 72 153), rgb(225 29 72))",primary:"#ec4899",secondary:"#e11d48",bgLight:"rgba(236, 72, 153, 0.1)",bgMedium:"rgba(236, 72, 153, 0.2)",borderColor:"rgba(236, 72, 153, 0.3)",textColor:"#f472b6"}),Lt=t=>{if(!(t!=null&&t.body))return null;const l=[];let s=null;return t.body.filter(a=>a._type==="block"&&["h2","h3"].includes(a.style)).forEach(a=>{var h,c;const i=((c=(h=a.children)==null?void 0:h[0])==null?void 0:c.text)||"",o=`${a.style==="h2"?"h2-":"h3-"}${i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;a.style==="h2"?(s={id:o,text:i,subheadings:[]},l.push(s)):a.style==="h3"&&(s?s.subheadings.push({id:o,text:i}):l.push({id:o,text:i,subheadings:[]}))}),l.length>0?l:null},Gt=({isEmission:t=!1})=>{var O,Y;const{slug:l}=Re(),[s,a]=x.useState(null),[i,n]=x.useState([]),[o,h]=x.useState([]),[c,r]=x.useState(!0),[d,g]=x.useState(null),[m,j]=x.useState(!1),[y,_]=x.useState(!1),[k,w]=x.useState(0),[N,z]=x.useState("local"),[B,H]=x.useState(0),[p,S]=x.useState("intro"),[A,M]=x.useState(!1),[ae,u]=x.useState(!1);x.useEffect(()=>{const C=()=>{const P=document.documentElement.scrollHeight-window.innerHeight,G=window.scrollY/P*100;H(Math.min(G,100)),document.querySelectorAll("section[id], h2[id], h3[id]").forEach(f=>{const D=f.getBoundingClientRect();D.top<=150&&D.bottom>=150&&S(f.id)})};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]),x.useEffect(()=>{(async()=>{var P;if(!l){g("Slug de l'article manquant."),r(!1);return}try{r(!0),g(null);const ce=new URLSearchParams(window.location.search).get("preview")==="true";let f=null;try{f=await Fe(l,ce),f&&(z("sanity"),f.excerpt&&(f.excerpt=K(f.excerpt)),(P=f.author)!=null&&P.bio&&(f.author.bio=K(f.author.bio)),f.keyPoints&&!Array.isArray(f.keyPoints)?delete f.keyPoints:f.keyPoints&&Array.isArray(f.keyPoints)&&(f.keyPoints=f.keyPoints.map(D=>typeof D=="string"?D:K(D)).filter(Boolean)))}catch(D){console.error("Erreur Sanity:",D)}if(f||(f=await $t.getArticleBySlug(l),z("local")),!f)g("Article non trouvé");else{a(f),w(f.likes||0);const D=JSON.parse(localStorage.getItem("bookmarks")||"[]");j(D.includes(f._id));try{const le=(await Ne()).map(E=>({...E,excerpt:K(E.excerpt)}));let q;if(f.categories&&f.categories.length>0){const E=f.categories.map(T=>T._id);q=le.filter(T=>T._id===f._id?!1:T.categories&&T.categories.length>0?T.categories.some(Q=>E.includes(Q._id)):!1)}if(!q||q.length<6){const E=le.filter(T=>T._id!==f._id).filter(T=>!(q!=null&&q.some(Q=>Q._id===T._id)));q=[...q||[],...E].slice(0,6)}n(q||[]);const Pe=le.filter(E=>E._id!==f._id).sort((E,T)=>{const Q=new Date(E.publishedAt||E._createdAt).getTime();return new Date(T.publishedAt||T._createdAt).getTime()-Q}).slice(0,6);h(Pe)}catch(de){console.error("Erreur chargement articles liés:",de)}}}catch(G){console.error("Erreur lors du chargement:",G),g("Erreur lors du chargement de l'article")}finally{r(!1)}})()},[l,t]),x.useEffect(()=>{window.scrollTo(0,0)},[l]),x.useCallback(()=>{_(C=>!C),w(C=>y?C-1:C+1)},[y]),x.useCallback(()=>{if(!s)return;const C=JSON.parse(localStorage.getItem("bookmarks")||"[]");if(m){const P=C.filter(G=>G!==s._id);localStorage.setItem("bookmarks",JSON.stringify(P))}else C.push(s._id),localStorage.setItem("bookmarks",JSON.stringify(C));j(P=>!P)},[s,m]);const b=x.useCallback(()=>{M(!0)},[]),v=x.useMemo(()=>Tt(),[s]),I=x.useMemo(()=>Lt(s),[s]),R=typeof window<"u"?window.location.href:"",$=(s==null?void 0:s.title)||"",J=(s==null?void 0:s.excerpt)||"";return c?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(Ue,{})}):d||!s?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{message:d||"Article non trouvé"}),e.jsxs(L,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 px-6 py-3 rounded-lg text-white transition-colors mt-4",children:[e.jsx(at,{size:20}),"Retour à l'accueil"]})]})}):e.jsxs(qe,{children:[e.jsx(De,{title:s.title,description:s.excerpt,keywords:(O=s.tags)==null?void 0:O.map(C=>C.title).join(", "),author:(Y=s.author)==null?void 0:Y.name,publishedTime:s.publishedAt,image:s.mainImage}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        /* Fix pour empêcher le scroll horizontal sur mobile */
        html, body {
          overflow-x: hidden !important;
          max-width: 100vw !important;
          position: relative;
        }
        body {
          overscroll-behavior-x: none;
        }
        p, h1, h2, h3, h4, h5, h6, li, span {
          word-wrap: break-word;
          overflow-wrap: break-word;
        }
        #root, main {
          overflow-x: hidden !important;
        }
      `}),e.jsx(It,{isOpen:A,onClose:()=>M(!1),shareUrl:R,shareTitle:$,shareText:J}),e.jsx("div",{className:`fixed top-0 left-0 h-1 bg-gradient-to-r ${v.gradient} z-[60] transition-all duration-300`,style:{width:`${B}%`}}),e.jsxs("div",{className:"min-h-screen bg-black text-white overflow-x-hidden",children:[e.jsx(dt,{article:s,colors:v}),I&&I.length>0&&e.jsx(_e,{headings:I,activeSection:p,scrollProgress:B,colors:v,variant:"mobile",mobileMenuOpen:ae,setMobileMenuOpen:u}),e.jsx("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[s.author&&e.jsx(Le,{author:s.author,publishedAt:s.publishedAt,colors:v,variant:"mobile"}),e.jsx(kt,{article:s,colors:v,isEmission:t}),e.jsx(zt,{colors:v,variant:"mobile"})]}),e.jsx("div",{className:"hidden lg:block lg:col-span-4",children:e.jsx(St,{article:s,relatedArticles:i,latestArticles:o,headings:I,activeSection:p,scrollProgress:B,colors:v,onShare:b})})]})}),e.jsx(At,{articles:i,colors:v}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/90 backdrop-blur-lg border-t border-white/10 p-4 lg:hidden z-50",children:e.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-3 py-3 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[e.jsx(ze,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Partager cet article"})]})})]}),e.jsx(Be,{})]})};export{Gt as default};
