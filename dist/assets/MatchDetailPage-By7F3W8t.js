import{j as e}from"./sanity-Dli2Tcak.js";import{r as y,f as rs,L as P}from"./react-vendor-BZT10b4B.js";import{t as J,E as ns,F as cs,G as os,H as xs,I as ds,J as ms,K as Ce,q as hs,c as ps,n as gs,w as He,h as _e}from"./index-DupEI9-e.js";import{a as us,b as ne,i as js,f as ee}from"./oddsService-CRw8dx3o.js";import{p as fs,A as Ue,m as V,am as Be,a9 as bs,x as ie,a8 as re,U as Q,ay as K,I as Ns,k as Oe,an as ys,u as se,i as qe,g as Ye,Z as ce,o as Je,e as Ke,T as oe,aw as ws}from"./ui-CXtmN_I9.js";import{F as vs}from"./Footer-Cv9hBZJY.js";import{i as Ts}from"./sanityAPI-BfwYldDX.js";const Ve=({homeTeam:l,awayTeam:s,competitionId:r,matchStatus:n="SCHEDULED"})=>{const[m,c]=y.useState(null),[d,g]=y.useState(!0),[f,k]=y.useState(null),[b,u]=y.useState(!1);y.useEffect(()=>{const E=async()=>{if(n==="FINISHED"){g(!1);return}try{g(!0),k(null),console.log("[OddsWidget] Searching odds for:",{homeTeam:l,awayTeam:s,competitionId:r});const R=await ne(l,s,r);console.log("[OddsWidget] Found odds:",R),c(R)}catch(R){console.error("[OddsWidget] Error:",R),k("Impossible de charger les cotes")}finally{g(!1)}};if(E(),n==="IN_PLAY"){const R=setInterval(E,18e4);return()=>clearInterval(R)}},[l,s,r,n]);const S=async()=>{g(!0);const E=await ne(l,s,r);c(E),g(!1)};if(n==="FINISHED")return null;const o=m==null?void 0:m.odds.winamax,L=m?us(m):null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-8 h-8 rounded-lg object-contain"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-bold text-sm",children:"Cotes Winamax"}),n==="IN_PLAY"&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-[10px] bg-red-500 text-white rounded animate-pulse",children:"LIVE"})]})]}),e.jsx("button",{onClick:S,disabled:d,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:e.jsx(fs,{className:`w-4 h-4 text-gray-400 ${d?"animate-spin":""}`})})]}),e.jsx("div",{className:"p-4",children:e.jsx(Ue,{mode:"wait",children:d?e.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})},"loading"):f?e.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(Be,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:f})]},"error"):o?e.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(Y,{label:l.split(" ").pop()||"1",value:o.home,isFavorite:L==="home",showProbability:b}),e.jsx(Y,{label:"Nul",value:o.draw,isFavorite:L==="draw",showProbability:b}),e.jsx(Y,{label:s.split(" ").pop()||"2",value:o.away,isFavorite:L==="away",showProbability:b})]}),o.overUnder&&e.jsxs("div",{className:"pt-3 border-t border-white/5",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Plus/Moins ",o.overUnder.line," buts"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(Y,{label:`+ ${o.overUnder.line}`,value:o.overUnder.over,showProbability:b,small:!0}),e.jsx(Y,{label:`- ${o.overUnder.line}`,value:o.overUnder.under,showProbability:b,small:!0})]})]}),e.jsx("button",{onClick:()=>u(!b),className:"w-full text-xs text-gray-500 hover:text-gray-300 transition-colors py-1",children:b?"Voir les cotes":"Voir les probabilitÃ©s"}),e.jsxs("p",{className:"text-[10px] text-gray-600 text-center leading-tight",children:["Cotes Ã  titre informatif uniquement.",e.jsx("br",{}),"Les paris comportent des risques."]})]},"odds"):e.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(bs,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Cotes indisponibles"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"pour ce match"})]},"no-odds")})})]})},Y=({label:l,value:s,isFavorite:r=!1,showProbability:n=!1,small:m=!1})=>{const c=n?`${js(s).toFixed(0)}%`:ee(s);return e.jsxs("div",{className:`
        relative flex flex-col items-center justify-center rounded-lg
        transition-all duration-200 cursor-default
        ${m?"py-2 px-3":"py-3 px-2"}
        ${r?"bg-green-500/20 border border-green-500/30":"bg-white/5 border border-white/10 hover:bg-white/10"}
      `,children:[e.jsx("span",{className:`text-gray-400 ${m?"text-[10px]":"text-xs"} mb-0.5`,children:l}),e.jsx("span",{className:`
          font-bold
          ${m?"text-sm":"text-lg"}
          ${r?"text-green-400":"text-white"}
        `,children:c}),r&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]})},O=({label:l,homeValue:s,awayValue:r,isPercentage:n=!1})=>{const m=s+r||1,c=s/m*100,d=r/m*100;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-white font-bold",children:[s,n?"%":""]}),e.jsx("span",{className:"text-gray-400",children:l}),e.jsxs("span",{className:"text-white font-bold",children:[r,n?"%":""]})]}),e.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-800",children:[e.jsx(V.div,{initial:{width:0},animate:{width:`${c}%`},transition:{duration:.8},className:"bg-gradient-to-r from-pink-500 to-pink-400"}),e.jsx(V.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:.8},className:"bg-gradient-to-l from-blue-500 to-blue-400"})]})]})},ks=({type:l,detail:s})=>{switch(l){case"Goal":return e.jsx("span",{className:"text-2xl",children:"âš½"});case"Card":return s==="Red Card"?e.jsx("span",{className:"text-2xl",children:"ðŸŸ¥"}):s==="Second Yellow card"?e.jsx("span",{className:"text-2xl",children:"ðŸŸ¨ðŸŸ¥"}):e.jsx("span",{className:"text-2xl",children:"ðŸŸ¨"});case"subst":return e.jsx("span",{className:"text-2xl",children:"ðŸ”„"});case"Var":return e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded",children:"VAR"});default:return e.jsx("span",{className:"text-2xl",children:"ðŸ“‹"})}},te=({result:l})=>{const s={W:"bg-green-500 text-white",D:"bg-gray-500 text-white",L:"bg-red-500 text-white"},r={W:"V",D:"N",L:"D"};return e.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded text-xs font-bold ${s[l]}`,children:r[l]})},Ss=({article:l})=>{var n;if(!l)return null;const r=(()=>{var m,c,d,g;try{return(c=(m=l.mainImage)==null?void 0:m.asset)!=null&&c.url?l.mainImage.asset.url:(g=(d=l.mainImage)==null?void 0:d.asset)!=null&&g._ref?_e(l.mainImage).width(400).height(200).url():null}catch{return null}})();return e.jsxs(P,{to:`/article/${(n=l.slug)==null?void 0:n.current}`,className:"block group rounded-xl overflow-hidden bg-gray-900/50 border border-white/10",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[r?e.jsx("img",{src:r,alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-1.5 px-2 py-1 bg-pink-500 rounded-md",children:[e.jsx(se,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs font-bold text-white",children:"Ã€ la une"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:l.title}),l.excerpt&&e.jsx("p",{className:"text-xs text-gray-400 mt-2 line-clamp-2",children:l.excerpt})]})]})},$s=({articles:l})=>{if(!l||l.length===0)return null;const s=n=>{var m,c,d,g;try{return(c=(m=n.mainImage)==null?void 0:m.asset)!=null&&c.url?n.mainImage.asset.url:(g=(d=n.mainImage)==null?void 0:d.asset)!=null&&g._ref?_e(n.mainImage).width(100).height(60).url():null}catch{return null}},r=n=>{if(!n)return"";const m=Date.now()-new Date(n).getTime(),c=Math.floor(m/(1e3*60*60));if(c<1)return"Ã€ l'instant";if(c<24)return`${c}h`;const d=Math.floor(c/24);return d===1?"Hier":`${d}j`};return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-pink-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Flash Info"})]}),e.jsx(P,{to:"/articles",className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout â†’"})]}),e.jsx("div",{className:"p-2 space-y-1 max-h-[280px] overflow-y-auto",children:l.slice(0,5).map(n=>{var c;const m=s(n);return e.jsxs(P,{to:`/article/${(c=n.slug)==null?void 0:c.current}`,className:"flex items-start gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors group",children:[m&&e.jsx("div",{className:"w-12 h-8 rounded overflow-hidden flex-shrink-0 bg-gray-800",children:e.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs text-gray-300 group-hover:text-white transition-colors line-clamp-2 leading-tight",children:n.title}),e.jsx("span",{className:"text-[10px] text-gray-500",children:r(n.publishedAt||"")})]})]},n._id)})})]})},Ps=({standings:l,homeTeamId:s,awayTeamId:r,competitionId:n})=>{if(l.length===0)return null;const m=l.findIndex(f=>f.team.id===s),c=l.findIndex(f=>f.team.id===r),d=Math.max(0,Math.min(m,c)-2),g=l.slice(d,d+7);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Classement"})]}),e.jsx(P,{to:`/classements?league=${n}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout â†’"})]}),e.jsx("div",{className:"p-2",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-500",children:[e.jsx("th",{className:"py-1 px-2 text-left",children:"#"}),e.jsx("th",{className:"py-1 px-2 text-left",children:"Ã‰quipe"}),e.jsx("th",{className:"py-1 px-2 text-center",children:"MJ"}),e.jsx("th",{className:"py-1 px-2 text-center",children:"Pts"})]})}),e.jsx("tbody",{children:g.map(f=>{const k=f.team.id===s||f.team.id===r,b=f.team.id===s;return f.team.id,e.jsxs("tr",{className:`border-t border-white/5 ${k?b?"bg-pink-500/10":"bg-blue-500/10":""}`,children:[e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded text-xs font-bold ${f.position<=4?"bg-blue-500/30 text-blue-400":f.position>=l.length-2?"bg-red-500/30 text-red-400":"text-gray-400"}`,children:f.position})}),e.jsx("td",{className:"py-2 px-2",children:e.jsxs(P,{to:`/classements/club/${f.team.id}`,className:"flex items-center gap-2 hover:text-pink-400",children:[e.jsx("img",{src:f.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:`truncate max-w-[80px] ${k?"text-white font-bold":"text-gray-300"}`,children:f.team.name})]})}),e.jsx("td",{className:"py-2 px-2 text-center text-gray-400",children:f.playedGames}),e.jsx("td",{className:"py-2 px-2 text-center text-white font-bold",children:f.points})]},f.team.id)})})]})})]})},Re=({scorers:l,competitionId:s})=>{const[r,n]=y.useState(!1);if(l.length===0)return null;const m=[...l].filter(d=>d.assists>0).sort((d,g)=>g.assists-d.assists).slice(0,5),c=r?m:l.slice(0,5);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:r?"ðŸŽ¯":"âš½"}),e.jsx("span",{className:"text-white font-bold text-sm",children:r?"Meilleurs passeurs":"Meilleurs buteurs"})]}),e.jsx(P,{to:`/classements?league=${s}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout â†’"})]}),e.jsxs("div",{className:"flex border-b border-white/10",children:[e.jsx("button",{onClick:()=>n(!1),className:`flex-1 py-2 text-xs font-medium transition-colors ${r?"text-gray-500 hover:text-gray-300":"text-pink-400 bg-pink-500/10 border-b-2 border-pink-500"}`,children:"âš½ Buteurs"}),e.jsx("button",{onClick:()=>n(!0),className:`flex-1 py-2 text-xs font-medium transition-colors ${r?"text-blue-400 bg-blue-500/10 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-300"}`,children:"ðŸŽ¯ Passeurs"})]}),e.jsx("div",{className:"p-3 space-y-2",children:c.length===0?e.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"Aucune donnÃ©e disponible"}):c.map((d,g)=>e.jsxs(P,{to:`/player/${d.player.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors",children:[e.jsx("span",{className:`w-5 h-5 flex items-center justify-center rounded text-xs font-bold ${g===0?"bg-yellow-500/30 text-yellow-400":g===1?"bg-gray-400/30 text-gray-300":g===2?"bg-amber-600/30 text-amber-500":"bg-gray-800 text-gray-500"}`,children:g+1}),e.jsx("img",{src:d.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:d.player.name}),e.jsx("span",{className:`font-bold text-sm ${r?"text-blue-400":"text-pink-400"}`,children:r?d.assists:d.goals})]},d.player.id))})]})},We=({homeForm:l,awayForm:s,homeTeam:r,awayTeam:n})=>l.length===0&&s.length===0?null:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Forme rÃ©cente"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:r.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("div",{className:"flex gap-1",children:l.slice(0,5).map((m,c)=>e.jsx(te,{result:m},c))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:n.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("div",{className:"flex gap-1",children:s.slice(0,5).map((m,c)=>e.jsx(te,{result:m},c))})]})]})]}),Is=({match:l,h2h:s,homeForm:r,awayForm:n,standings:m,headerOdds:c})=>{const d=(()=>{let u=0,S=0,o=0,L=0,E=0;return s.forEach(R=>{const G=R.score.fullTime.home??0,U=R.score.fullTime.away??0;R.homeTeam.id===l.homeTeam.id?(L+=G,E+=U,G>U?u++:U>G?S++:o++):(L+=U,E+=G,U>G?u++:G>U?S++:o++)}),{homeWins:u,awayWins:S,draws:o,homeGoals:L,awayGoals:E,total:s.length}})(),g=u=>u.slice(0,5).reduce((S,o)=>S+(o==="W"?3:o==="D"?1:0),0);g(r),g(n);const f=m.find(u=>u.team.id===l.homeTeam.id),k=m.find(u=>u.team.id===l.awayTeam.id),b=(()=>{if(!(c!=null&&c.odds.winamax))return null;const{home:u,draw:S,away:o}=c.odds.winamax,L=Math.min(u,S,o);return L===u?{winner:"home",confidence:Math.round(1/u*100)}:L===o?{winner:"away",confidence:Math.round(1/o*100)}:{winner:"draw",confidence:Math.round(1/S*100)}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-900/30 via-gray-900/50 to-blue-900/30 rounded-2xl border border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx(Ke,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Avant-Match"}),e.jsx(qe,{className:"w-5 h-5 text-orange-400"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:l.homeTeam.crest,alt:"",className:"w-16 h-16 mx-auto mb-2"}),e.jsx("p",{className:"text-white font-bold text-sm mb-2",children:l.homeTeam.shortName||l.homeTeam.name}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:r.slice(0,5).map((u,S)=>e.jsx(te,{result:u},S))}),f&&e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-pink-400 font-bold",children:[f.position,"e"]})," au classement"]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-pink-500 to-blue-500 flex items-center justify-center shadow-lg shadow-purple-500/30 mb-2",children:e.jsx("span",{className:"text-white font-black text-lg",children:"VS"})}),e.jsx("p",{className:"text-gray-500 text-xs",children:J(l.utcDate)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:l.awayTeam.crest,alt:"",className:"w-16 h-16 mx-auto mb-2"}),e.jsx("p",{className:"text-white font-bold text-sm mb-2",children:l.awayTeam.shortName||l.awayTeam.name}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:n.slice(0,5).map((u,S)=>e.jsx(te,{result:u},S))}),k&&e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-blue-400 font-bold",children:[k.position,"e"]})," au classement"]})]})]}),f&&k&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-pink-400",children:f.goalsFor}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts marquÃ©s"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ye,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-blue-400",children:k.goalsFor}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts marquÃ©s"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-pink-400",children:f.goalsAgainst}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts encaissÃ©s"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(ws,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-blue-400",children:k.goalsAgainst}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts encaissÃ©s"})]})]})]}),e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Confrontations directes"}),e.jsxs("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs font-bold rounded-full",children:[d.total," matchs"]})]})}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 grid grid-cols-3 gap-4 border-b border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-pink-400",children:d.homeWins}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Victoires ",l.homeTeam.shortName||l.homeTeam.name.substring(0,3)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-gray-400",children:d.draws}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nuls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-blue-400",children:d.awayWins}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Victoires ",l.awayTeam.shortName||l.awayTeam.name.substring(0,3)]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-white/10",children:e.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-400 transition-all",style:{width:`${d.homeWins/d.total*100}%`}}),e.jsx("div",{className:"bg-gray-600 transition-all",style:{width:`${d.draws/d.total*100}%`}}),e.jsx("div",{className:"bg-gradient-to-l from-blue-500 to-blue-400 transition-all",style:{width:`${d.awayWins/d.total*100}%`}})]})}),e.jsx("div",{className:"p-4 space-y-2",children:s.slice(0,5).map(u=>{const S=u.homeTeam.id===l.homeTeam.id,o=u.score.fullTime.home??0,L=u.score.fullTime.away??0,E=S?o>L?"W":o<L?"L":"D":L>o?"W":L<o?"L":"D";return e.jsxs(P,{to:`/match/${u.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:J(u.utcDate)}),e.jsx("img",{src:u.homeTeam.crest,alt:"",className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:u.homeTeam.name}),e.jsxs("span",{className:`font-bold px-2 py-0.5 rounded ${E==="W"?"bg-green-500/20 text-green-400":E==="L"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:[o," - ",L]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:u.awayTeam.name}),e.jsx("img",{src:u.awayTeam.crest,alt:"",className:"w-5 h-5"})]},u.id)})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(K,{className:"w-12 h-12 text-gray-700 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"PremiÃ¨re confrontation entre ces Ã©quipes"})]})]}),b&&e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 rounded-2xl border border-orange-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ce,{className:"w-5 h-5 text-orange-400"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Pronostic"}),e.jsx("span",{className:"text-xs text-gray-500",children:"(basÃ© sur les cotes)"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:`flex-1 text-center p-4 rounded-xl border ${b.winner==="home"?"bg-pink-500/20 border-pink-500/50":"bg-white/5 border-white/10"}`,children:[e.jsx("img",{src:l.homeTeam.crest,alt:"",className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:`font-bold ${b.winner==="home"?"text-pink-400":"text-gray-500"}`,children:l.homeTeam.shortName||l.homeTeam.name.substring(0,10)}),b.winner==="home"&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-bold",children:"Favori"})]})]}),e.jsx("div",{className:`text-center p-4 rounded-xl border ${b.winner==="draw"?"bg-gray-500/20 border-gray-500/50":"bg-white/5 border-white/10"}`,children:e.jsx("p",{className:`text-2xl font-black ${b.winner==="draw"?"text-gray-300":"text-gray-600"}`,children:"Nul"})}),e.jsxs("div",{className:`flex-1 text-center p-4 rounded-xl border ${b.winner==="away"?"bg-blue-500/20 border-blue-500/50":"bg-white/5 border-white/10"}`,children:[e.jsx("img",{src:l.awayTeam.crest,alt:"",className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:`font-bold ${b.winner==="away"?"text-blue-400":"text-gray-500"}`,children:l.awayTeam.shortName||l.awayTeam.name.substring(0,10)}),b.winner==="away"&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-bold",children:"Favori"})]})]})]})]})]})},Ge=({matches:l,currentMatchId:s,round:r,competitionId:n,matchday:m})=>{var S;const c=l.filter(o=>o.id!==s).slice(0,6),d=l.filter(o=>o.id!==s).length;if(c.length===0)return null;const g=r==null?void 0:r.includes("Regular Season"),f=(r==null?void 0:r.includes("League Phase"))||(r==null?void 0:r.includes("League Stage")),k=r&&!g&&!f;let b="Autres matchs";if(k)b=r||"Tour de coupe";else if(f){const o=(S=r==null?void 0:r.match(/\d+/))==null?void 0:S[0];b=o?`JournÃ©e ${o} - Phase de Ligue`:r||"Phase de Ligue"}else g&&(b=`JournÃ©e ${m}`);const u=n?(k||f)&&r?`/classements/matchday/${n}?round=${encodeURIComponent(r)}`:`/classements/matchday/${n}?matchday=${m}`:null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[k?e.jsx(oe,{className:"w-4 h-4 text-yellow-500"}):e.jsx(Oe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-white font-bold text-sm truncate",children:b})]}),d>6&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",d-6]})]}),e.jsxs("div",{className:"p-2 space-y-1",children:[c.map(o=>e.jsxs(P,{to:`/match/${o.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors text-xs",children:[e.jsx("img",{src:o.homeTeam.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate",children:o.homeTeam.shortName||o.homeTeam.name.substring(0,3)}),e.jsx("span",{className:`font-bold ${o.status==="IN_PLAY"?"text-red-400":o.status==="FINISHED"?"text-white":"text-gray-500"}`,children:o.status==="FINISHED"||o.status==="IN_PLAY"?`${o.score.fullTime.home??0}-${o.score.fullTime.away??0}`:"vs"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate text-right",children:o.awayTeam.shortName||o.awayTeam.name.substring(0,3)}),e.jsx("img",{src:o.awayTeam.crest,alt:"",className:"w-4 h-4 object-contain"})]},o.id)),u&&e.jsx(P,{to:u,className:"block text-center py-2 mt-2 text-xs text-pink-400 hover:text-pink-300 hover:bg-white/5 rounded-lg transition-colors",children:k?"Voir tous les matchs du tour â†’":"Voir la journÃ©e complÃ¨te â†’"})]})]})};function Hs(){var pe,ge,ue,je,fe,be,Ne,ye,we,ve,Te,ke,Se,$e,Pe,Ie,Me,Le,Fe,De,Ae,Ee;const{id:l}=rs(),[s,r]=y.useState(null),[n,m]=y.useState([]),[c,d]=y.useState(null),[g,f]=y.useState(null),[k,b]=y.useState([]),[u,S]=y.useState(null),[o,L]=y.useState([]),[E,R]=y.useState([]),[G,U]=y.useState([]),[ae,ze]=y.useState([]),[xe,Xe]=y.useState([]),[M,Ze]=y.useState(null),[Qe,es]=y.useState([]),[ss,ts]=y.useState(null),[q,de]=y.useState("events"),[as,z]=y.useState(!0),[me,le]=y.useState(null);if(y.useEffect(()=>{async function a(){var j,v,h;if(l){z(!0),le(null);try{const x=parseInt(l),p=await ns(x);if(!p){le("Match non trouvÃ©"),z(!1);return}const i=["IN_PLAY","PAUSED","HALFTIME","1H","2H","HT","ET","BT","P","LIVE"].includes(p.status),[N,$,I]=await Promise.all([cs(x,i),os(x,i),xs(x,i)]);r(p),m(N||[]),d($),f(I),z(!1);const D=(j=p.competition)==null?void 0:j.id,C=(v=p.homeTeam)==null?void 0:v.id,H=(h=p.awayTeam)==null?void 0:h.id;if(C&&H&&ds(C,H).then(w=>b(w||[])).catch(()=>{}),(p.status==="FINISHED"||i)&&ms(x,i).then(w=>S(w)).catch(()=>{}),p.status!=="FINISHED"&&D&&ne(p.homeTeam.name,p.awayTeam.name,D).then(w=>Ze(w)).catch(()=>{}),D){const w=p.round||"",_=w.includes("Regular Season"),F=w.includes("League Phase")||w.includes("League Stage"),W=!_&&!F&&w.length>0;console.log("[MatchDetail] Round detection:",{round:w,isRegularLeague:_,isLeaguePhase:F,isCupKnockout:W,matchday:p.matchday});let A;W&&w?(console.log("[MatchDetail] Fetching cup knockout matches for round:",w),A=Ce(String(D),w).then(T=>(console.log("[MatchDetail] Cup matches found:",T.length),T)).catch(T=>(console.error("[MatchDetail] Error fetching cup matches:",T),[]))):F&&w?(console.log("[MatchDetail] Fetching league phase matches for round:",w),A=Ce(String(D),w).then(T=>(console.log("[MatchDetail] League phase matches found:",T.length),T)).catch(T=>(console.error("[MatchDetail] Error fetching league phase matches:",T),[]))):(console.log("[MatchDetail] Fetching matchday matches:",p.matchday),A=hs(String(D),p.matchday).catch(()=>[])),Promise.all([ps(String(D)).catch(()=>[]),gs(String(D)).catch(()=>[]),A]).then(([T,X,Z])=>{L(T||[]),R(X||[]),Xe(Z||[]),console.log("[MatchDetail] Other matches loaded:",(Z==null?void 0:Z.length)||0)})}C&&He(C,5).then(w=>{const _=w.map(F=>{const W=F.homeTeam.id===C,A=W?F.score.fullTime.home:F.score.fullTime.away,T=W?F.score.fullTime.away:F.score.fullTime.home;return A===null||T===null?"D":A>T?"W":A<T?"L":"D"});U(_)}).catch(()=>{}),H&&He(H,5).then(w=>{const _=w.map(F=>{const W=F.homeTeam.id===H,A=W?F.score.fullTime.home:F.score.fullTime.away,T=W?F.score.fullTime.away:F.score.fullTime.home;return A===null||T===null?"D":A>T?"W":A<T?"L":"D"});ze(_)}).catch(()=>{})}catch(x){console.error("Error fetching match data:",x),le("Erreur lors du chargement du match"),z(!1)}}}a()},[l]),y.useEffect(()=>{Ts().then(a=>{if(a&&a.length>0){const j=a.find(h=>h.isFeatured)||a[0];ts(j);const v=a.filter(h=>h._id!==(j==null?void 0:j._id)).slice(0,5);es(v)}}).catch(()=>{})},[]),as)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Chargement du match..."})]})});if(me||!s)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Be,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:me||"Match non trouvÃ©"}),e.jsx(P,{to:"/matchs",className:"text-pink-400 hover:underline",children:"Retour aux matchs"})]})});const he=s.status==="IN_PLAY"||s.status==="PAUSED",ls=s.status==="FINISHED",B=s.status==="SCHEDULED"||s.status==="TIMED",is=[{id:"events",label:"Temps forts",icon:ie,count:n.length},{id:"stats",label:"Statistiques",icon:re,available:!!c},{id:"lineups",label:"Compositions",icon:Q,available:!!g},{id:"h2h",label:"Face Ã  face",icon:K,count:k.length}];return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(236,72,153,0.15),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(59,130,246,0.15),transparent_50%)]"})]}),e.jsx("header",{className:"relative pt-24 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(P,{to:"/matchs",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsx("span",{children:"Retour aux matchs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[((pe=s.competition)==null?void 0:pe.emblem)&&e.jsx("img",{src:s.competition.emblem,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-gray-400 text-sm",children:(ge=s.competition)==null?void 0:ge.name}),e.jsx("span",{className:"text-gray-600",children:"â€¢"}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.round&&!s.round.includes("Regular Season")?s.round:`J${s.matchday}`})]})]}),e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-3xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:`h-1 bg-gradient-to-r ${he?"from-red-500 via-pink-500 to-red-500":ls?"from-gray-500 to-gray-600":"from-blue-500 via-purple-500 to-pink-500"}`}),e.jsxs("div",{className:"p-6 md:p-8",children:[he&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-red-500/20 border border-red-500/50 rounded-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),e.jsx("span",{className:"text-red-400 font-bold text-sm uppercase",children:s.minute?`${s.minute}'`:"Live"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-4 md:gap-8 max-w-2xl mx-auto",children:[e.jsxs(P,{to:`/classements/club/${s.homeTeam.id}`,className:"group text-center flex-1",children:[e.jsx("img",{src:s.homeTeam.crest,alt:s.homeTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-sm md:text-xl font-bold text-white group-hover:text-pink-400 transition-colors",children:s.homeTeam.name})]}),e.jsx("div",{className:"text-center flex-shrink-0",children:B?e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl md:text-6xl font-black text-white",children:"VS"}),e.jsx("div",{className:"mt-2 text-gray-400 text-sm",children:J(s.utcDate)})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-4",children:[e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.home??0}),e.jsx("span",{className:"text-2xl md:text-4xl text-gray-600",children:"-"}),e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.away??0})]}),s.score.halfTime.home!==null&&e.jsxs("div",{className:"mt-1 text-gray-500 text-xs md:text-sm",children:["MT: ",s.score.halfTime.home," - ",s.score.halfTime.away]})]})}),e.jsxs(P,{to:`/classements/club/${s.awayTeam.id}`,className:"group text-center flex-1",children:[e.jsx("img",{src:s.awayTeam.crest,alt:s.awayTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-sm md:text-xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.awayTeam.name})]})]}),!B&&n.filter(a=>a.type==="Goal").length>0&&(()=>{const a=n.filter(x=>{var p;return x.type==="Goal"&&((p=x.team)==null?void 0:p.id)===s.homeTeam.id}),j=n.filter(x=>{var p;return x.type==="Goal"&&((p=x.team)==null?void 0:p.id)===s.awayTeam.id}),v=7,h=()=>{de("events");const x=document.getElementById("match-tabs");x&&x.scrollIntoView({behavior:"smooth"})};return e.jsxs("div",{className:"mt-3 flex items-start justify-between gap-4 md:gap-8 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-end",children:[a.slice(0,v).map((x,p)=>{var t,i,N,$,I;return e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsxs("span",{children:[(i=(t=x.player)==null?void 0:t.name)==null?void 0:i.split(" ").pop()," ",(N=x.time)==null?void 0:N.elapsed,"'",($=x.time)!=null&&$.extra?`+${x.time.extra}`:"",(I=x.detail)!=null&&I.includes("Penalty")?" (P)":""]}),e.jsx("span",{className:"text-pink-400",children:"âš½"})]},p)}),a.length>v&&e.jsxs("button",{type:"button",onClick:h,className:"text-[10px] text-pink-400 hover:text-pink-300 mt-1 cursor-pointer",children:["+",a.length-v," autres â†’"]})]}),e.jsx("div",{className:"flex-shrink-0 w-8"}),e.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[j.slice(0,v).map((x,p)=>{var t,i,N,$,I;return e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-400",children:"âš½"}),e.jsxs("span",{children:[(i=(t=x.player)==null?void 0:t.name)==null?void 0:i.split(" ").pop()," ",(N=x.time)==null?void 0:N.elapsed,"'",($=x.time)!=null&&$.extra?`+${x.time.extra}`:"",(I=x.detail)!=null&&I.includes("Penalty")?" (P)":""]})]},p)}),j.length>v&&e.jsxs("button",{type:"button",onClick:h,className:"text-[10px] text-blue-400 hover:text-blue-300 mt-1 cursor-pointer",children:["+",j.length-v," autres â†’"]})]})]})})(),!B&&n.filter(a=>a.type==="Card").length>0&&(()=>{const a=n.filter(h=>{var x;return h.type==="Card"&&((x=h.team)==null?void 0:x.id)===s.homeTeam.id}),j=n.filter(h=>{var x;return h.type==="Card"&&((x=h.team)==null?void 0:x.id)===s.awayTeam.id}),v=h=>h!=null&&h.includes("Red")||h!=null&&h.includes("Second Yellow")?"ðŸŸ¥":"ðŸŸ¨";return a.length===0&&j.length===0?null:e.jsxs("div",{className:"mt-2 flex items-start justify-between gap-4 md:gap-8 max-w-2xl mx-auto opacity-70",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-end",children:[a.slice(0,4).map((h,x)=>{var p,t,i;return e.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[e.jsxs("span",{children:[(t=(p=h.player)==null?void 0:p.name)==null?void 0:t.split(" ").pop()," ",(i=h.time)==null?void 0:i.elapsed,"'"]}),e.jsx("span",{children:v(h.detail||"")})]},x)}),a.length>4&&e.jsxs("span",{className:"text-[9px] text-gray-600",children:["+",a.length-4]})]}),e.jsx("div",{className:"flex-shrink-0 w-8"}),e.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[j.slice(0,4).map((h,x)=>{var p,t,i;return e.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[e.jsx("span",{children:v(h.detail||"")}),e.jsxs("span",{children:[(t=(p=h.player)==null?void 0:p.name)==null?void 0:t.split(" ").pop()," ",(i=h.time)==null?void 0:i.elapsed,"'"]})]},x)}),j.length>4&&e.jsxs("span",{className:"text-[9px] text-gray-600",children:["+",j.length-4]})]})]})})(),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Oe,{className:"w-3 h-3"}),e.jsx("span",{children:J(s.utcDate)})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(ys,{className:"w-3 h-3"}),e.jsx("span",{children:s.venue})]}),s.referee&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:s.referee})]})]}),B&&(M==null?void 0:M.odds.winamax)&&e.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-6 h-6 rounded object-contain"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Cotes Winamax"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"1"}),e.jsx("span",{className:`text-xl font-bold ${M.odds.winamax.home===Math.min(M.odds.winamax.home,M.odds.winamax.draw,M.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee(M.odds.winamax.home)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"N"}),e.jsx("span",{className:`text-xl font-bold ${M.odds.winamax.draw===Math.min(M.odds.winamax.home,M.odds.winamax.draw,M.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee(M.odds.winamax.draw)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"2"}),e.jsx("span",{className:`text-xl font-bold ${M.odds.winamax.away===Math.min(M.odds.winamax.home,M.odds.winamax.draw,M.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee(M.odds.winamax.away)})]})]})]})]})]})]})}),!B&&e.jsx("section",{id:"match-tabs",className:"sticky top-20 z-30 bg-black/90 backdrop-blur-xl border-y border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex gap-1 py-3 overflow-x-auto scrollbar-hide",children:is.map(a=>e.jsxs("button",{onClick:()=>de(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap ${q===a.id?"bg-gradient-to-r from-pink-500 to-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.label}),a.count!==void 0&&a.count>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-white/20 rounded-full text-xs",children:a.count})]},a.id))})})}),e.jsx("main",{className:"relative max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:B?e.jsx(Is,{match:s,h2h:k,homeForm:G,awayForm:ae,standings:o,headerOdds:M}):e.jsxs(Ue,{mode:"wait",children:[q==="events"&&e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-pink-500"}),"Temps forts"]}),n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ie,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucun Ã©vÃ©nement"}),B&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Match pas encore commencÃ©"})]}):e.jsx("div",{className:"space-y-1",children:(()=>{const a=[...n].sort((t,i)=>{var I,D,C,H;const N=(((I=t.time)==null?void 0:I.elapsed)||0)+(((D=t.time)==null?void 0:D.extra)||0)/100;return(((C=i.time)==null?void 0:C.elapsed)||0)+(((H=i.time)==null?void 0:H.extra)||0)/100-N}),j=n.filter(t=>t.type==="Goal").sort((t,i)=>{var I,D,C,H;const N=(((I=t.time)==null?void 0:I.elapsed)||0)+(((D=t.time)==null?void 0:D.extra)||0)/100,$=(((C=i.time)==null?void 0:C.elapsed)||0)+(((H=i.time)==null?void 0:H.extra)||0)/100;return N-$});let v=0,h=0;const x=new Map;j.forEach(t=>{var i;((i=t.team)==null?void 0:i.id)===s.homeTeam.id?v++:h++,x.set(t,{home:v,away:h})});const p=a.some(t=>{var i;return(((i=t.time)==null?void 0:i.elapsed)||0)>45});return a.map((t,i)=>{var C,H,w,_,F,W,A,T,X;const N=((C=t.team)==null?void 0:C.id)===s.homeTeam.id,$=t.type==="Goal",I=$?x.get(t):null,D=p&&i>0&&(((H=a[i-1].time)==null?void 0:H.elapsed)||0)>45&&(((w=t.time)==null?void 0:w.elapsed)||0)<=45;return e.jsxs("div",{children:[D&&e.jsxs("div",{className:"flex items-center gap-4 py-3 my-2",children:[e.jsx("div",{className:"flex-1 h-px bg-white/20"}),e.jsxs("span",{className:"text-gray-500 text-xs font-medium px-3 py-1 bg-white/5 rounded",children:["MI-TEMPS ",s.score.halfTime.home!==null?`${s.score.halfTime.home} - ${s.score.halfTime.away}`:""]}),e.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),e.jsxs("div",{className:`flex items-center gap-2 md:gap-3 p-2 md:p-3 rounded-lg transition-colors ${$?"bg-green-500/10 border border-green-500/20":"bg-white/5 hover:bg-white/10"} ${N?"":"flex-row-reverse"}`,children:[e.jsxs("div",{className:"w-10 md:w-12 text-center flex-shrink-0",children:[e.jsxs("span",{className:`font-bold text-sm ${$?"text-green-400":"text-pink-400"}`,children:[(_=t.time)==null?void 0:_.elapsed,"'"]}),((F=t.time)==null?void 0:F.extra)>0&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",t.time.extra]})]}),e.jsx(ks,{type:t.type,detail:t.detail}),e.jsxs("div",{className:`flex-1 min-w-0 ${N?"":"text-right"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[((W=t.assist)==null?void 0:W.name)&&t.type==="Goal"&&e.jsxs("span",{className:`text-gray-500 text-xs ${N?"":"order-last"}`,children:["(P. ",t.assist.name.split(" ").pop(),")"]}),(A=t.player)!=null&&A.id?e.jsx(P,{to:`/player/${t.player.id}`,className:`text-white font-medium text-sm hover:text-pink-400 truncate ${N?"":"ml-auto"}`,children:t.player.name}):e.jsx("span",{className:"text-white font-medium text-sm truncate",children:((T=t.player)==null?void 0:T.name)||"Ã‰vÃ©nement"})]}),t.type==="subst"&&((X=t.assist)==null?void 0:X.name)&&e.jsxs("p",{className:"text-red-400 text-xs",children:["â†“ ",t.assist.name]})]}),$&&I&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-black/30 rounded text-sm font-bold flex-shrink-0",children:[e.jsx("span",{className:"text-white",children:I.home}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("span",{className:"text-white",children:I.away})]})]})]},i)})})()})]}),u&&u.length>0&&e.jsxs("div",{className:"mt-6 bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-yellow-500"}),"Stats Joueurs"]}),(()=>{const a=u.flatMap(t=>(t.players||[]).map(i=>{var N,$;return{...i,teamId:(N=t.team)==null?void 0:N.id,teamLogo:($=t.team)==null?void 0:$.logo}})),j=a.filter(t=>t.rating&&t.rating>0).sort((t,i)=>(i.rating||0)-(t.rating||0)).slice(0,3),v=a.filter(t=>t.goals>0).sort((t,i)=>i.goals-t.goals).slice(0,3),h=a.filter(t=>t.assists>0).sort((t,i)=>i.assists-t.assists).slice(0,3),x=a.filter(t=>t.keyPasses>0).sort((t,i)=>i.keyPasses-t.keyPasses).slice(0,3),p=a.filter(t=>t.dribblesSuccess>0).sort((t,i)=>i.dribblesSuccess-t.dribblesSuccess).slice(0,3);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[j.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-orange-500"}),"Meilleures notes"]}),e.jsx("div",{className:"space-y-2",children:j.map((t,i)=>{var N;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-yellow-400 font-bold text-sm",children:(N=t.rating)==null?void 0:N.toFixed(1)})]},i)})})]}),v.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-green-500"}),"Buteurs"]}),e.jsx("div",{className:"space-y-2",children:v.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-green-400 font-bold text-sm",children:t.goals})]},i))})]}),h.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-500"}),"Passeurs dÃ©cisifs"]}),e.jsx("div",{className:"space-y-2",children:h.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-blue-400 font-bold text-sm",children:t.assists})]},i))})]}),x.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-purple-500"}),"Passes clÃ©s"]}),e.jsx("div",{className:"space-y-2",children:x.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-purple-400 font-bold text-sm",children:t.keyPasses})]},i))})]}),p.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-pink-500"}),"Dribbles rÃ©ussis"]}),e.jsx("div",{className:"space-y-2",children:p.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",i+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-pink-400 font-bold text-sm",children:t.dribblesSuccess})]},i))})]})]})})()]})]},"events"),q==="stats"&&e.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-pink-500"}),"Statistiques"]}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8"}),e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.homeTeam.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.awayTeam.name}),e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8"})]})]}),e.jsx(O,{label:"Possession",homeValue:((ue=c.home)==null?void 0:ue.possession)||0,awayValue:((je=c.away)==null?void 0:je.possession)||0,isPercentage:!0}),e.jsx(O,{label:"Tirs",homeValue:((fe=c.home)==null?void 0:fe.shots)||0,awayValue:((be=c.away)==null?void 0:be.shots)||0}),e.jsx(O,{label:"Tirs cadrÃ©s",homeValue:((Ne=c.home)==null?void 0:Ne.shotsOnTarget)||0,awayValue:((ye=c.away)==null?void 0:ye.shotsOnTarget)||0}),e.jsx(O,{label:"Corners",homeValue:((we=c.home)==null?void 0:we.corners)||0,awayValue:((ve=c.away)==null?void 0:ve.corners)||0}),e.jsx(O,{label:"Fautes",homeValue:((Te=c.home)==null?void 0:Te.fouls)||0,awayValue:((ke=c.away)==null?void 0:ke.fouls)||0}),e.jsx(O,{label:"Hors-jeu",homeValue:((Se=c.home)==null?void 0:Se.offsides)||0,awayValue:(($e=c.away)==null?void 0:$e.offsides)||0})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Stats non disponibles"})]})]})},"stats"),q==="lineups"&&e.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("h3",{className:"text-lg font-bold text-white p-4 md:p-6 border-b border-white/10 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-pink-500"}),"Compositions"]}),g?e.jsxs("div",{className:"grid md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-white/10",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.homeTeam.name}),e.jsx("p",{className:"text-pink-400 text-xs",children:(Pe=g.home)==null?void 0:Pe.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((Ie=g.home)==null?void 0:Ie.startXI)||[]).map((a,j)=>e.jsxs(P,{to:a.id?`/player/${a.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-pink-500/30 text-pink-400 rounded text-xs font-bold",children:a.number||j+1}),e.jsx("span",{className:"text-white flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:a.pos})]},j))}),((Le=(Me=g.home)==null?void 0:Me.substitutes)==null?void 0:Le.length)>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"RemplaÃ§ants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:g.home.substitutes.map((a,j)=>e.jsx(P,{to:a.id?`/player/${a.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:a.name},j))})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.awayTeam.name}),e.jsx("p",{className:"text-blue-400 text-xs",children:(Fe=g.away)==null?void 0:Fe.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((De=g.away)==null?void 0:De.startXI)||[]).map((a,j)=>e.jsxs(P,{to:a.id?`/player/${a.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-blue-500/30 text-blue-400 rounded text-xs font-bold",children:a.number||j+1}),e.jsx("span",{className:"text-white flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:a.pos})]},j))}),((Ee=(Ae=g.away)==null?void 0:Ae.substitutes)==null?void 0:Ee.length)>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"RemplaÃ§ants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:g.away.substitutes.map((a,j)=>e.jsx(P,{to:a.id?`/player/${a.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:a.name},j))})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Compositions non disponibles"})]})]})},"lineups"),q==="h2h"&&e.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-pink-500"}),"Confrontations"]}),k.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(K,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucune confrontation trouvÃ©e"})]}):e.jsx("div",{className:"space-y-2",children:k.filter(a=>a.id!==s.id).slice(0,8).map(a=>e.jsxs(P,{to:`/match/${a.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:J(a.utcDate)}),e.jsx("img",{src:a.homeTeam.crest,alt:"",className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:a.homeTeam.name}),e.jsxs("span",{className:"text-white font-bold",children:[a.score.fullTime.home," - ",a.score.fullTime.away]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:a.awayTeam.name}),e.jsx("img",{src:a.awayTeam.crest,alt:"",className:"w-5 h-5"})]},a.id))})]})},"h2h")]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ss,{article:ss}),e.jsx($s,{articles:Qe}),(()=>{var h,x,p,t,i,N,$,I;const a=s.round||"",j=a.includes("Final")||a.includes("Quarter")||a.includes("Semi")||a.includes("Round of")||a.includes("8th")||a.includes("16th")||a.includes("Knockout")||a.includes("Play-off"),v=a.includes("Group");return j&&!v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 rounded-xl border border-yellow-500/30 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(oe,{className:"w-6 h-6 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold",children:"Phase finale"}),e.jsx("p",{className:"text-yellow-400/80 text-sm",children:a})]})]}),e.jsx(P,{to:`/classements/matchday/${(h=s.competition)==null?void 0:h.id}`,className:"block text-center py-2 px-4 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg text-sm font-medium transition-colors",children:"Voir le tableau complet â†’"})]}),e.jsx(We,{homeForm:G,awayForm:ae,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(Ve,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((x=s.competition)==null?void 0:x.id)||0,matchStatus:s.status}),e.jsx(Re,{scorers:E,competitionId:(p=s.competition)==null?void 0:p.id}),e.jsx(Ge,{matches:xe,currentMatchId:s.id,round:s.round,competitionId:(t=s.competition)==null?void 0:t.id,matchday:s.matchday})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ps,{standings:o,homeTeamId:s.homeTeam.id,awayTeamId:s.awayTeam.id,competitionId:(i=s.competition)==null?void 0:i.id}),e.jsx(We,{homeForm:G,awayForm:ae,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(Ve,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((N=s.competition)==null?void 0:N.id)||0,matchStatus:s.status}),e.jsx(Re,{scorers:E,competitionId:($=s.competition)==null?void 0:$.id}),e.jsx(Ge,{matches:xe,currentMatchId:s.id,round:s.round,competitionId:(I=s.competition)==null?void 0:I.id,matchday:s.matchday})]})})()]})]})}),e.jsx(vs,{})]})}export{Hs as default};
