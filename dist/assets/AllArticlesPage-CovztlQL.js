import{j as e}from"./sanity-tkM5Czdy.js";import{r as l,L as p}from"./react-vendor-DFZZ7aeY.js";import{S as W}from"./SEO-BZCf7IjQ.js";import{L as _,g as q}from"./sanityAPI-CcEYmmW3.js";import{F as G}from"./Footer-CQJh891m.js";import{S as D}from"./SafeImage-gczW3i2j.js";import{S as H,X as V,I as X,aq as z,m as I,ar as B,as as M,b as K,c as Q,d as E,j as U}from"./ui-kcrkP2Yo.js";import"./index-DWpb33_u.js";const Y="polygon(8px 0, calc(100% - 8px) 0, 100% 8px, 100% calc(100% - 8px), calc(100% - 8px) 100%, 8px 100%, 0 calc(100% - 8px), 0 8px)",F=[{id:"all",label:"Tout",color:"from-pink-500 to-rose-600"},{id:"actus",label:"Actus",color:"from-orange-500 to-red-500"},{id:"joueurs",label:"Joueurs",color:"from-green-500 to-emerald-600"},{id:"formats-octogoal",label:"Formats",color:"from-purple-500 to-pink-500"},{id:"memes",label:"Mèmes",color:"from-yellow-500 to-orange-500"}],ne=()=>{const[x,R]=l.useState([]),[O,b]=l.useState(!0),[m,f]=l.useState("all"),[o,u]=l.useState(""),[J,Z]=l.useState("recent"),[h,j]=l.useState("grid"),[g,w]=l.useState([]);l.useEffect(()=>{(async()=>{try{b(!0);const r=await q();r&&r.length>0&&R(r)}catch(r){console.error("Erreur chargement articles:",r)}finally{b(!1)}})();const s=localStorage.getItem("bookmarkedArticles");s&&w(JSON.parse(s))},[]),l.useEffect(()=>{localStorage.setItem("bookmarkedArticles",JSON.stringify(g))},[g]);const N=t=>{w(s=>s.includes(t)?s.filter(r=>r!==t):[...s,t])},v=l.useMemo(()=>{let t=x;if(m!=="all"&&(t=t.filter(s=>{var r;return(r=s.categories)==null?void 0:r.some(a=>{var n,c;return((c=(n=a.slug)==null?void 0:n.current)==null?void 0:c.toLowerCase())===m.toLowerCase()})})),o){const s=o.toLowerCase();t=t.filter(r=>{var a;return r.title.toLowerCase().includes(s)||((a=r.excerpt)==null?void 0:a.toLowerCase().includes(s))})}return t.sort((s,r)=>new Date(r.publishedAt).getTime()-new Date(s.publishedAt).getTime())},[x,m,o,J]),y=t=>{const s=new Date(t),a=Math.floor((new Date().getTime()-s.getTime())/(1e3*60*60*24));return a===0?"Aujourd'hui":a===1?"Hier":a<7?`Il y a ${a} jours`:s.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},k={total:x.length,thisWeek:x.filter(t=>new Date(t.publishedAt)>new Date(Date.now()-7*864e5)).length};return e.jsxs(e.Fragment,{children:[e.jsx(W,{title:"Tous les articles | Octogoal",description:"Toute l'actu foot : actus, joueurs, formats originaux, mèmes. Le meilleur du football."}),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("section",{className:"relative pt-28 pb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-pink-950/30 via-black to-black"}),e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-20 right-1/4 w-64 h-64 bg-rose-500/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-3",children:["Tous les ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-rose-500",children:"articles"})]}),e.jsxs("p",{className:"text-gray-400 text-lg",children:[k.total," articles • ",k.thisWeek," cette semaine"]})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(H,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",value:o,onChange:t=>u(t.target.value),placeholder:"Rechercher...",className:"w-full pl-12 pr-10 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-pink-500/50 transition-all"}),o&&e.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 hide-scrollbar",children:[F.map(t=>e.jsx("button",{onClick:()=>f(t.id),className:`
                    flex-shrink-0 px-5 py-2.5 rounded-xl font-medium text-sm transition-all
                    ${m===t.id?`bg-gradient-to-r ${t.color} text-white shadow-lg`:"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white border border-white/10"}
                  `,children:t.label},t.id)),e.jsx("div",{className:"w-px h-8 bg-white/10 mx-2"}),e.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>j("grid"),className:`p-2 rounded-lg transition-all ${h==="grid"?"bg-white/10 text-white":"text-gray-500 hover:text-white"}`,children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j("list"),className:`p-2 rounded-lg transition-all ${h==="list"?"bg-white/10 text-white":"text-gray-500 hover:text-white"}`,children:e.jsx(z,{className:"w-4 h-4"})})]})]})]})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:O?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(_,{})}):v.length>0?e.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:v.map((t,s)=>{var n,c,A,S,C,L,T;const r=g.includes(((n=t.slug)==null?void 0:n.current)||""),a=((c=F.find(i=>{var d;return(d=t.categories)==null?void 0:d.some(P=>{var $;return(($=P.slug)==null?void 0:$.current)===i.id})}))==null?void 0:c.color)||"from-pink-500 to-rose-600";return h==="grid"?e.jsx(I.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.min(s*.05,.3)},className:"group",children:e.jsxs("div",{className:"relative bg-gray-900/50 border border-white/10 rounded-2xl overflow-hidden hover:border-pink-500/30 transition-all duration-300",children:[e.jsx(p,{to:`/article/${(A=t.slug)==null?void 0:A.current}`,children:e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[e.jsx(D,{source:t.mainImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",fallbackText:t.title}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/20 to-transparent"}),((S=t.categories)==null?void 0:S[0])&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-1.5 text-xs font-bold uppercase tracking-wider text-white bg-gradient-to-r ${a} rounded-lg`,children:t.categories[0].title})})]})}),e.jsx("button",{onClick:()=>{var i;return N(((i=t.slug)==null?void 0:i.current)||"")},className:"absolute top-4 right-4 p-2 bg-black/50 backdrop-blur-sm rounded-lg hover:bg-black/70 transition-all",children:r?e.jsx(B,{className:"w-4 h-4 text-pink-400"}):e.jsx(M,{className:"w-4 h-4 text-white/70"})}),e.jsxs(p,{to:`/article/${(C=t.slug)==null?void 0:C.current}`,className:"block p-5",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2 group-hover:text-pink-400 transition-colors",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:t.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),y(t.publishedAt)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-3 h-3"}),t.readingTime||"5"," min"]})]}),e.jsx(E,{className:"w-4 h-4 text-pink-400 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r ${a} scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left`})]})},t._id):e.jsx(I.article,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Math.min(s*.03,.2)},className:"group",children:e.jsxs(p,{to:`/article/${(L=t.slug)==null?void 0:L.current}`,className:"flex gap-4 p-4 bg-gray-900/50 border border-white/10 rounded-xl hover:border-pink-500/30 transition-all",children:[e.jsx("div",{className:"flex-shrink-0 w-40 h-24 rounded-xl overflow-hidden",style:{clipPath:Y},children:e.jsx(D,{source:t.mainImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",fallbackText:t.title})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[e.jsxs("div",{children:[((T=t.categories)==null?void 0:T[0])&&e.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase text-white bg-gradient-to-r ${a} rounded mb-2`,children:t.categories[0].title}),e.jsx("h3",{className:"text-base font-bold text-white line-clamp-1 group-hover:text-pink-400 transition-colors",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-gray-400 text-sm line-clamp-1 mt-1",children:t.excerpt})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsx("span",{children:y(t.publishedAt)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.readingTime||"5"," min"]})]}),e.jsx(E,{className:"w-4 h-4 text-pink-400 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("button",{onClick:i=>{var d;i.preventDefault(),N(((d=t.slug)==null?void 0:d.current)||"")},className:"flex-shrink-0 p-2 hover:bg-white/5 rounded-lg transition-colors",children:r?e.jsx(B,{className:"w-5 h-5 text-pink-400"}):e.jsx(M,{className:"w-5 h-5 text-gray-500"})})]})},t._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/5 rounded-2xl mb-6",children:e.jsx(U,{className:"w-10 h-10 text-gray-500"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Aucun article trouvé"}),e.jsx("p",{className:"text-gray-400 mb-6",children:o?`Aucun résultat pour "${o}"`:"Aucun article dans cette catégorie"}),e.jsx("button",{onClick:()=>{u(""),f("all")},className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-600 text-white font-medium rounded-xl hover:shadow-lg hover:shadow-pink-500/30 transition-all",children:"Réinitialiser les filtres"})]})}),e.jsx(G,{})]}),e.jsx("style",{children:`
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};export{ne as AllArticlesPage,ne as default};
