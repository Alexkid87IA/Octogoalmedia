import{j as e}from"./sanity-tkM5Czdy.js";import{r as l}from"./react-vendor-DFZZ7aeY.js";import{S as L}from"./SEO-CuyuPNxE.js";import{F as k}from"./Footer-BQHljzBM.js";import{s as T}from"./index-BHKyC1cq.js";import{m as u,T as E,S as D,a6 as F,X as B,a9 as I,d as _,aE as R}from"./ui-BM8btEJq.js";const H=()=>{const[r,h]=l.useState([]),[n,p]=l.useState(""),[g,w]=l.useState("recent"),[i,b]=l.useState([]),[v,f]=l.useState(!0);l.useEffect(()=>{window.scrollTo(0,0)},[]),l.useEffect(()=>{(async()=>{try{f(!0);const a=await T.fetch(`*[_type == "article" && (
          contentType == "business-idea" || 
          category->slug.current == "business" ||
          "business" in tags[]
        )] | order(publishedAt desc) {
          _id,
          title,
          excerpt,
          "slug": slug.current,
          "mainImage": mainImage.asset->url,
          publishedAt,
          "category": category->title,
          tags,
          "author": author->{
            name,
            "image": image.asset->url
          }
        }`);b(a||[])}catch(t){console.error("Erreur lors de la récupération des articles:",t),b([])}finally{f(!1)}})()},[]);const d=l.useMemo(()=>{const s=new Set;return i.forEach(t=>{t.tags&&Array.isArray(t.tags)&&t.tags.forEach(a=>{a&&s.add(a.toLowerCase())})}),Array.from(s).sort()},[i]),C=s=>{h(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},j=()=>{h([]),p("")},o=i.filter(s=>{var c,x,y;const t=((c=s.title)==null?void 0:c.toLowerCase().includes(n.toLowerCase()))||((x=s.excerpt)==null?void 0:x.toLowerCase().includes(n.toLowerCase()))||((y=s.tags)==null?void 0:y.some(m=>m.toLowerCase().includes(n.toLowerCase()))),a=r.length===0||r.some(m=>{var N;return(N=s.tags)==null?void 0:N.some(S=>S.toLowerCase()===m)});return t&&a}).sort((s,t)=>g==="recent"?new Date(t.publishedAt).getTime()-new Date(s.publishedAt).getTime():0),A=l.useMemo(()=>{const s={};return d.forEach(t=>{s[t]=i.filter(a=>{var c;return(c=a.tags)==null?void 0:c.some(x=>x.toLowerCase()===t)}).length}),s},[d,i]);return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"Études de Cas Business | Octogoal Media",description:"Découvrez nos analyses approfondies et études de cas business. Des insights exclusifs pour entrepreneurs et professionnels ambitieux."}),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-cyan-900/20 to-teal-900/20"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.3),transparent_50%)]"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500/10 backdrop-blur-sm rounded-full mb-6 border border-blue-500/20",children:[e.jsx(E,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Analyses & Insights"})]}),e.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-cyan-400 to-teal-400",children:"Études de cas business"})}),e.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Des analyses approfondies pour comprendre les stratégies gagnantes et les tendances qui façonnent le monde des affaires."})]})})]}),e.jsx("section",{className:"sticky top-20 z-40 bg-black/80 backdrop-blur-xl border-y border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(D,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:s=>p(s.target.value),placeholder:"Rechercher une étude de cas...",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-blue-500/50 focus:bg-white/10 transition-all"})]}),e.jsxs("select",{value:g,onChange:s=>w(s.target.value),className:"px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-blue-500/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"recent",children:"Plus récents"}),e.jsx("option",{value:"popular",children:"Plus populaires"})]})]}),d.length>0&&e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-400",children:["Filtrer par mots-clés (",r.length," sélectionné",r.length>1?"s":"",")"]})]}),r.length>0&&e.jsxs("button",{onClick:j,className:"flex items-center gap-1 text-xs text-gray-400 hover:text-white transition-colors",children:[e.jsx(B,{className:"w-3 h-3"}),"Effacer les filtres"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(s=>{const t=r.includes(s),a=A[s]||0;return e.jsxs("button",{onClick:()=>C(s),className:`
                            inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg border text-sm transition-all
                            ${t?"bg-blue-500/20 border-blue-500/50 text-blue-400":"bg-white/5 border-white/10 text-gray-400 hover:text-white hover:bg-white/10"}
                          `,children:[e.jsx("span",{className:"capitalize",children:s}),e.jsxs("span",{className:`text-xs ${t?"text-blue-400/70":"text-gray-500"}`,children:["(",a,")"]})]},s)})})]})]})})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:v?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(I,{className:"w-8 h-8 text-blue-400 animate-spin"})}):o.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 text-sm text-gray-400",children:[o.length," article",o.length>1?"s":""," trouvé",o.length>1?"s":""]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((s,t)=>e.jsx(u.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},className:"group",children:e.jsx("a",{href:`/article/${s.slug}`,className:"block h-full",children:e.jsxs("div",{className:"relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 hover:border-blue-500/30 transition-all duration-300 h-full flex flex-col",children:[s.mainImage&&e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[e.jsx("img",{src:s.mainImage,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 backdrop-blur-sm border border-blue-500/30 rounded-full text-xs font-medium text-blue-400",children:"Business Case"})})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3 line-clamp-2 group-hover:text-blue-400 transition-colors",children:s.title}),s.excerpt&&e.jsx("p",{className:"text-gray-400 text-sm line-clamp-3 mb-4",children:s.excerpt}),e.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-gray-500",children:[s.author&&e.jsxs("div",{className:"flex items-center gap-2",children:[s.author.image&&e.jsx("img",{src:s.author.image,alt:s.author.name,className:"w-6 h-6 rounded-full"}),e.jsx("span",{children:s.author.name})]}),s.publishedAt&&e.jsx("span",{children:new Date(s.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:s.tags.slice(0,3).map(a=>e.jsxs("span",{className:`text-xs px-2 py-1 rounded-md transition-colors ${r.includes(a.toLowerCase())?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-white/5 text-gray-400"}`,children:["#",a]},a))}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"inline-flex items-center gap-2 text-blue-400 text-sm font-medium group-hover:gap-3 transition-all",children:["Lire l'article",e.jsx(_,{className:"w-4 h-4"})]})})]})]})})},s._id))})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(R,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:r.length>0||n?"Aucune étude de cas ne correspond à vos critères":"Aucune étude de cas trouvée"}),(r.length>0||n)&&e.jsx("button",{onClick:j,className:"mt-4 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Effacer les filtres"})]})}),e.jsx(k,{})]})]})};export{H as BusinessIdeasPage,H as default};
