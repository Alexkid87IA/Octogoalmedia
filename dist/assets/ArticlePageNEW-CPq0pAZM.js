import{j as e,P as tt}from"./sanity-Dli2Tcak.js";import{R as Ue,r as x,L as O,f as st}from"./react-vendor-BZT10b4B.js";import{S as rt}from"./SEO-B1xqh1ti.js";import{L as at}from"./LoadingSpinner-eIc9uk8W.js";import{E as lt}from"./ErrorMessage-KkttO8Ez.js";import{E as it}from"./ErrorBoundary-Mr83fJRE.js";import{F as nt}from"./Footer-CZsLVkur.js";import{a5 as de,b as ue,a6 as Me,a7 as xe,a4 as De,m as $,I as Fe,a2 as pe,k as me,$ as qe,a8 as ot,i as Be,t as Oe,f as He,a9 as ct,aa as Ne,ab as he,T as Ve,ac as we,q as ve,c as ae,X as Ge,E as Qe,ad as dt,C as X,x as ke,d as xt,A as J,ae as mt,l as We,U as be,n as ge,w as Ye,o as ht,r as gt,s as ut,af as pt,a1 as Je,ag as Ce,ah as Se,Z as bt,P as fe,u as ft,Y as yt,ai as jt,aj as Nt,ak as wt,al as vt,am as ze}from"./ui-qzjcYz-G.js";import{h as D}from"./index-DP5Uxzph.js";import{i as Ze,j as kt}from"./sanityAPI-DwUaSKDn.js";const Ct=({url:t,caption:l})=>{const[s,r]=x.useState(!0),[i,n]=x.useState(!1),o=x.useRef(null),c=(a=>{if(!a)return null;const b=[/instagram\.com\/p\/([^\/\?]+)/,/instagram\.com\/reel\/([^\/\?]+)/,/instagram\.com\/tv\/([^\/\?]+)/,/instagr\.am\/p\/([^\/\?]+)/];for(const u of b){const m=a.match(u);if(m)return m[1]}return null})(t);return x.useEffect(()=>{i&&o.current&&(o.current.style.willChange="contents")},[i]),c?e.jsx("div",{className:"my-12 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-3xl px-4",children:[e.jsxs("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl border border-gray-800",style:{contain:"layout style paint",willChange:"contents",isolation:"isolate",maxWidth:"100%"},children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-[2px]",children:e.jsx("div",{className:"bg-black p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Post Instagram"})]}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:["Ouvrir dans Instagram",e.jsx(ue,{size:12})]})]})})}),e.jsxs("div",{className:"relative bg-black",style:{height:"1100px",minHeight:"1100px",maxHeight:"1100px",contain:"strict",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[s&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black pointer-events-none",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-8 h-8 text-white animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du post Instagram..."})]})}),e.jsx("iframe",{ref:o,src:`https://www.instagram.com/p/${c}/embed`,className:`w-full transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,style:{border:"none",height:"1100px",minHeight:"1100px",backgroundColor:"#000",position:"absolute",top:0,left:0,right:0,willChange:"contents",transform:"translateZ(0)"},frameBorder:"0",scrolling:"no",allowTransparency:!0,onLoad:()=>{r(!1),setTimeout(()=>n(!0),100)},title:`Instagram post ${c}`,importance:"high",fetchpriority:"high",decoding:"sync",sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation"},`instagram-${c}`)]})]}),l&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic",children:l})})]})}):e.jsx("div",{className:"my-12 flex justify-center",children:e.jsx("div",{className:"w-full max-w-3xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(de,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Post Instagram non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-all",children:[e.jsx(de,{className:"w-4 h-4"}),"Voir sur Instagram"]})]})})})},St=Ue.memo(Ct,(t,l)=>t.url===l.url&&t.caption===l.caption),zt=x.memo(({value:t})=>{const[l,s]=x.useState(!0),[r,i]=x.useState(()=>localStorage.getItem("youtube-cookies-accepted")==="true"),o=(c=>{if(!c)return null;const a=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/,/youtube\.com\/shorts\/([^&\n?#]+)/];for(const b of a){const u=c.match(b);if(u)return u[1]}return null})((t==null?void 0:t.url)||"");if(!o)return e.jsxs("div",{className:"my-8 p-6 bg-gray-900/50 rounded-xl border border-gray-700 text-center",children:[e.jsx("p",{className:"text-gray-400",children:"VidÃ©o YouTube non disponible"}),(t==null?void 0:t.url)&&e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Voir sur YouTube"]})]});if(!r)return e.jsx("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500 opacity-50",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"VidÃ©o YouTube"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Cette vidÃ©o nÃ©cessite l'acceptation des cookies YouTube pour Ãªtre visionnÃ©e"}),e.jsxs("button",{onClick:()=>{i(!0),localStorage.setItem("youtube-cookies-accepted","true")},className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Accepter et voir la vidÃ©o"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"En acceptant, vous autorisez le chargement de contenu depuis YouTube"})]})});const g=x.useMemo(()=>{const c=new URL(`https://www.youtube.com/embed/${o}`);return t!=null&&t.startTime&&c.searchParams.set("start",t.startTime.toString()),t!=null&&t.autoplay&&(c.searchParams.set("autoplay","1"),c.searchParams.set("mute","1")),c.searchParams.set("rel","0"),c.searchParams.set("modestbranding","1"),c.searchParams.set("controls","1"),c.searchParams.set("showinfo","0"),c.searchParams.set("iv_load_policy","3"),c.toString()},[o,t==null?void 0:t.startTime,t==null?void 0:t.autoplay]);return e.jsxs("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:[e.jsxs("div",{className:"relative w-full bg-black rounded-xl overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:[l&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-gray-700 border-t-red-500 rounded-full animate-spin mb-4 mx-auto"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement de la vidÃ©o YouTube..."})]})}),e.jsx("iframe",{src:g,title:(t==null?void 0:t.caption)||`YouTube video ${o}`,className:`absolute top-0 left-0 w-full h-full ${l?"opacity-0":"opacity-100"} transition-opacity duration-500`,style:{border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy",onLoad:()=>s(!1)})]}),(t==null?void 0:t.caption)&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:t.caption})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("a",{href:`https://www.youtube.com/watch?v=${o}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-gray-400 transition-colors",children:["Ouvrir sur YouTube",e.jsx(ue,{size:12})]})})]})}),$t=({url:t,caption:l})=>{const[s,r]=x.useState(!0),[i,n]=x.useState(!1),o=x.useRef(null),c=(a=>{if(!a)return null;const b=[/twitter\.com\/\w+\/status\/(\d+)/,/x\.com\/\w+\/status\/(\d+)/,/twitter\.com\/statuses\/(\d+)/,/x\.com\/statuses\/(\d+)/];for(const u of b){const m=a.match(u);if(m)return m[1]}return null})(t);return x.useEffect(()=>{if(!c||!o.current){n(!0),r(!1);return}if(window.twttr)window.twttr.widgets.createTweet(c,o.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{r(!1)}).catch(()=>{n(!0),r(!1)});else{const a=document.createElement("script");a.src="https://platform.twitter.com/widgets.js",a.async=!0,a.onload=()=>{window.twttr&&o.current&&window.twttr.widgets.createTweet(c,o.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{r(!1)}).catch(()=>{n(!0),r(!1)})},document.body.appendChild(a)}return()=>{o.current&&(o.current.innerHTML="")}},[c]),!c||i?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(xe,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Tweet non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:c?"Impossible de charger le tweet":"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all",children:[e.jsx(xe,{className:"w-4 h-4"}),"Voir sur X/Twitter",e.jsx(De,{size:14})]})]})})}):e.jsx("div",{className:"my-10 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"relative",children:[s&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-8 h-8 text-blue-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du tweet..."})]})}),e.jsx("div",{ref:o,className:"twitter-embed-container",style:{minHeight:s?"200px":"auto"}})]}),l&&!s&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:l})})]})})},At=t=>{if(!t)return"center center";const l=Math.round(t.x*100),s=Math.round(t.y*100);return`${l}% ${s}%`},It=({article:t,colors:l,onShareClick:s})=>{var g;const r=(g=t.mainImage)==null?void 0:g.hotspot,i=At(r),o=(()=>{if(!t.mainImage||!t.mainImage.asset)return null;if(t.mainImage.asset.url)return t.mainImage.asset.url;if(t.mainImage.asset._ref)try{return D(t.mainImage).width(1920).height(1080).quality(90).url()}catch(c){console.error("Error generating URL from ref:",c)}return null})();return e.jsxs("section",{className:"relative",children:[e.jsx($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-0 left-0 right-0 z-50 lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black/40 backdrop-blur-xl border-b border-white/5",children:[e.jsxs(O,{to:"/",className:"flex items-center gap-2 text-white/80 hover:text-white transition-colors",children:[e.jsx(Fe,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-all",children:e.jsx(pe,{size:18,className:"text-white"})})]})}),e.jsxs("div",{className:"relative w-full min-h-[70vh] sm:min-h-[60vh] md:min-h-[65vh] lg:aspect-[21/9]",children:[o?e.jsx($.img,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},src:o,alt:t.title,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:i},onError:c=>{c.target.src="https://images.unsplash.com/photo-1508098682722-e99c43a406b2?auto=format&fit=crop&q=80"}}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/30 via-transparent to-black/30"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{background:l.bgGradient}}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 pb-8 md:pb-12 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"max-w-4xl",children:[t.categories&&t.categories[0]&&e.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"mb-4",children:e.jsx(O,{to:`/rubrique/${t.categories[0].slug.current}`,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold uppercase tracking-wider transition-all hover:scale-105 bg-white/10 backdrop-blur-xl border border-white/20 text-white hover:bg-white/20",children:t.categories[0].title})}),e.jsx($.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black text-white mb-5 leading-[1.1] tracking-tight",style:{textShadow:"0 4px 30px rgba(0,0,0,0.5)"},children:t.title}),t.excerpt&&e.jsx($.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-base sm:text-lg text-gray-300 mb-6 max-w-2xl leading-relaxed line-clamp-3",children:t.excerpt}),e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-wrap items-center gap-4",children:[t.author&&e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-white/10 backdrop-blur-xl border border-white/10",children:[t.author.image&&e.jsx("img",{src:D(t.author.image).width(40).height(40).url(),alt:t.author.name,className:"w-8 h-8 rounded-full object-cover border border-white/20"}),e.jsx("span",{className:"text-sm font-medium text-white",children:t.author.name})]}),t.publishedAt&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 backdrop-blur-sm border border-white/10 text-gray-300",children:[e.jsx(me,{size:14}),e.jsx("span",{className:"text-sm",children:new Date(t.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]})]})]})})})]})]})},$e={info:{bg:"bg-blue-500/10",border:"border-blue-500/30",icon:ct,iconColor:"text-blue-400",titleColor:"text-blue-300"},warning:{bg:"bg-amber-500/10",border:"border-amber-500/30",icon:He,iconColor:"text-amber-400",titleColor:"text-amber-300"},success:{bg:"bg-green-500/10",border:"border-green-500/30",icon:Oe,iconColor:"text-green-400",titleColor:"text-green-300"},breaking:{bg:"bg-red-500/10",border:"border-red-500/30",icon:Be,iconColor:"text-red-400",titleColor:"text-red-300"},stat:{bg:"bg-purple-500/10",border:"border-purple-500/30",icon:ot,iconColor:"text-purple-400",titleColor:"text-purple-300"},quote:{bg:"bg-pink-500/10",border:"border-pink-500/30",icon:qe,iconColor:"text-pink-400",titleColor:"text-pink-300"}},Tt=({value:t})=>{const{type:l="info",title:s,content:r}=t,i=$e[l]||$e.info,n=i.icon;return e.jsx("div",{className:`
        my-8 rounded-xl border ${i.bg} ${i.border}
        overflow-hidden
      `,children:e.jsxs("div",{className:"flex items-start gap-4 p-5",children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i.iconColor}`,children:e.jsx(n,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[s&&e.jsx("h4",{className:`font-bold text-base mb-2 ${i.titleColor}`,children:s}),e.jsx("p",{className:"text-gray-300 leading-relaxed",children:r})]})]})})},_t=({value:t})=>{const{quote:l,author:s,role:r,image:i,source:n,date:o,style:g="classic"}=t,a=(()=>{if(!(i!=null&&i.asset))return null;try{return i.asset.url?i.asset.url:i.asset._ref?D(i).width(120).height(120).url():null}catch{return null}})();return g==="classic"?e.jsxs("blockquote",{className:"my-10 relative pl-6 border-l-4 border-pink-500",children:[e.jsxs("p",{className:"text-xl md:text-2xl text-white italic leading-relaxed mb-4",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-3 mt-4",children:[a&&e.jsx("img",{src:a,alt:s||"",className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{children:[s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic block",children:s}),r&&e.jsx("span",{className:"text-gray-500 text-sm",children:r}),n&&e.jsxs("span",{className:"text-gray-500 text-sm block",children:[n,o&&` - ${o}`]})]})]})]}):g==="with-background"?e.jsxs("blockquote",{className:"my-10 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl p-8 border border-white/10 relative overflow-hidden",children:[e.jsx(Ne,{size:80,className:"absolute top-4 right-4 text-pink-500/10"}),e.jsxs("p",{className:"text-xl md:text-2xl text-white italic leading-relaxed mb-6 relative z-10",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-4 relative z-10",children:[a&&e.jsx("img",{src:a,alt:s||"",className:"w-14 h-14 rounded-full object-cover ring-2 ring-pink-500/30"}),e.jsxs("div",{children:[s&&e.jsx("cite",{className:"text-white font-semibold not-italic block",children:s}),r&&e.jsx("span",{className:"text-pink-400 text-sm",children:r}),n&&e.jsxs("span",{className:"text-gray-500 text-sm block",children:[n,o&&` - ${o}`]})]})]})]}):g==="large"?e.jsxs("blockquote",{className:"my-16 text-center px-4",children:[e.jsx(Ne,{size:48,className:"text-pink-500/30 mx-auto mb-4"}),e.jsxs("p",{className:"text-2xl md:text-4xl text-white font-light italic leading-snug mb-6 max-w-3xl mx-auto",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex flex-col items-center gap-2",children:[a&&e.jsx("img",{src:a,alt:s||"",className:"w-16 h-16 rounded-full object-cover"}),s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic",children:s}),r&&e.jsx("span",{className:"text-pink-400 text-sm",children:r}),n&&e.jsxs("span",{className:"text-gray-500 text-sm",children:[n,o&&` - ${o}`]})]})]}):g==="bordered"?e.jsx("blockquote",{className:"my-10 border border-white/20 rounded-xl p-6 bg-black/30",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-1 h-full bg-gradient-to-b from-pink-500 to-rose-600 rounded-full"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-gray-200 italic leading-relaxed mb-4",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-3",children:[a&&e.jsx("img",{src:a,alt:s||"",className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"text-sm",children:[s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic block",children:s}),(r||n)&&e.jsxs("span",{className:"text-gray-500",children:[r,r&&n&&" - ",n]})]})]})]})]})}):e.jsxs("blockquote",{className:"my-10 relative pl-6 border-l-4 border-pink-500",children:[e.jsxs("p",{className:"text-xl text-white italic leading-relaxed",children:['"',l,'"']}),s&&e.jsxs("cite",{className:"text-gray-400 mt-2 block not-italic",children:["â€” ",s]})]})},Lt=(t,l)=>{const s=parseFloat(t.replace(/[^0-9.-]/g,"")),r=parseFloat(l.replace(/[^0-9.-]/g,""));return isNaN(s)||isNaN(r)?"equal":s>r?"player1":r>s?"player2":"equal"},Rt=({value:t})=>{const{title:l,player1Name:s,player2Name:r,stats:i,source:n}=t;return!i||i.length===0?null:e.jsxs("div",{className:"my-10 bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-white/10 overflow-hidden",children:[l&&e.jsx("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"text-lg font-bold text-white text-center",children:l})}),(s||r)&&e.jsxs("div",{className:"grid grid-cols-3 items-center px-6 py-4 bg-black/20 border-b border-white/10",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-lg font-bold text-pink-400",children:s||"Joueur 1"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"VS"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-lg font-bold text-blue-400",children:r||"Joueur 2"})})]}),e.jsx("div",{children:i.map((o,g)=>{const c=Lt(o.value1,o.value2);return e.jsxs("div",{className:`grid grid-cols-3 items-center px-6 py-4 ${g%2===0?"bg-black/10":""} ${g!==i.length-1?"border-b border-white/5":""}`,children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-2xl font-bold ${c==="player1"?"text-green-400":c==="player2"?"text-gray-500":"text-white"}`,children:o.value1})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-gray-400 font-medium",children:o.label})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-2xl font-bold ${c==="player2"?"text-green-400":c==="player1"?"text-gray-500":"text-white"}`,children:o.value2})})]},o._key||g)})}),n&&e.jsx("div",{className:"px-6 py-3 border-t border-white/10 bg-black/20",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",n]})})]})},Et=({value:t})=>{const{title:l,player1:s,player2:r,stats:i,verdict:n,season:o}=t,g=u=>{var m;if(!((m=u==null?void 0:u.image)!=null&&m.asset))return null;try{return u.image.asset.url?u.image.asset.url:u.image.asset._ref?D(u.image).width(200).height(200).url():null}catch{return null}},c=g(s),a=g(r),b=u=>u==="player1"?{p1:"text-green-400 font-bold",p2:"text-gray-400"}:u==="player2"?{p1:"text-gray-400",p2:"text-green-400 font-bold"}:{p1:"text-gray-300",p2:"text-gray-300"};return e.jsxs("div",{className:"my-10 bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-white/10 overflow-hidden",children:[l&&e.jsxs("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center",children:l}),o&&e.jsxs("p",{className:"text-sm text-gray-500 text-center mt-1",children:["Saison ",o]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-pink-500/20 to-rose-600/20 overflow-hidden border-2 border-pink-500/30",children:c?e.jsx("img",{src:c,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(he,{size:40,className:"text-pink-400"})})}),e.jsx("h4",{className:"text-lg font-bold text-white",children:s.name}),s.club&&e.jsx("p",{className:"text-sm text-gray-400",children:s.club})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-600/20 overflow-hidden border-2 border-blue-500/30",children:a?e.jsx("img",{src:a,alt:r.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(he,{size:40,className:"text-blue-400"})})}),e.jsx("h4",{className:"text-lg font-bold text-white",children:r.name}),r.club&&e.jsx("p",{className:"text-sm text-gray-400",children:r.club})]})]}),e.jsx("div",{className:"border-t border-white/10",children:i==null?void 0:i.map((u,m)=>{const p=b(u.advantage);return e.jsxs("div",{className:`grid grid-cols-3 items-center px-6 py-3 ${m%2===0?"bg-black/20":""}`,children:[e.jsx("span",{className:`text-lg text-right ${p.p1}`,children:u.value1}),e.jsx("span",{className:"text-sm text-gray-500 text-center px-2",children:u.label}),e.jsx("span",{className:`text-lg text-left ${p.p2}`,children:u.value2})]},u._key||m)})}),n&&e.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-pink-500/10 to-blue-500/10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx(Ve,{size:20,className:"text-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Verdict"})]}),n.winner&&e.jsxs("p",{className:"text-lg font-bold text-white text-center mb-2",children:[n.winner==="draw"&&"Ã‰galitÃ©",n.winner==="player1"&&`Avantage ${s.name}`,n.winner==="player2"&&`Avantage ${r.name}`]}),n.comment&&e.jsx("p",{className:"text-gray-400 text-center text-sm leading-relaxed",children:n.comment})]})]})},Pt=({value:t})=>{var d;const{title:l,images:s,layout:r="grid-3",showCaptions:i=!0,lightbox:n=!0}=t,[o,g]=x.useState(!1),[c,a]=x.useState(0),[b,u]=x.useState(0),m=(f,N=800)=>{var h;if(!((h=f==null?void 0:f.image)!=null&&h.asset))return null;try{return f.image.asset.url?f.image.asset.url:f.image.asset._ref?D(f.image).width(N).url():null}catch{return null}},p=f=>{n&&(a(f),g(!0))},v=()=>g(!1),k=()=>{a(f=>(f+1)%s.length)},I=()=>{a(f=>(f-1+s.length)%s.length)},C=()=>{u(f=>Math.min(f+1,s.length-1))},S=()=>{u(f=>Math.max(f-1,0))},_=()=>{switch(r){case"grid-2":return"grid grid-cols-2 gap-4";case"grid-3":return"grid grid-cols-2 md:grid-cols-3 gap-4";case"masonry":return"columns-2 md:columns-3 gap-4 space-y-4";default:return"grid grid-cols-2 md:grid-cols-3 gap-4"}};if(r==="carousel")return e.jsxs("div",{className:"my-10",children:[l&&e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:l}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-gray-900",children:s[b]&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:m(s[b],1200)||"",alt:s[b].caption||"",className:"w-full h-full object-cover cursor-pointer",onClick:()=>p(b)}),n&&e.jsx("button",{onClick:()=>p(b),className:"absolute top-4 right-4 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(we,{size:20,className:"text-white"})})]})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:S,disabled:b===0,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full hover:bg-black/70 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(ve,{size:24,className:"text-white"})}),e.jsx("button",{onClick:C,disabled:b===s.length-1,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full hover:bg-black/70 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(ae,{size:24,className:"text-white"})})]}),i&&((d=s[b])==null?void 0:d.caption)&&e.jsx("p",{className:"text-sm text-gray-400 mt-3 text-center italic",children:s[b].caption}),s.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:s.map((f,N)=>e.jsx("button",{onClick:()=>u(N),className:`w-2 h-2 rounded-full transition-colors ${N===b?"bg-pink-500":"bg-gray-600"}`},N))})]}),o&&e.jsx(E,{})]});const E=()=>{var f,N;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:v,children:[e.jsx("button",{onClick:v,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full z-50",children:e.jsx(Ge,{size:32,className:"text-white"})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h=>{h.stopPropagation(),I()},className:"absolute left-4 p-3 bg-white/10 rounded-full hover:bg-white/20",children:e.jsx(ve,{size:32,className:"text-white"})}),e.jsx("button",{onClick:h=>{h.stopPropagation(),k()},className:"absolute right-4 p-3 bg-white/10 rounded-full hover:bg-white/20",children:e.jsx(ae,{size:32,className:"text-white"})})]}),e.jsxs("div",{className:"max-w-5xl max-h-[80vh] px-4",onClick:h=>h.stopPropagation(),children:[e.jsx("img",{src:m(s[c],1600)||"",alt:((f=s[c])==null?void 0:f.caption)||"",className:"max-w-full max-h-[80vh] object-contain"}),i&&((N=s[c])==null?void 0:N.caption)&&e.jsx("p",{className:"text-white text-center mt-4",children:s[c].caption}),e.jsxs("p",{className:"text-gray-500 text-center mt-2 text-sm",children:[c+1," / ",s.length]})]})]})};return e.jsxs("div",{className:"my-10",children:[l&&e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:l}),e.jsx("div",{className:_(),children:s.map((f,N)=>{const h=m(f);return h?e.jsxs("figure",{className:`relative group overflow-hidden rounded-lg bg-gray-900 ${r==="masonry"?"break-inside-avoid":""}`,children:[e.jsx("img",{src:h,alt:f.caption||"",className:`w-full object-cover cursor-pointer transition-transform duration-300 group-hover:scale-105 ${r==="masonry"?"":"aspect-square"}`,onClick:()=>p(N)}),n&&e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>p(N),children:e.jsx(we,{size:32,className:"text-white"})}),i&&f.caption&&e.jsx("figcaption",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("p",{className:"text-sm text-white",children:f.caption})})]},f._key||N):null})}),o&&e.jsx(E,{})]})},Ut=({value:t})=>{const l=t.text||t.label||"Lien",s=t.url||t.link||t.href||"#",r=t.openInNewTab||t.newTab||!1,i=s.startsWith("http")||r,n=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:l}),e.jsx(ue,{size:16,className:"opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-200"})]}),o="group inline-flex items-center gap-2 text-lg text-gray-300 hover:text-white transition-colors cursor-pointer";return i?e.jsx("p",{className:"my-4",children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:o,children:n})}):e.jsx("p",{className:"my-4",children:e.jsx(O,{to:s,className:o,children:n})})},Mt=t=>{if(!t)return[];const l=[];let s=0;const r=/(\*\*(.+?)\*\*|\*(.+?)\*)/g;let i=0,n;for(;(n=r.exec(t))!==null;)n.index>i&&l.push(t.slice(i,n.index)),n[2]?l.push(e.jsx("strong",{className:"font-bold text-white",children:n[2]},s++)):n[3]&&l.push(e.jsx("em",{className:"italic text-gray-200",children:n[3]},s++)),i=r.lastIndex;return i<t.length&&l.push(t.slice(i)),l.length>0?l:[t]},Dt=({value:t})=>{const{title:l,content:s,warningText:r}=t,[i,n]=x.useState(!1);return e.jsxs("div",{className:"my-8 rounded-xl border border-amber-500/30 bg-amber-500/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-amber-500/20",children:[e.jsx(He,{size:20,className:"text-amber-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-amber-300",children:l||"Spoiler"}),r&&e.jsx("p",{className:"text-sm text-amber-400/70 mt-0.5",children:r})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`p-5 transition-all duration-300 ${i?"":"blur-md select-none"}`,children:e.jsx("p",{className:"text-gray-300 leading-relaxed",children:Mt(s)})}),!i&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer bg-black/20 hover:bg-black/10 transition-colors",onClick:()=>n(!0),children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 rounded-lg text-amber-300 hover:bg-amber-500/30 transition-colors",onClick:o=>{o.stopPropagation(),n(!0)},children:[e.jsx(Qe,{size:18}),e.jsx("span",{className:"font-medium",children:"RÃ©vÃ©ler le contenu"})]})}),i&&e.jsx("div",{className:"px-5 pb-4",children:e.jsxs("button",{onClick:()=>n(!1),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-400 transition-colors",children:[e.jsx(dt,{size:14}),e.jsx("span",{children:"Masquer le spoiler"})]})})]})]})},Ft=t=>t?t.includes(" - ")||t.startsWith("- ")?t.split(/\s*-\s+/).map(s=>s.trim()).filter(s=>s.length>0):[t]:[],qt=({item:t,isOpen:l,onToggle:s,index:r})=>{const i=Ft(t.content),n=i.length>1;return e.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between gap-4 px-5 py-4 text-left hover:bg-white/5 transition-colors","aria-expanded":l,children:[e.jsx("span",{className:"font-medium text-white",children:t.title}),e.jsx(X,{size:20,className:`text-gray-400 transition-transform duration-300 flex-shrink-0 ${l?"rotate-180":""}`})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-5 pb-4 text-gray-300 leading-relaxed",children:n?e.jsx("ul",{className:"space-y-2",children:i.map((o,g)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-pink-400 mt-1.5",children:"â€¢"}),e.jsx("span",{children:o})]},g))}):e.jsx("p",{children:i[0]})})})]})},Bt=({value:t})=>{const{title:l,items:s,allowMultiple:r=!1}=t,[i,n]=x.useState([]),o=g=>{n(r?c=>c.includes(g)?c.filter(a=>a!==g):[...c,g]:c=>c.includes(g)?[]:[g])};return e.jsxs("div",{className:"my-8 rounded-xl border border-white/10 bg-gray-900/50 overflow-hidden",children:[l&&e.jsx("div",{className:"px-5 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"font-bold text-white",children:l})}),e.jsx("div",{children:s==null?void 0:s.map((g,c)=>e.jsx(qt,{item:g,isOpen:i.includes(c),onToggle:()=>o(c),index:c},g._key||c))})]})},Ot=({value:t})=>{const{title:l,headers:s,rows:r,caption:i,striped:n=!0,compact:o=!1}=t,g=o?"px-3 py-2":"px-4 py-3";return e.jsxs("div",{className:"my-8 rounded-xl border border-white/10 bg-gray-900/50 overflow-hidden",children:[l&&e.jsx("div",{className:"px-5 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"font-bold text-white",children:l})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[s&&s.length>0&&e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/10 bg-black/20",children:s.map((c,a)=>e.jsx("th",{className:`${g} text-left text-sm font-semibold text-gray-300 uppercase tracking-wider`,children:c},a))})}),e.jsx("tbody",{children:r==null?void 0:r.map((c,a)=>{var b;return e.jsx("tr",{className:`
                  border-b border-white/5 last:border-b-0
                  ${n&&a%2===1?"bg-black/20":""}
                  hover:bg-white/5 transition-colors
                `,children:(b=c.cells)==null?void 0:b.map((u,m)=>e.jsx("td",{className:`${g} text-gray-300`,children:m===0?e.jsx("span",{className:"font-medium text-white",children:u}):u},m))},c._key||a)})})]})}),i&&e.jsx("div",{className:"px-5 py-3 border-t border-white/10 bg-black/20",children:e.jsx("p",{className:"text-xs text-gray-500",children:i})})]})},Ae={classic:{grass:"linear-gradient(180deg, #2d8a4e 0%, #1e6b3a 50%, #2d8a4e 100%)",lines:"#ffffff"},dark:{grass:"linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%)",lines:"#4a5568"},ligue1:{grass:"linear-gradient(180deg, #091C3E 0%, #0D2B5C 50%, #091C3E 100%)",lines:"#ffffff"},ucl:{grass:"linear-gradient(180deg, #0E1E5B 0%, #1a3a8a 50%, #0E1E5B 100%)",lines:"#ffffff"},octogoal:{grass:"linear-gradient(180deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",lines:"#ec4899"}},Ie={"4-3-3":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:20,y:44},{x:50,y:40},{x:80,y:44},{x:15,y:66},{x:50,y:72},{x:85,y:66}],"4-4-2":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:8,y:46},{x:33,y:44},{x:67,y:44},{x:92,y:46},{x:35,y:70},{x:65,y:70}],"4-2-3-1":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:33,y:38},{x:67,y:38},{x:15,y:56},{x:50,y:54},{x:85,y:56},{x:50,y:74}],"3-5-2":[{x:50,y:6},{x:20,y:22},{x:50,y:18},{x:80,y:22},{x:5,y:44},{x:28,y:42},{x:50,y:38},{x:72,y:42},{x:95,y:44},{x:35,y:70},{x:65,y:70}],"3-4-3":[{x:50,y:6},{x:20,y:22},{x:50,y:18},{x:80,y:22},{x:10,y:44},{x:37,y:42},{x:63,y:42},{x:90,y:44},{x:15,y:66},{x:50,y:72},{x:85,y:66}],"5-3-2":[{x:50,y:6},{x:5,y:26},{x:27,y:20},{x:50,y:18},{x:73,y:20},{x:95,y:26},{x:22,y:44},{x:50,y:42},{x:78,y:44},{x:35,y:70},{x:65,y:70}],"4-1-4-1":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:50,y:36},{x:10,y:54},{x:37,y:52},{x:63,y:52},{x:90,y:54},{x:50,y:74}],"5-4-1":[{x:50,y:6},{x:5,y:26},{x:27,y:20},{x:50,y:18},{x:73,y:20},{x:95,y:26},{x:10,y:46},{x:37,y:44},{x:63,y:44},{x:90,y:46},{x:50,y:72}],"4-5-1":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:5,y:46},{x:28,y:44},{x:50,y:42},{x:72,y:44},{x:95,y:46},{x:50,y:72}],"3-4-1-2":[{x:50,y:6},{x:20,y:22},{x:50,y:18},{x:80,y:22},{x:10,y:42},{x:37,y:40},{x:63,y:40},{x:90,y:42},{x:50,y:56},{x:35,y:72},{x:65,y:72}]},Te={motm:"â­",goal:"âš½",assist:"ðŸŽ¯",yellow:"ðŸŸ¨",red:"ðŸŸ¥"},Ht=({player:t,position:l,clubColor:s,showRating:r})=>{var o;const i=s||"#ec4899",n=((o=t==null?void 0:t.playerName)==null?void 0:o.split(" ").pop())||"";return e.jsxs("div",{className:"absolute flex flex-col items-center z-10",style:{left:`${l.x}%`,top:`${l.y}%`,transform:"translate(-50%, -50%)"},children:[e.jsxs("div",{className:"relative w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-white/90 flex items-center justify-center shadow-lg",style:{backgroundColor:i},children:[e.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:(t==null?void 0:t.number)||"?"}),(t==null?void 0:t.isCaptain)&&e.jsx("div",{className:"absolute -top-0.5 -left-0.5 w-3.5 h-3.5 bg-yellow-500 rounded-full flex items-center justify-center text-[8px] text-black font-bold border border-white",children:"C"}),(t==null?void 0:t.highlight)&&t.highlight!=="none"&&Te[t.highlight]&&e.jsx("div",{className:"absolute -top-0.5 -right-0.5 text-[10px]",children:Te[t.highlight]}),r&&(t==null?void 0:t.rating)&&e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 px-1 py-0.5 rounded text-[8px] text-white font-bold ${t.rating>=7?"bg-green-500":t.rating>=5?"bg-amber-500":"bg-red-500"}`,children:t.rating.toFixed(1)})]}),e.jsx("span",{className:"mt-0.5 text-[9px] md:text-[10px] text-white font-medium text-center max-w-[55px] truncate leading-tight",style:{textShadow:"0 1px 4px rgba(0,0,0,1)"},children:n})]})},_e=({team:t,theme:l,showRatings:s,isVersus:r=!1})=>{const i=Ae[l]||Ae.octogoal,n=Ie[t.formation]||Ie["4-3-3"];return e.jsxs("div",{className:"w-full rounded-xl relative overflow-hidden shadow-xl",style:{background:i.grass,aspectRatio:"2/3",maxWidth:r?"400px":"100%",minHeight:r?"auto":"600px"},children:[e.jsxs("svg",{viewBox:"0 0 100 150",className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:[e.jsx("rect",{x:"5",y:"5",width:"90",height:"140",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("line",{x1:"5",y1:"75",x2:"95",y2:"75",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("circle",{cx:"50",cy:"75",r:"12",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("circle",{cx:"50",cy:"75",r:"1",fill:i.lines,opacity:"0.7"}),e.jsx("rect",{x:"22",y:"5",width:"56",height:"18",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"34",y:"5",width:"32",height:"7",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 36 23 Q 50 30 64 23",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"22",y:"127",width:"56",height:"18",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"34",y:"138",width:"32",height:"7",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 36 127 Q 50 120 64 127",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"40",y:"2",width:"20",height:"3",fill:"none",stroke:i.lines,strokeWidth:"0.6",opacity:"0.8"}),e.jsx("rect",{x:"40",y:"145",width:"20",height:"3",fill:"none",stroke:i.lines,strokeWidth:"0.6",opacity:"0.8"}),e.jsx("path",{d:"M 5 8 Q 8 5 11 5",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 89 5 Q 92 5 95 8",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 5 142 Q 8 145 11 145",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 89 145 Q 92 145 95 142",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"})]}),n.map((o,g)=>{var c;return e.jsx(Ht,{player:t.players[g],position:o,clubColor:t.clubColor,showRating:s},((c=t.players[g])==null?void 0:c._key)||g)}),e.jsx("div",{className:"absolute bottom-3 right-3 px-3 py-1.5 bg-black/70 backdrop-blur-sm text-white text-xs font-bold rounded-md border border-white/20",children:t.formation})]})},Vt=({value:t})=>{var a,b;const{title:l,matchContext:s,displayMode:r,theme:i,team1:n,team2:o,showSubstitutes:g,showRatings:c}=t;return e.jsxs("div",{className:"my-10 md:my-16",children:[(l||s)&&e.jsxs("div",{className:"text-center mb-8",children:[l&&e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm",children:s})]}),e.jsxs("div",{className:`flex gap-4 md:gap-8 justify-center items-start ${r==="versus"?"flex-row flex-wrap":"flex-col items-center"}`,children:[e.jsxs("div",{className:"text-center flex flex-col items-center",children:[n.clubName&&e.jsx("p",{className:"font-bold mb-3 text-lg",style:{color:n.clubColor||"#ec4899"},children:n.clubName}),e.jsx(_e,{team:n,theme:i,showRatings:c,isVersus:r==="versus"}),n.coach&&e.jsxs("p",{className:"mt-3 text-sm text-gray-400",children:[e.jsx("span",{className:"text-gray-500",children:"Coach:"})," ",n.coach]})]}),r==="versus"&&o&&e.jsx("div",{className:"self-center px-4",children:e.jsx("span",{className:"text-3xl font-black text-gray-600",children:"VS"})}),r==="versus"&&o&&e.jsxs("div",{className:"text-center flex flex-col items-center",children:[o.clubName&&e.jsx("p",{className:"font-bold mb-3 text-lg",style:{color:o.clubColor||"#3b82f6"},children:o.clubName}),e.jsx(_e,{team:o,theme:i,showRatings:c,isVersus:!0}),o.coach&&e.jsxs("p",{className:"mt-3 text-sm text-gray-400",children:[e.jsx("span",{className:"text-gray-500",children:"Coach:"})," ",o.coach]})]})]}),g&&(((a=n.substitutes)==null?void 0:a.length)||r==="versus"&&((b=o==null?void 0:o.substitutes)==null?void 0:b.length))&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-800",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-gray-500 text-center mb-4",children:"RemplaÃ§ants"}),e.jsxs("div",{className:`flex gap-8 ${r==="versus"?"justify-center flex-wrap":"justify-center"}`,children:[n.substitutes&&n.substitutes.length>0&&e.jsxs("div",{className:"text-center",children:[n.clubName&&r==="versus"&&e.jsx("p",{className:"text-xs font-medium mb-2",style:{color:n.clubColor||"#ec4899"},children:n.clubName}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[400px]",children:n.substitutes.map(u=>e.jsxs("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-300 text-xs rounded-md",children:[u.number&&e.jsx("span",{className:"text-gray-500 mr-1",children:u.number}),u.playerName.split(" ").pop()]},u._key))})]}),r==="versus"&&(o==null?void 0:o.substitutes)&&o.substitutes.length>0&&e.jsxs("div",{className:"text-center",children:[o.clubName&&e.jsx("p",{className:"text-xs font-medium mb-2",style:{color:o.clubColor||"#3b82f6"},children:o.clubName}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[400px]",children:o.substitutes.map(u=>e.jsxs("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-300 text-xs rounded-md",children:[u.number&&e.jsx("span",{className:"text-gray-500 mr-1",children:u.number}),u.playerName.split(" ").pop()]},u._key))})]})]})]})]})},Le={easy:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/30"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30"},hard:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},expert:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30"}},Gt={easy:"Facile",medium:"Moyen",hard:"Difficile",expert:"Expert"},Qt=({value:t})=>{const l=(t==null?void 0:t.title)||"Quiz Football",s=t==null?void 0:t.description,r=(t==null?void 0:t.difficulty)||"medium",i=(t==null?void 0:t.timeLimit)||30,n=(t==null?void 0:t.questions)||[],o=(t==null?void 0:t.showResults)!==!1,g=(t==null?void 0:t.shareEnabled)!==!1,c=t==null?void 0:t.resultMessages,[a,b]=x.useState(0),[u,m]=x.useState(0),[p,v]=x.useState(!1),[k,I]=x.useState(null),[C,S]=x.useState(i),[_,E]=x.useState(!1),[d,f]=x.useState(!1);if(!t||!n||n.length===0)return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6 text-center",children:[e.jsx("span",{className:"text-4xl mb-4 block",children:"ðŸŽ¯"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l}),e.jsx("p",{className:"text-gray-400",children:"Quiz en cours de prÃ©paration..."}),!1]})});const N=n[a],h=n.reduce((z,U)=>z+(U.points||1),0),L=h>0?Math.round(u/h*100):0;x.useEffect(()=>{if(!(!d||_)){if(i>0&&!p&&C>0){const z=setTimeout(()=>S(U=>U-1),1e3);return()=>clearTimeout(z)}C===0&&!p&&P(null)}},[C,p,d,_,i]),x.useEffect(()=>{i>0&&S(i)},[a,i]);const P=x.useCallback(z=>{if(p)return;v(!0),I(z);const U=N.answers.find(R=>R.isCorrect);z&&U&&z===U._key&&m(R=>R+N.points)},[p,N]),G=()=>{a<n.length-1?(b(z=>z+1),v(!1),I(null)):E(!0)},w=()=>{b(0),m(0),v(!1),I(null),S(i),E(!1),f(!1)},y=()=>L===100?(c==null?void 0:c.perfect)||"Parfait !":L>=70?(c==null?void 0:c.good)||"Bien jouÃ© !":L>=40?(c==null?void 0:c.average)||"Pas mal !":(c==null?void 0:c.low)||"Tu feras mieux la prochaine fois !",j=()=>{const z=`J'ai obtenu ${u}/${h} (${L}%) au quiz "${l}" sur Octogoal !`;navigator.share?navigator.share({title:l,text:z,url:window.location.href}):navigator.clipboard.writeText(z+" "+window.location.href)},A=Le[r]||Le.medium;return d?_&&o?e.jsx("div",{className:"my-10 md:my-14",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8 text-center",children:[e.jsx(Ve,{size:48,className:"mx-auto mb-4 text-yellow-400"}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Quiz terminÃ© !"}),e.jsx("p",{className:"text-xl text-gray-300 mb-4",children:y()}),e.jsxs("div",{className:"text-5xl font-black text-pink-500 mb-2",children:[u,"/",h]}),e.jsxs("div",{className:"text-gray-400 mb-8",children:[L,"% de bonnes rÃ©ponses"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-xl transition-colors",children:[e.jsx(xt,{size:18}),"Recommencer"]}),g&&e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-6 py-3 bg-pink-600 hover:bg-pink-500 text-white font-medium rounded-xl transition-colors",children:[e.jsx(pe,{size:18}),"Partager"]})]})]})})}):e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Question ",a+1,"/",n.length]}),e.jsxs("div",{className:`px-2 py-0.5 rounded text-xs font-medium ${A.bg} ${A.text}`,children:[N.points," pts"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-pink-400 font-medium",children:["Score: ",u]}),i>0&&e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${C<=5?"text-red-400":"text-gray-400"}`,children:[e.jsx(ke,{size:14}),C,"s"]})]})]}),e.jsx("div",{className:"h-1 bg-gray-800",children:e.jsx($.div,{className:"h-full bg-pink-500",initial:{width:0},animate:{width:`${(a+(p?1:0))/n.length*100}%`}})}),e.jsxs("div",{className:"p-6 md:p-8",children:[(N.image||N.imageUrl)&&e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsx("img",{src:N.image?D(N.image).width(400).url():N.imageUrl,alt:"",className:"max-h-48 rounded-lg object-contain"})}),e.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white text-center mb-8",children:N.question}),e.jsx("div",{className:"grid gap-3",children:e.jsx(J,{mode:"wait",children:N.answers.map((z,U)=>{const R=k===z._key,q=z.isCorrect,Q=p&&q,Z=p&&R&&!q;return e.jsxs($.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:U*.1},onClick:()=>P(z._key),disabled:p,className:`w-full p-4 rounded-xl text-left font-medium transition-all flex items-center gap-3 ${Q?"bg-green-500/20 border-2 border-green-500 text-green-400":Z?"bg-red-500/20 border-2 border-red-500 text-red-400":R?"bg-pink-500/20 border-2 border-pink-500 text-white":"bg-gray-800 border-2 border-gray-700 text-gray-300 hover:border-gray-500"}`,children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm",children:String.fromCharCode(65+U)}),e.jsx("span",{className:"flex-1",children:z.text}),Q&&e.jsx(Oe,{size:20,className:"text-green-400"}),Z&&e.jsx(mt,{size:20,className:"text-red-400"})]},z._key)})})}),p&&N.explanation&&e.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-300",children:N.explanation})}),p&&e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 flex justify-center",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-6 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl transition-colors",children:[a<n.length-1?"Question suivante":"Voir les rÃ©sultats",e.jsx(ae,{size:18})]})})]})]})}):e.jsx("div",{className:"my-10 md:my-14",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8 text-center",children:[e.jsx("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium mb-4 ${A.bg} ${A.text}`,children:Gt[r]}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:l}),s&&e.jsx("p",{className:"text-gray-400 mb-6",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-400 mb-8",children:[e.jsxs("span",{children:[n.length," questions"]}),i>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ke,{size:14}),i,"s par question"]}),e.jsxs("span",{children:[h," points max"]})]}),e.jsx("button",{onClick:()=>f(!0),className:"px-8 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl transition-colors",children:"Commencer le quiz"})]})})})},Re={rumor:{icon:"ðŸ’­",label:"Rumeur",color:"text-gray-400",bg:"bg-gray-500/20"},confirmed_interest:{icon:"ðŸŽ¯",label:"IntÃ©rÃªt confirmÃ©",color:"text-blue-400",bg:"bg-blue-500/20"},negotiating:{icon:"ðŸ¤",label:"En nÃ©gociation",color:"text-yellow-400",bg:"bg-yellow-500/20"},clubs_agreed:{icon:"ðŸ“‹",label:"Accord entre clubs",color:"text-orange-400",bg:"bg-orange-500/20"},medical:{icon:"ðŸ¥",label:"Visite mÃ©dicale",color:"text-purple-400",bg:"bg-purple-500/20"},official:{icon:"âœ…",label:"Officiel",color:"text-green-400",bg:"bg-green-500/20"},failed:{icon:"âŒ",label:"Ã‰chec",color:"text-red-400",bg:"bg-red-500/20"}},Ee={hot:{icon:"ðŸ”¥",label:"TrÃ¨s chaud",color:"text-red-400"},interested:{icon:"ðŸŸ¡",label:"IntÃ©ressÃ©",color:"text-yellow-400"},monitoring:{icon:"ðŸ‘€",label:"Surveille",color:"text-blue-400"}},Wt={permanent:"Transfert dÃ©finitif",loan:"PrÃªt",loan_option:"PrÃªt avec option",free:"Libre",loan_return:"Retour de prÃªt"},Yt=({value:t})=>{const{playerName:l,playerPhoto:s,playerPhotoUrl:r,currentClubName:i,interestedClubs:n,transferType:o,estimatedFee:g,salary:c,contractLength:a,status:b,reliability:u,source:m,sourceUrl:p,lastUpdate:v,notes:k,showTimeline:I,timeline:C}=t,[S,_]=x.useState(!1),E=Re[b]||Re.rumor,d=s?D(s).width(200).url():r,f=h=>h>=80?"#22c55e":h>=50?"#f59e0b":"#ef4444",N=h=>{try{return new Date(h).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}catch{return h}};return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:`px-4 py-2 flex items-center justify-between ${E.bg}`,children:[e.jsxs("div",{className:`flex items-center gap-2 ${E.color}`,children:[e.jsx("span",{className:"text-lg",children:E.icon}),e.jsx("span",{className:"font-semibold text-sm",children:E.label})]}),e.jsx("span",{className:"text-xs text-gray-400",children:Wt[o]})]}),e.jsxs("div",{className:"p-5 md:p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[d?e.jsx("img",{src:d,alt:l||"Joueur",className:"w-20 h-20 md:w-24 md:h-24 rounded-xl object-cover bg-gray-800"}):e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-xl bg-gray-800 flex items-center justify-center text-3xl",children:"âš½"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:l||"Joueur inconnu"}),i&&e.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Actuellement Ã  ",i]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"FiabilitÃ©"}),e.jsx("div",{className:"flex-1 max-w-[150px] h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx($.div,{initial:{width:0},animate:{width:`${u}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full rounded-full",style:{backgroundColor:f(u)}})}),e.jsxs("span",{className:"text-sm font-bold",style:{color:f(u)},children:[u,"%"]})]})]})]}),n&&n.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Clubs intÃ©ressÃ©s"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(h=>{const L=Ee[h.interestLevel]||Ee.monitoring;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-800 rounded-lg",children:[e.jsx("span",{children:L.icon}),e.jsx("span",{className:"text-white font-medium text-sm",children:h.clubName}),e.jsxs("span",{className:`text-xs ${L.color}`,children:["(",L.label,")"]})]},h._key)})})]}),(g||c||a)&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[g&&e.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-black text-green-400",children:[g,"Mâ‚¬"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Estimation"})]}),c&&e.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-black text-blue-400",children:[c,"Mâ‚¬"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Salaire/an"})]}),a&&e.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-black text-purple-400",children:a}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Contrat"})]})]}),k&&e.jsx("div",{className:"mb-6 p-4 bg-gray-800/30 rounded-lg border-l-4 border-pink-500",children:e.jsx("p",{className:"text-gray-300 text-sm italic",children:k})}),I&&C&&C.length>0&&e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsxs("button",{onClick:()=>_(!S),className:"flex items-center justify-between w-full text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Timeline du transfert"}),S?e.jsx(We,{size:18,className:"text-gray-500"}):e.jsx(X,{size:18,className:"text-gray-500"})]}),e.jsx(J,{children:S&&e.jsx($.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"mt-4 space-y-3",children:C.map((h,L)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),L<C.length-1&&e.jsx("div",{className:"w-0.5 flex-1 bg-gray-700 mt-1"})]}),e.jsxs("div",{className:"flex-1 pb-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:N(h.date)}),e.jsx("div",{className:"text-sm text-gray-300",children:h.event}),h.source&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Source: ",h.source]})]})]},h._key))})})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-4 pt-4 border-t border-gray-800",children:[m&&e.jsxs("div",{className:"flex items-center gap-1",children:["Source:",p?e.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:underline flex items-center gap-1",children:[m,e.jsx(De,{size:12})]}):e.jsx("span",{children:m})]}),v&&e.jsxs("div",{children:["Mis Ã  jour: ",N(v)]})]})]})]})})},Jt=({value:t})=>{var G;const{_key:l,question:s,pollType:r,options:i,matchTeam1:n,matchTeam2:o,matchDrawOption:g,showResults:c,style:a,accentColor:b}=t,u=`poll_${l}`,m=x.useMemo(()=>{if(r==="match"&&n&&o){const w=[{_key:"team1",text:n.clubName||"Ã‰quipe 1",color:n.color},{_key:"team2",text:o.clubName||"Ã‰quipe 2",color:o.color}];return g&&w.splice(1,0,{_key:"draw",text:"Match nul",color:"#6b7280"}),w}return r==="yesno"?[{_key:"yes",text:"Oui",color:"#22c55e"},{_key:"no",text:"Non",color:"#ef4444"}]:r==="rating"?[1,2,3,4,5].map(w=>({_key:`rating_${w}`,text:"â­".repeat(w),color:b||"#ec4899"})):i||[]},[r,i,n,o,g,b]),[p,v]=x.useState(!1),[k,I]=x.useState([]),[C,S]=x.useState({}),[_,E]=x.useState(0);x.useEffect(()=>{const w=localStorage.getItem(u);if(w){const A=JSON.parse(w);v(!0),I(A.selected||[])}const y={};let j=0;m.forEach(A=>{const z=Math.floor(Math.random()*100)+10;y[A._key]=z,j+=z}),S(y),E(j)},[u,m]);const d=w=>{if(p)return;const y=[w];localStorage.setItem(u,JSON.stringify({selected:y,timestamp:Date.now()})),I(y),v(!0),S(j=>({...j,[w]:(j[w]||0)+1})),E(j=>j+1)},f=w=>_===0?0:Math.round((C[w]||0)/_*100),N=()=>c==="always"?!0:c==="never"?!1:p,h=b||"#ec4899";if(a==="versus"&&r==="match"&&n&&o)return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center mb-6",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs($.button,{whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},onClick:()=>d("team1"),disabled:p,className:`flex-1 max-w-[180px] p-6 rounded-xl text-center transition-all ${k.includes("team1")?"ring-2 ring-white":p?"opacity-60":"hover:opacity-80"}`,style:{backgroundColor:n.color},children:[e.jsx("div",{className:"text-white font-bold text-lg mb-2",children:n.clubName}),N()&&e.jsxs("div",{className:"text-white/80 text-2xl font-black",children:[f("team1"),"%"]})]}),g&&e.jsxs($.button,{whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},onClick:()=>d("draw"),disabled:p,className:`px-6 py-4 rounded-xl text-center bg-gray-700 ${k.includes("draw")?"ring-2 ring-white":p?"opacity-60":"hover:bg-gray-600"}`,children:[e.jsx("div",{className:"text-white font-bold text-sm mb-1",children:"Nul"}),N()&&e.jsxs("div",{className:"text-white/80 text-xl font-black",children:[f("draw"),"%"]})]}),e.jsxs($.button,{whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},onClick:()=>d("team2"),disabled:p,className:`flex-1 max-w-[180px] p-6 rounded-xl text-center transition-all ${k.includes("team2")?"ring-2 ring-white":p?"opacity-60":"hover:opacity-80"}`,style:{backgroundColor:o.color},children:[e.jsx("div",{className:"text-white font-bold text-lg mb-2",children:o.clubName}),N()&&e.jsxs("div",{className:"text-white/80 text-2xl font-black",children:[f("team2"),"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 text-gray-500 text-sm",children:[e.jsx(be,{size:14}),e.jsxs("span",{children:[_," votes"]})]})]})});if(a==="cards")return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center mb-6",children:s}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:m.map(w=>{const y=k.includes(w._key),j=f(w._key),A=w.image?D(w.image).width(200).url():w.imageUrl;return e.jsxs($.button,{whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},onClick:()=>d(w._key),disabled:p,className:`relative p-4 rounded-xl text-center transition-all overflow-hidden ${y?"ring-2":p?"opacity-70":"hover:bg-gray-700"} bg-gray-800`,style:{borderColor:y?h:"transparent"},children:[A&&e.jsx("img",{src:A,alt:"Image",className:"w-16 h-16 mx-auto mb-2 rounded-lg object-cover"}),e.jsx("div",{className:"text-white font-medium text-sm",children:w.text}),N()&&e.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:h},children:[j,"%"]}),y&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(ge,{size:16,style:{color:h}})})]},w._key)})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 text-gray-500 text-sm",children:[e.jsx(be,{size:14}),e.jsxs("span",{children:[_," votes"]})]})]})});const L=Math.max(...m.map(w=>f(w._key))),P=(G=m.find(w=>f(w._key)===L))==null?void 0:G._key;return e.jsx("div",{className:"my-10 md:my-14",children:e.jsx("div",{className:"relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl border border-slate-700/50 overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ—³ï¸"}),e.jsx("span",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium",children:"Sondage"})]}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white text-center mb-8",children:s}),e.jsx("div",{className:"space-y-3",children:m.map((w,y)=>{const j=k.includes(w._key),A=f(w._key);return N()&&w._key,e.jsxs($.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},onClick:()=>d(w._key),disabled:p,className:`w-full p-4 rounded-xl text-left transition-all relative overflow-hidden group ${j?"ring-2 bg-slate-800/80":"bg-slate-800/50 hover:bg-slate-800/80"}`,style:{borderColor:j?h:"transparent",boxShadow:j?`0 0 15px ${h}20`:"none"},children:[N()&&e.jsx($.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-y-0 left-0 rounded-l-xl",style:{background:j?`linear-gradient(90deg, ${h}50 0%, ${h}20 100%)`:"linear-gradient(90deg, rgba(100,116,139,0.25) 0%, rgba(100,116,139,0.08) 100%)"}}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${j?"border-transparent":"border-slate-600 group-hover:border-slate-500"}`,style:{backgroundColor:j?h:"transparent"},children:j&&e.jsx(ge,{size:12,className:"text-white"})}),e.jsx("span",{className:`font-medium ${j?"text-white":"text-slate-300"}`,children:w.text})]}),N()&&e.jsxs("span",{className:"font-bold text-lg flex-shrink-0",style:{color:j?h:"#64748b"},children:[A,"%"]})]})]},w._key)})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 pt-4 border-t border-slate-700/50",children:[e.jsx(be,{size:14,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-500 text-sm",children:[_.toLocaleString()," participants"]})]})]})})})},ee=["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"],Zt=({value:t})=>{const{title:l,description:s,items:r,style:i,showRankChange:n,interactive:o,interactiveTitle:g,accentColor:c,numberedList:a,reverseOrder:b}=t,[u,m]=x.useState(new Set),[p,v]=x.useState(!1),k=c||"#ec4899",I=b?[...r].reverse():r,C=d=>d.trend==="new"?e.jsx(Ye,{size:14,className:"text-yellow-400"}):d.trend==="up"?e.jsx(ht,{size:14,className:"text-green-400"}):d.trend==="down"?e.jsx(gt,{size:14,className:"text-red-400"}):e.jsx(ut,{size:14,className:"text-gray-500"}),S=d=>{if(!n||!d.previousRank)return null;const f=d.previousRank-d.rank;return f>0?e.jsxs("span",{className:"text-green-400 text-xs",children:["+",f]}):f<0?e.jsx("span",{className:"text-red-400 text-xs",children:f}):e.jsx("span",{className:"text-gray-500 text-xs",children:"="})},_=d=>{m(f=>{const N=new Set(f);return N.has(d)?N.delete(d):N.add(d),N})},E=()=>{m(p?new Set:new Set(r.map(d=>d._key))),v(!p)};if(i==="podium"){const d=I.slice(0,3),f=I.slice(3),N=d.length>=3?[d[1],d[0],d[2]]:d;return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white text-center mb-2",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-center text-sm mb-8",children:s}),e.jsx("div",{className:"flex items-end justify-center gap-4 mb-8",children:N.map((h,L)=>{const P=L===0?2:L===1?1:3,G=P===1?"h-32":P===2?"h-24":"h-20",w=h.image?D(h.image).width(100).url():h.imageUrl;return e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.15},className:"flex flex-col items-center",children:[w?e.jsx("img",{src:w,alt:h.title,className:`${P===1?"w-20 h-20":"w-16 h-16"} rounded-full object-cover border-2 mb-2`,style:{borderColor:k},loading:"lazy"}):e.jsx("div",{className:`${P===1?"w-20 h-20 text-3xl":"w-16 h-16 text-2xl"} rounded-full bg-gray-700 flex items-center justify-center mb-2`,children:ee[P-1]}),e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("div",{className:"text-white font-bold text-sm",children:h.title}),h.stat&&e.jsx("div",{className:"text-xs",style:{color:k},children:h.stat})]}),e.jsx("div",{className:`${G} w-24 rounded-t-lg flex items-start justify-center pt-2`,style:{backgroundColor:`${k}${P===1?"cc":P===2?"99":"66"}`},children:e.jsx("span",{className:"text-2xl",children:ee[P-1]})})]},h._key)})}),f.length>0&&e.jsx("div",{className:"space-y-2 border-t border-gray-700 pt-4",children:f.map((h,L)=>{const P=h.image?D(h.image).width(50).url():h.imageUrl;return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${h.highlight?"bg-gray-800":""}`,children:[e.jsx("span",{className:"w-8 text-center text-gray-500 font-bold",children:h.rank}),P&&e.jsx("img",{src:P,alt:"Image",className:"w-10 h-10 rounded-full object-cover",loading:"lazy"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:h.title}),h.subtitle&&e.jsx("div",{className:"text-gray-500 text-xs",children:h.subtitle})]}),h.stat&&e.jsx("div",{className:"font-bold",style:{color:k},children:h.stat}),n&&C(h)]},h._key)})})]})})}return i==="reveal"?e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:s})]}),e.jsx("button",{onClick:E,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors",style:{backgroundColor:`${k}20`,color:k},children:p?"Masquer tout":"RÃ©vÃ©ler tout"})]}),e.jsx("div",{className:"space-y-3",children:I.map(d=>{const f=u.has(d._key),N=d.image?D(d.image).width(80).url():d.imageUrl;return e.jsxs($.div,{className:`rounded-xl overflow-hidden ${d.highlight?"ring-1":""}`,style:{borderColor:d.highlight?k:"transparent"},children:[e.jsxs("button",{onClick:()=>_(d._key),className:"w-full p-4 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:`${k}30`,color:k},children:a?d.rank:ee[d.rank-1]||d.rank}),e.jsx(J,{mode:"wait",children:f?e.jsxs($.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex-1 flex items-center gap-3",children:[N&&e.jsx("img",{src:N,alt:"Image",className:"w-12 h-12 rounded-lg object-cover",loading:"lazy"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"text-white font-bold",children:d.title}),d.subtitle&&e.jsx("div",{className:"text-gray-500 text-sm",children:d.subtitle})]}),d.stat&&e.jsx("div",{className:"font-bold text-lg",style:{color:k},children:d.stat})]},"revealed"):e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 text-left",children:e.jsx("div",{className:"text-gray-500",children:"Cliquez pour rÃ©vÃ©ler"})},"hidden")}),f?e.jsx(We,{size:20,className:"text-gray-500"}):e.jsx(X,{size:20,className:"text-gray-500"})]}),e.jsx(J,{children:f&&d.description&&e.jsx($.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"px-4 pb-4 pt-0 text-gray-400 text-sm border-t border-gray-700 mt-0 pt-3",children:d.description})})})]},d._key)})})]})}):i==="cards"?e.jsxs("div",{className:"my-10 md:my-14",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:s})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:I.map((d,f)=>{const N=d.image?D(d.image).width(150).url():d.imageUrl;return e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.05},className:`bg-gray-800 rounded-xl p-4 text-center relative ${d.highlight?"ring-2":""}`,style:{borderColor:d.highlight?k:"transparent"},children:[e.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:k},children:d.rank<=3?ee[d.rank-1]:d.rank}),N?e.jsx("img",{src:N,alt:d.title,className:"w-16 h-16 mx-auto rounded-full object-cover mb-3",loading:"lazy"}):e.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-700 flex items-center justify-center text-2xl mb-3",children:d.rank<=3?ee[d.rank-1]:"âš½"}),e.jsx("div",{className:"text-white font-bold text-sm mb-1",children:d.title}),d.subtitle&&e.jsx("div",{className:"text-gray-500 text-xs mb-2",children:d.subtitle}),d.stat&&e.jsx("div",{className:"font-bold",style:{color:k},children:d.stat}),n&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[C(d),S(d)]})]},d._key)})})]}):e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:s}),e.jsx("div",{className:"space-y-2",children:I.map((d,f)=>{const N=d.image?D(d.image).width(60).url():d.imageUrl;return e.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05},className:`flex items-center gap-4 p-4 rounded-xl transition-colors ${d.highlight?"bg-gray-800 ring-1":"hover:bg-gray-800/50"}`,style:{borderColor:d.highlight?k:"transparent"},children:[e.jsx("div",{className:"w-10 text-center",children:d.rank<=3?e.jsx("span",{className:"text-2xl",children:ee[d.rank-1]}):e.jsx("span",{className:"text-xl font-bold text-gray-500",children:d.rank})}),N&&e.jsx("img",{src:N,alt:"Image",className:"w-12 h-12 rounded-lg object-cover",loading:"lazy"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-white font-bold truncate",children:d.title}),d.subtitle&&e.jsx("div",{className:"text-gray-500 text-sm truncate",children:d.subtitle})]}),d.stat&&e.jsx("div",{className:"text-lg font-bold",style:{color:k},children:d.stat}),n&&e.jsxs("div",{className:"flex items-center gap-1",children:[C(d),S(d)]})]},d._key)})})]})})},Pe=({type:t,className:l=""})=>e.jsx("div",{className:`relative ${l}`,children:e.jsx("div",{className:`${t==="inline"?"my-8 sm:my-12 py-6 px-6":"p-4"} bg-white/[0.02] backdrop-blur-sm border border-white/5 rounded-xl flex flex-col items-center justify-center text-center min-h-[100px]`,children:e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-600 font-medium",children:"PublicitÃ©"})})}),Xt=x.memo(({article:t,colors:l,isEmission:s=!1})=>{var c;const[r,i]=x.useState(!1),n=x.useRef(0),o=x.useCallback(a=>{navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3)},[]);n.current=0;const g=x.useMemo(()=>({block:{h1:({children:a})=>e.jsx("h1",{className:"text-xl sm:text-2xl font-montserrat font-bold text-white mb-5 mt-10 sm:mt-12 leading-tight",children:a}),h2:({children:a,value:b})=>{var p,v;const m=`h2-${(((v=(p=b==null?void 0:b.children)==null?void 0:p[0])==null?void 0:v.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsxs("h2",{id:m,className:"text-lg sm:text-xl md:text-2xl font-montserrat font-bold text-white mt-10 sm:mt-14 mb-4 sm:mb-5 scroll-mt-24 flex items-center gap-3",children:[e.jsx("span",{className:"w-1 self-stretch rounded-full flex-shrink-0",style:{background:l.bgGradient}}),a]})},h3:({children:a,value:b})=>{var p,v;const m=`h3-${(((v=(p=b==null?void 0:b.children)==null?void 0:p[0])==null?void 0:v.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsx("h3",{id:m,className:"text-base font-montserrat font-bold text-gray-100 mt-6 sm:mt-8 mb-2 scroll-mt-24",children:a})},h4:({children:a})=>e.jsx("h4",{className:"text-xs sm:text-sm font-montserrat font-semibold text-gray-500 mt-5 sm:mt-6 mb-2 uppercase tracking-wider",children:a}),normal:({children:a})=>{n.current++;const b=n.current===5||n.current===12;return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-base sm:text-lg leading-[1.75] sm:leading-[1.85] text-gray-300 mb-5 sm:mb-6",children:a}),b&&e.jsx(Pe,{type:"inline"})]})},blockquote:({children:a})=>e.jsxs("blockquote",{className:"my-8 sm:my-12 md:my-16 relative p-5 sm:p-8 rounded-2xl bg-white/[0.03] backdrop-blur-xl border border-white/10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none rounded-2xl"}),e.jsx("div",{className:"absolute left-0 top-6 bottom-6 w-1 rounded-full",style:{background:l.bgGradient}}),e.jsx("div",{className:"pl-4 sm:pl-6 relative",children:e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-montserrat italic text-white leading-snug",children:a})})]})},list:{bullet:({children:a})=>e.jsx("div",{className:"my-6 sm:my-8 space-y-2.5 sm:space-y-3",children:a}),number:({children:a})=>e.jsx("div",{className:"my-6 sm:my-8 space-y-2.5 sm:space-y-3",children:a})},listItem:{bullet:({children:a})=>e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 text-gray-300",children:[e.jsx("span",{className:"mt-[9px] sm:mt-[10px] w-1.5 h-1.5 sm:w-[6px] sm:h-[6px] rounded-full bg-gradient-to-r from-pink-500 to-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-base sm:text-lg leading-[1.75] sm:leading-[1.8]",children:a})]}),number:({children:a,index:b})=>e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 text-gray-300",children:[e.jsxs("span",{className:"text-base sm:text-lg font-medium text-gray-500 w-5 sm:w-6 flex-shrink-0",children:[(b||0)+1,"."]}),e.jsx("span",{className:"text-base sm:text-lg leading-[1.75] sm:leading-[1.8]",children:a})]})},marks:{strong:({children:a})=>e.jsx("strong",{className:"font-semibold text-white",children:a}),em:({children:a})=>e.jsx("em",{className:"italic",children:a}),code:({children:a})=>e.jsx("code",{className:"px-1.5 sm:px-2 py-0.5 bg-white/[0.08] backdrop-blur-sm rounded text-sm font-mono text-gray-300 border border-white/10",children:a}),link:({value:a,children:b})=>e.jsx("a",{href:a==null?void 0:a.href,className:"text-pink-400 hover:text-pink-300 underline underline-offset-4 decoration-pink-500/30 hover:decoration-pink-400 transition-colors",target:"_blank",rel:"noopener noreferrer",children:b})},types:{image:({value:a})=>e.jsxs("figure",{className:"my-8 sm:my-12 -mx-4 sm:mx-0",children:[e.jsx("div",{className:"relative overflow-hidden sm:rounded-2xl",children:e.jsx("img",{src:D(a).width(1400).url(),alt:a.alt||"Image de l'article",className:"w-full",loading:"lazy"})}),a.caption&&e.jsx("figcaption",{className:"text-xs sm:text-sm text-gray-500 mt-3 sm:mt-4 italic px-4 sm:px-0",children:a.caption})]}),code:({value:a})=>e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl border border-white/10 overflow-hidden my-8 sm:my-10 bg-white/[0.02] backdrop-blur-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.03] via-transparent to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/[0.03] border-b border-white/10 relative",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:a.language||"code"}),e.jsx("button",{onClick:()=>o(a.code),className:"text-xs text-gray-500 hover:text-white transition-colors px-2 py-1 rounded-lg hover:bg-white/10",children:r?"CopiÃ© !":"Copier"})]}),e.jsx("pre",{className:"p-4 sm:p-6 text-sm overflow-x-auto relative",children:e.jsx("code",{className:"text-gray-300 font-mono",children:a.code})})]}),instagram:({value:a})=>e.jsx(St,{url:a==null?void 0:a.url,caption:a==null?void 0:a.caption}),youtube:({value:a})=>e.jsx(zt,{value:a}),twitter:({value:a})=>e.jsx($t,{url:a==null?void 0:a.url,caption:a==null?void 0:a.caption}),callout:({value:a})=>e.jsx(Tt,{value:a}),styledQuote:({value:a})=>e.jsx(_t,{value:a}),statsCard:({value:a})=>e.jsx(Rt,{value:a}),playerComparison:({value:a})=>e.jsx(Et,{value:a}),imageGallery:({value:a})=>e.jsx(Pt,{value:a}),ctaButton:({value:a})=>e.jsx(Ut,{value:a}),spoiler:({value:a})=>e.jsx(Dt,{value:a}),accordion:({value:a})=>e.jsx(Bt,{value:a}),dataTable:({value:a})=>e.jsx(Ot,{value:a}),teamLineup:({value:a})=>e.jsx(Vt,{value:a}),footballQuiz:({value:a})=>e.jsx(Qt,{value:a}),mercatoRumor:({value:a})=>e.jsx(Yt,{value:a}),quickPoll:({value:a})=>e.jsx(Jt,{value:a}),topList:({value:a})=>e.jsx(Zt,{value:a})}}),[l.primary,l.bgGradient,o,r]);return e.jsxs("article",{className:"article-content",children:[s&&t.videoUrl&&e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${((c=t.videoUrl.split("v=")[1])==null?void 0:c.split("&")[0])||t.videoUrl.split("/").pop()}`,title:t.title,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e.jsxs("div",{className:"max-w-none",children:[(t.body||t.content)&&e.jsx(tt,{value:t.body||t.content,components:g}),!t.body&&!t.content&&e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Contenu en cours de rÃ©daction."})})]}),e.jsx(Pe,{type:"inline",className:"mt-12 sm:mt-16"}),t.keyPoints&&Array.isArray(t.keyPoints)&&t.keyPoints.length>0&&e.jsxs("div",{className:"mt-12 sm:mt-16 p-5 sm:p-8 rounded-2xl bg-white/[0.03] backdrop-blur-xl border border-white/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-pink-500 to-blue-500 flex items-center justify-center",children:e.jsx(pt,{size:20,className:"text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-montserrat font-bold text-white",children:"Ã€ retenir"})]}),e.jsx("ul",{className:"space-y-3 sm:space-y-4",children:t.keyPoints.map((a,b)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-300",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-r from-pink-500/20 to-blue-500/20 border border-white/10 flex items-center justify-center text-xs font-bold text-white",children:b+1}),e.jsx("span",{className:"text-base sm:text-lg leading-relaxed",children:a})]},b))})]})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mt-10 sm:mt-12 pt-6 sm:pt-8 border-t border-white/10",children:[e.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((a,b)=>e.jsx("span",{className:"px-3 py-1.5 text-sm text-gray-400 bg-white/[0.05] backdrop-blur-sm border border-white/10 rounded-full hover:border-pink-500/40 hover:text-white transition-all cursor-pointer",children:a.title},b))})]}),e.jsx("div",{className:"hidden lg:block mt-12 sm:mt-16 pt-6 sm:pt-8 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Partager"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const a=window.location.href;navigator.share?navigator.share({title:t.title,url:a}):navigator.clipboard.writeText(a)},className:"p-3 bg-white/[0.05] hover:bg-white/10 backdrop-blur-sm border border-white/10 hover:border-pink-500/40 rounded-xl transition-all",children:e.jsx(pe,{size:18,className:"text-gray-400"})}),e.jsx("button",{className:"p-3 bg-white/[0.05] hover:bg-white/10 backdrop-blur-sm border border-white/10 hover:border-pink-500/40 rounded-xl transition-all",children:e.jsx(Je,{size:18,className:"text-gray-400"})})]})]})}),e.jsx("style",{children:`
        .article-content ul,
        .article-content ol,
        .article-content li {
          list-style: none !important;
          list-style-type: none !important;
          padding-left: 0 !important;
          margin-left: 0 !important;
        }
        .article-content li::before,
        .article-content li::marker {
          content: none !important;
          display: none !important;
        }
      `})]})}),oe="polygon(15% 0, 85% 0, 100% 15%, 100% 85%, 85% 100%, 15% 100%, 0 85%, 0 15%)",Xe=({author:t,publishedAt:l,colors:s,variant:r="desktop"})=>{const i=r==="mobile"?{width:64,height:64,iconSize:24,className:"w-16 h-16"}:{width:72,height:72,iconSize:28,className:"w-[72px] h-[72px]"},n=Ue.useMemo(()=>{try{if(t.imageUrl&&typeof t.imageUrl=="string"&&t.imageUrl.startsWith("http"))return t.imageUrl;if(t.image){if(typeof t.image=="string"&&t.image.startsWith("http"))return t.image;if(t.image.asset){if(typeof t.image.asset=="string"&&t.image.asset.startsWith("http"))return t.image.asset;if(t.image.asset._ref&&t.image.asset._ref.includes("image-"))try{const o=D(t.image).width(i.width*2).height(i.height*2).url();if(o&&!o.includes("undefined"))return o}catch(o){console.error("Error with urlFor:",o)}}if(t.image.url&&typeof t.image.url=="string")return t.image.url}return null}catch{return null}},[t.image,t.imageUrl,i.width,i.height]);return r==="mobile"?e.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"lg:hidden mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl",style:{background:`linear-gradient(135deg, ${s.bgLight} 0%, rgba(0,0,0,0.3) 100%)`,border:`1px solid ${s.borderColor}`},children:[e.jsx("div",{className:"relative flex-shrink-0",children:n?e.jsx("div",{className:`${i.className} overflow-hidden`,style:{clipPath:oe},children:e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}):e.jsx("div",{className:`${i.className} flex items-center justify-center`,style:{clipPath:oe,background:s.bgGradient},children:e.jsx(he,{size:i.iconSize,className:"text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ã‰crit par"}),e.jsx("h3",{className:"text-base font-bold text-white",children:t.name}),l&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[e.jsx(me,{size:10}),new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]})]})}):e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:s.bgGradient},children:e.jsx(Ce,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-white",children:"L'auteur"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[n?e.jsx("div",{className:`${i.className} overflow-hidden`,style:{clipPath:oe},children:e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}):e.jsx("div",{className:`${i.className} flex items-center justify-center`,style:{clipPath:oe,background:s.bgGradient},children:e.jsx(he,{size:i.iconSize,className:"text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-md flex items-center justify-center",style:{background:s.primary},children:e.jsx(Ce,{size:10,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),l&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(me,{size:10}),new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]})]})]}),t.bio&&e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mt-4 line-clamp-3",children:t.bio}),e.jsxs(O,{to:`/auteur/${t.name.toLowerCase().replace(/\s+/g,"-")}`,className:"group flex items-center justify-between mt-4 p-3 rounded-xl transition-all hover:bg-white/5",style:{border:`1px solid ${s.borderColor}`},children:[e.jsx("span",{className:"text-sm font-medium",style:{color:s.textColor},children:"Voir ses articles"}),e.jsx(ae,{size:16,className:"group-hover:translate-x-1 transition-transform",style:{color:s.textColor}})]})]})]})},Ke=({headings:t,activeSection:l,scrollProgress:s,colors:r,variant:i="desktop",mobileMenuOpen:n=!1,setMobileMenuOpen:o})=>{const[g,c]=x.useState({}),[a,b]=x.useState(!0);if(!t||t.length===0)return null;const u=m=>{i==="mobile"&&o&&o(!1);const p=document.getElementById(m);p&&p.scrollIntoView({behavior:"smooth",block:"start"})};return i==="mobile"?e.jsx("div",{className:"lg:hidden container mx-auto px-4 py-3",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>o&&o(!n),className:"w-full p-5 border-b flex items-center justify-between",style:{borderColor:r.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:r.bgGradient},children:e.jsx(Se,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des matiÃ¨res"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(X,{size:20,className:`text-gray-400 transition-transform ${n?"rotate-180":""}`})]}),e.jsx(J,{children:n&&e.jsx($.nav,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"p-4 max-h-[400px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:e.jsx("div",{className:"space-y-2 max-w-full",children:t.map((m,p)=>{const v=l===m.id,k=m.subheadings.length>0,I=g[m.id];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:`#${m.id}`,onClick:C=>{C.preventDefault(),u(m.id)},className:`flex-1 flex items-center gap-3 py-3 px-3 rounded-xl transition-all ${v?"bg-white/10":"hover:bg-white/5"}`,style:{borderLeft:v?`3px solid ${r.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0",style:{background:v?r.primary:r.bgLight,color:v?"#000":r.textColor},children:p+1}),e.jsx("span",{className:`text-sm ${v?"text-white font-medium":"text-gray-300"} break-words line-clamp-2`,children:m.text})]}),k&&e.jsx("button",{onClick:C=>{C.preventDefault(),C.stopPropagation(),c(S=>({...S,[m.id]:!S[m.id]}))},className:"p-2 rounded-lg hover:bg-white/10 transition-all",children:e.jsx(X,{size:16,className:`transition-transform ${I?"rotate-180":""}`,style:{color:r.textColor}})})]}),k&&I&&e.jsx("div",{className:"ml-8 mt-1 space-y-1",children:m.subheadings.map(C=>e.jsxs("a",{href:`#${C.id}`,onClick:S=>{S.preventDefault(),u(C.id)},className:"flex items-center gap-2 py-2 px-3 rounded-lg text-sm hover:bg-white/5",style:{color:l===C.id?r.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:l===C.id?r.primary:"#4b5563"}}),C.text]},C.id))})]},m.id)})})})})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>b(!a),className:"w-full p-5 flex items-center justify-between hover:bg-white/5 transition-colors",style:{borderBottom:a?"none":`1px solid ${r.borderColor}30`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:r.bgGradient},children:e.jsx(Se,{size:18,className:"text-white"})}),!a&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-white/20 animate-pulse",style:{background:r.primary+"40"}})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des matiÃ¨res"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(X,{size:20,className:`text-gray-400 transition-transform duration-300 ${a?"":"rotate-180"}`})]}),e.jsx(J,{children:!a&&e.jsxs($.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:[e.jsx("nav",{className:"p-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:t.map((m,p)=>{const v=l===m.id,k=m.subheadings.length>0,I=g[m.id],C=m.subheadings.some(S=>l===S.id);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsxs("a",{href:`#${m.id}`,className:`
                      flex-1 flex items-center gap-3 py-3 px-4 rounded-xl
                      transition-all duration-300 relative overflow-hidden
                      ${v?"bg-gradient-to-r":"hover:bg-white/5"}
                    `,style:{background:v?`linear-gradient(90deg, ${r.bgLight}, transparent)`:C?r.bgLight+"50":void 0,borderLeft:v?`3px solid ${r.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:`
                        w-7 h-7 rounded-lg flex items-center justify-center
                        text-xs font-bold transition-all duration-300
                        ${v?"scale-110":""}
                      `,style:{background:v?r.primary:r.bgLight,color:v?"#000":r.textColor},children:p+1}),e.jsx("span",{className:`
                        flex-1 font-medium transition-colors duration-300
                        ${v?"text-white":"text-gray-300 group-hover:text-white"}
                      `,children:m.text}),v&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-green-500",children:"En cours"})]})]}),k&&e.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),c(_=>({..._,[m.id]:!_[m.id]}))},className:"p-1.5 rounded-lg transition-all duration-300 hover:bg-white/10",style:{color:r.textColor},children:e.jsxs("div",{className:"relative",children:[e.jsx(X,{size:16,className:`transition-transform duration-300 ${I?"rotate-180":""}`}),!I&&m.subheadings.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full",style:{background:r.primary+"60"}})]})})]}),e.jsx(J,{children:k&&I&&e.jsx($.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"ml-8 mt-1 space-y-1 border-l-2 border-gray-700/50 pl-4",children:m.subheadings.map(S=>{const _=l===S.id;return e.jsxs("a",{href:`#${S.id}`,className:`
                                flex items-center gap-2 py-2 px-3 rounded-lg
                                text-sm transition-all duration-200
                                ${_?"bg-white/10":"hover:bg-white/5"}
                              `,style:{color:_?r.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:_?r.primary:"#4b5563"}}),e.jsx("span",{className:"line-clamp-1",children:S.text}),_&&e.jsx(Qe,{size:12,className:"ml-auto",style:{color:r.primary}})]},S.id)})})})})]},m.id)})})}),e.jsxs("div",{className:"p-4 border-t",style:{borderColor:r.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Progression de lecture"}),e.jsxs("span",{className:"text-xs font-medium",style:{color:r.textColor},children:[Math.round(s),"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:e.jsx($.div,{className:"h-full rounded-full",style:{background:r.bgGradient,width:`${s}%`},transition:{duration:.1}})})]})]})})]})},Kt=({format:t="rectangle",className:l=""})=>e.jsx("div",{className:`relative ${l}`,children:e.jsx("div",{className:`
      p-4 bg-gray-900/50 border border-dashed border-gray-700 rounded-xl
      flex flex-col items-center justify-center text-center
      ${t==="skyscraper"?"min-h-[600px]":"min-h-[250px]"}
    `,children:e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-600",children:"PublicitÃ©"})})}),es=({article:t,relatedArticles:l,latestArticles:s=[],headings:r,activeSection:i,scrollProgress:n,colors:o,onShare:g})=>{const[c,a]=x.useState("flash"),[b,u]=x.useState([]),[m,p]=x.useState([]),[v,k]=x.useState([]),[I,C]=x.useState(null),[S,_]=x.useState(null),[E,d]=x.useState(!0),f=((r==null?void 0:r.length)||0)>=3;x.useEffect(()=>{(async()=>{try{d(!0);const j=await Ze();if(j&&j.length>0){u(j.slice(0,6));const A=j.filter(R=>R.isTrending).slice(0,6);p(A.length>0?A:j.slice(0,5));const z=j.filter(R=>R.contentType==="emission");k(z.slice(0,6)),_(z[0]||null);const U=j.find(R=>R.isTrending&&R._id!==t._id)||j.find(R=>R._id!==t._id);C(U||null)}}catch(j){console.error("Erreur chargement articles:",j)}finally{d(!1)}})()},[t._id]);const N=y=>{const j=new Date,A=new Date(y),z=Math.floor((j.getTime()-A.getTime())/(1e3*60*60)),U=Math.floor(z/24);return z<1?"Ã€ l'instant":z<24?`${z}h`:U===1?"Hier":U<7?`${U}j`:A.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},h=()=>{switch(c){case"flash":return b;case"trending":return m;case"emissions":return v;default:return b}},L=(y,j=200)=>{var A,z,U,R,q,Q,Z,le,ie;try{if((z=(A=y.mainImage)==null?void 0:A.asset)!=null&&z.url)return y.mainImage.asset.url;if((R=(U=y.mainImage)==null?void 0:U.asset)!=null&&R._ref)return D(y.mainImage).width(j).height(j).url();if((q=y.mainImage)!=null&&q.asset)try{return D(y.mainImage).width(j).height(j).url()}catch{}return typeof y.mainImage=="string"&&y.mainImage.startsWith("http")?y.mainImage:y.mainImageUrl?y.mainImageUrl:(Z=(Q=y.image)==null?void 0:Q.asset)!=null&&Z.url?y.image.asset.url:(ie=(le=y.image)==null?void 0:le.asset)!=null&&ie._ref?D(y.image).width(j).height(j).url():null}catch(ne){return console.error("Error getting article image:",ne),null}},P=[{id:"flash",label:"Flash",icon:bt},{id:"trending",label:"Tendances",icon:Be},{id:"emissions",label:"VidÃ©os",icon:fe}],G=y=>{if(!y)return"bg-gray-500/20 text-gray-400";const j=y.toLowerCase();return j.includes("actu")?"bg-pink-500/20 text-pink-400":j.includes("match")?"bg-blue-500/20 text-blue-400":j.includes("joueur")?"bg-emerald-500/20 text-emerald-400":j.includes("meme")||j.includes("mÃ¨me")?"bg-amber-500/20 text-amber-400":j.includes("club")?"bg-purple-500/20 text-purple-400":j.includes("emission")||j.includes("Ã©mission")?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"},w=y=>{var j,A;return y.contentType?{emission:"Ã‰MISSION",analyse:"ANALYSE",interview:"INTERVIEW",actualite:"ACTUS","match-report":"MATCHS"}[y.contentType]||y.contentType.toUpperCase():(A=(j=y.categories)==null?void 0:j[0])!=null&&A.title?y.categories[0].title.toUpperCase():"ACTUS"};return e.jsxs("div",{className:"space-y-6",children:[t.author&&e.jsx(Xe,{author:t.author,publishedAt:t.publishedAt,colors:o,variant:"desktop"}),f&&r&&r.length>0&&e.jsx(Ke,{headings:r,activeSection:i,scrollProgress:n,colors:o,variant:"desktop"}),e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"p-1 bg-black/30",children:e.jsx("div",{className:"flex gap-1",children:P.map(y=>{const j=y.icon,A=c===y.id;return e.jsxs("button",{onClick:()=>a(y.id),className:`
                    flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg
                    text-sm font-medium transition-all
                    ${A?"bg-gradient-to-r from-pink-500 to-rose-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[e.jsx(j,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:y.label})]},y.id)})})}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:E?e.jsx("div",{className:"p-6 text-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"})}):e.jsx("div",{className:"p-2 space-y-1",children:h().map(y=>{const j=L(y),A=w(y),z=G(A);return e.jsxs(O,{to:`/article/${y.slug.current}`,className:"group flex items-start gap-2.5 p-1.5 rounded-lg hover:bg-white/5 transition-all",children:[j&&e.jsx("div",{className:"w-12 h-9 rounded overflow-hidden flex-shrink-0 bg-gray-800",children:e.jsx("img",{src:j,alt:"",className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:`inline-block text-[8px] font-bold px-1 py-0.5 rounded mb-0.5 ${z}`,children:A}),e.jsx("h4",{className:"text-xs text-gray-300 group-hover:text-white transition-colors line-clamp-2 leading-tight",children:y.title}),e.jsx("span",{className:"text-[10px] text-gray-500",children:N(y.publishedAt||"")})]})]},y._id)})})}),e.jsxs(O,{to:"/articles",className:"flex items-center justify-center gap-2 text-sm text-gray-400 hover:text-white p-3 border-t border-white/5",children:["Voir tous les articles ",e.jsx(ae,{size:14})]})]}),I&&e.jsxs(O,{to:`/article/${I.slug.current}`,className:"block group rounded-xl overflow-hidden bg-gray-900/80 border border-white/10",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[L(I,600)?e.jsx("img",{src:L(I,600),alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-1.5 px-2 py-1 bg-pink-500 rounded-md",children:[e.jsx(ft,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs font-bold text-white",children:"Ã€ la une"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:I.title}),I.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:I.excerpt})]})]}),S&&e.jsxs("div",{className:"rounded-xl overflow-hidden bg-gray-900/80 border border-white/10",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center",children:e.jsx(fe,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:"DerniÃ¨re Ã©mission"})]}),e.jsxs(O,{to:`/article/${S.slug.current}`,className:"block group",children:[e.jsxs("div",{className:"relative aspect-video",children:[L(S,600)?e.jsx("img",{src:L(S,600),alt:"",className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:e.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:e.jsx(fe,{size:24,className:"text-white ml-1"})})})]}),e.jsx("div",{className:"p-3",children:e.jsx("h4",{className:"text-sm font-medium text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:S.title})})]})]}),e.jsxs("div",{className:"rounded-xl bg-gray-900/80 border border-white/10 p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Suivez-nous"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("a",{href:"https://youtube.com/@octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-red-500/10 hover:bg-red-500/20 transition-colors group",children:[e.jsx(yt,{size:20,className:"text-red-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"YouTube"})]}),e.jsxs("a",{href:"https://instagram.com/octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-pink-500/10 hover:bg-pink-500/20 transition-colors group",children:[e.jsx(de,{size:20,className:"text-pink-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"Instagram"})]}),e.jsxs("a",{href:"https://twitter.com/octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 transition-colors group",children:[e.jsx(xe,{size:20,className:"text-blue-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"Twitter"})]})]})]}),f&&l.length>0&&e.jsxs("div",{className:"rounded-xl bg-gray-900/80 border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center",children:e.jsx(Ye,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Ã€ lire aussi"})]}),e.jsx("div",{className:"p-2 space-y-1",children:l.slice(0,4).map(y=>{const j=L(y);return e.jsxs(O,{to:`/article/${y.slug.current}`,className:"group flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-all",children:[e.jsx("div",{className:"w-14 h-10 rounded-md overflow-hidden flex-shrink-0 bg-gray-800",children:j?e.jsx("img",{src:j,alt:"",className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gray-700"})}),e.jsx("h4",{className:"flex-1 text-sm text-gray-300 group-hover:text-white transition-colors line-clamp-2",children:y.title})]},y._id)})})]}),e.jsx(Kt,{format:"rectangle"})]})},ts=({articles:t,colors:l})=>{if(t.length===0)return null;const s=r=>{var i,n;return(i=r==null?void 0:r.asset)!=null&&i.url?r.asset.url:(n=r==null?void 0:r.asset)!=null&&n._ref?`https://cdn.sanity.io/images/5rn8u6ed/production/${r.asset._ref.replace("image-","").replace("-jpg",".jpg").replace("-jpeg",".jpeg").replace("-png",".png").replace("-webp",".webp")}?w=400&h=300&fit=crop&auto=format`:null};return e.jsxs("section",{className:"py-16 sm:py-20 bg-black relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/30 via-transparent to-gray-900/30 pointer-events-none"}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[e.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-10 sm:mb-14",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-full bg-white/[0.05] backdrop-blur-xl border border-white/10",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-pink-500 to-blue-500 animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"RecommandÃ©s"})]}),e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-3",children:"Continuez votre lecture"}),e.jsx("p",{className:"text-gray-500 max-w-xl mx-auto text-sm sm:text-base",children:"DÃ©couvrez d'autres articles qui pourraient vous intÃ©resser"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.slice(0,6).map((r,i)=>{var o;const n=s(r.mainImage);return e.jsx($.article,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.08},className:"group",children:e.jsx(O,{to:`/article/${r.slug.current}`,children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/[0.03] backdrop-blur-xl border border-white/10 hover:border-pink-500/40 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none rounded-2xl"}),e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[n?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:n,alt:r.title||"Article image",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",onError:g=>{const c=g.currentTarget;c.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"})]}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-blue-500/20",children:e.jsx("div",{className:"absolute inset-0 bg-black/60"})}),r.categories&&r.categories[0]&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider text-white bg-white/10 backdrop-blur-xl border border-white/20 shadow-lg",children:r.categories[0].title})})]}),e.jsxs("div",{className:"p-4 sm:p-5",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2 line-clamp-2 group-hover:text-pink-400 transition-colors leading-tight",children:r.title}),r.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3 leading-relaxed",children:r.excerpt}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/5",children:[((o=r.author)==null?void 0:o.name)&&e.jsxs("span",{className:"text-xs text-gray-500 truncate max-w-[55%]",children:["Par ",r.author.name]}),r.publishedAt&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[e.jsx(me,{size:12}),e.jsx("span",{children:new Date(r.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-pink-500 to-blue-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})})},r._id)})}),e.jsx($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-10 sm:mt-14",children:e.jsxs(O,{to:"/articles",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-blue-500 hover:from-pink-600 hover:to-blue-600 text-white rounded-xl font-medium transition-all shadow-lg shadow-pink-500/20 hover:shadow-pink-500/30 hover:scale-105",children:["Voir tous les articles",e.jsx(ue,{size:18})]})})]})]})},ss=({isOpen:t,onClose:l,shareUrl:s,shareTitle:r,shareText:i})=>{const[n,o]=x.useState(!1),g=()=>{navigator.clipboard.writeText(s),o(!0),setTimeout(()=>{o(!1),l()},1e3)},c=[{name:"Twitter",icon:xe,color:"hover:bg-blue-500/20 hover:text-blue-400",url:`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(s)}`},{name:"LinkedIn",icon:jt,color:"hover:bg-blue-700/20 hover:text-blue-600",url:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(s)}`},{name:"Facebook",icon:Nt,color:"hover:bg-blue-600/20 hover:text-blue-500",url:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`},{name:"WhatsApp",icon:qe,color:"hover:bg-green-500/20 hover:text-green-400",url:`https://wa.me/?text=${encodeURIComponent(r+" "+s)}`},{name:"Telegram",icon:wt,color:"hover:bg-sky-500/20 hover:text-sky-400",url:`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${encodeURIComponent(r)}`},{name:"Email",icon:vt,color:"hover:bg-purple-500/20 hover:text-purple-400",url:`mailto:?subject=${encodeURIComponent(r)}&body=${encodeURIComponent(i+`

`+s)}`}];return e.jsx(J,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]"}),e.jsxs($.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"fixed inset-x-4 bottom-20 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-[90%] max-w-md bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-gray-700/50 shadow-2xl z-[101]",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 md:p-6 border-b border-gray-700/50",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:"Partager cet article"}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(Ge,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"p-5 md:p-6 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map(a=>{const b=a.icon;return e.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",onClick:l,className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10 transition-all ${a.color}`,children:[e.jsx(b,{size:20,className:"md:hidden"}),e.jsx(b,{size:24,className:"hidden md:block"}),e.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:a.name})]},a.name)})}),e.jsxs("div",{className:"pt-4 border-t border-gray-700/50",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mb-3",children:"Ou copier le lien"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-3 py-2.5 md:px-4 md:py-3 bg-black/50 border border-gray-700 rounded-lg text-gray-300 text-xs md:text-sm"}),e.jsxs("button",{onClick:g,className:"px-3 py-2.5 md:px-4 md:py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm",children:[n?e.jsx(ge,{size:16,className:"md:hidden"}):e.jsx(ze,{size:16,className:"md:hidden"}),n?e.jsx(ge,{size:18,className:"hidden md:block"}):e.jsx(ze,{size:18,className:"hidden md:block"}),e.jsx("span",{className:"hidden sm:inline",children:n?"CopiÃ©!":"Copier"})]})]})]})]})]})]})})},ye=[{_id:"1",title:"Comment dÃ©buter en programmation web en 2024",slug:{current:"comment-debuter-programmation"},excerpt:"Guide complet pour apprendre la programmation web de zÃ©ro. DÃ©couvrez les langages essentiels, les outils indispensables et la roadmap parfaite pour devenir dÃ©veloppeur.",body:[{_type:"block",children:[{text:"La programmation web est l'un des domaines les plus accessibles et demandÃ©s du dÃ©veloppement logiciel. Que vous souhaitiez crÃ©er des sites vitrines, des applications web complexes ou mÃªme devenir freelance, ce guide vous donnera toutes les clÃ©s pour rÃ©ussir.",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"Les langages fondamentaux",_type:"span"}]},{_type:"block",children:[{text:"HTML (HyperText Markup Language) est le squelette de toute page web. Il dÃ©finit la structure et le contenu : les titres, paragraphes, listes, liens, images, formulaires et tableaux.",_type:"span"}]},{_type:"block",children:[{text:"CSS (Cascading Style Sheets) s'occupe de la prÃ©sentation : couleurs, polices, espacements, mise en page responsive, animations et transitions.",_type:"span"}]},{_type:"block",children:[{text:"JavaScript apporte l'interactivitÃ© : manipulation du DOM, gestion des Ã©vÃ©nements, communication avec les APIs.",_type:"span"}]}],publishedAt:"2024-12-01T10:00:00.000Z",author:{name:"Alex DÃ©veloppeur",bio:"DÃ©veloppeur fullstack passionnÃ© avec 5 ans d'expÃ©rience. SpÃ©cialisÃ© en React, Node.js et formations."},categories:[{title:"Programmation",slug:{current:"programmation"}},{title:"DÃ©butant",slug:{current:"debutant"}}],tags:[{title:"HTML",slug:{current:"html"}},{title:"CSS",slug:{current:"css"}},{title:"JavaScript",slug:{current:"javascript"}}],readingTime:8,views:1247,likes:89},{_id:"2",title:"MaÃ®triser les React Hooks : Guide complet 2024",slug:{current:"react-hooks-guide"},excerpt:"DÃ©couvrez tous les secrets des React Hooks avec des exemples pratiques. useState, useEffect, useContext et hooks personnalisÃ©s expliquÃ©s simplement.",body:[{_type:"block",children:[{text:"Les React Hooks ont rÃ©volutionnÃ© la faÃ§on d'Ã©crire des composants React. Fini les classes complexes, place Ã  des fonctions Ã©lÃ©gantes et rÃ©utilisables !",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"useState : GÃ©rer l'Ã©tat local",_type:"span"}]},{_type:"block",children:[{text:"Le hook le plus utilisÃ© pour gÃ©rer l'Ã©tat dans vos composants. Exemple : const [count, setCount] = useState(0);",_type:"span"}]}],publishedAt:"2024-11-28T14:30:00.000Z",author:{name:"Marie Frontend",bio:"Experte React avec une passion pour l'architecture frontend moderne."},categories:[{title:"React",slug:{current:"react"}},{title:"AvancÃ©",slug:{current:"avance"}}],tags:[{title:"React",slug:{current:"react"}},{title:"Hooks",slug:{current:"hooks"}}],readingTime:12,views:892,likes:156},{_id:"3",title:"CSS Grid vs Flexbox : Quand utiliser quoi ?",slug:{current:"css-grid-vs-flexbox"},excerpt:"Comprendre les diffÃ©rences entre CSS Grid et Flexbox. DÃ©couvrez quand et comment utiliser chaque technique pour crÃ©er des layouts parfaits.",body:[{_type:"block",children:[{text:"CSS Grid et Flexbox sont deux systÃ¨mes de mise en page puissants mais avec des objectifs diffÃ©rents. Ce guide vous aide Ã  choisir la bonne solution.",_type:"span"}]}],publishedAt:"2024-11-25T09:15:00.000Z",author:{name:"Sophie Design",bio:"Designer UI/UX spÃ©cialisÃ©e dans les interfaces web modernes et accessibles."},categories:[{title:"CSS",slug:{current:"css"}},{title:"Design",slug:{current:"design"}}],tags:[{title:"CSS",slug:{current:"css"}},{title:"Layout",slug:{current:"layout"}}],readingTime:6,views:654,likes:78},{_id:"4",title:"API REST vs GraphQL : Le guide complet",slug:{current:"api-rest-vs-graphql"},excerpt:"Comparaison dÃ©taillÃ©e entre REST et GraphQL. Avantages, inconvÃ©nients, et cas d'usage pour vous aider Ã  faire le bon choix architectural.",body:[{_type:"block",children:[{text:"Le choix entre REST et GraphQL est crucial pour votre architecture. Chaque approche a ses avantages selon votre contexte projet.",_type:"span"}]}],publishedAt:"2024-11-22T16:45:00.000Z",author:{name:"Thomas Backend",bio:"Architecte logiciel spÃ©cialisÃ© dans les APIs et les systÃ¨mes distribuÃ©s."},categories:[{title:"Backend",slug:{current:"backend"}},{title:"API",slug:{current:"api"}}],tags:[{title:"REST",slug:{current:"rest"}},{title:"GraphQL",slug:{current:"graphql"}}],readingTime:10,views:1089,likes:134}];class rs{static delay(l=300){return new Promise(s=>setTimeout(s,l))}static async getAllArticles(){return await this.delay(),[...ye].sort((l,s)=>new Date(s.publishedAt).getTime()-new Date(l.publishedAt).getTime())}static async getArticleBySlug(l){return await this.delay(),ye.find(s=>s.slug.current===l)||null}static async getRelatedArticles(l,s=3){return await this.delay(),ye.filter(r=>r._id!==l).slice(0,s)}}const ce=t=>t?typeof t=="string"?t:t._type==="block"&&t.children?t.children.map(l=>l.text||"").join(""):Array.isArray(t)?t.map(l=>l._type==="block"&&l.children?l.children.map(s=>s.text||"").join(""):"").join(" "):t.text?t.text:"":"",as=t=>({gradient:"from-pink-500 to-rose-600",bgGradient:"linear-gradient(135deg, rgb(236 72 153), rgb(225 29 72))",primary:"#ec4899",secondary:"#e11d48",bgLight:"rgba(236, 72, 153, 0.1)",bgMedium:"rgba(236, 72, 153, 0.2)",borderColor:"rgba(236, 72, 153, 0.3)",textColor:"#f472b6"}),ls=t=>{if(!(t!=null&&t.body))return null;const l=[];let s=null;return t.body.filter(r=>r._type==="block"&&["h2","h3"].includes(r.style)).forEach(r=>{var g,c;const i=((c=(g=r.children)==null?void 0:g[0])==null?void 0:c.text)||"",o=`${r.style==="h2"?"h2-":"h3-"}${i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;r.style==="h2"?(s={id:o,text:i,subheadings:[]},l.push(s)):r.style==="h3"&&(s?s.subheadings.push({id:o,text:i}):l.push({id:o,text:i,subheadings:[]}))}),l.length>0?l:null},bs=({isEmission:t=!1})=>{var ne,je;const{slug:l}=st(),[s,r]=x.useState(null),[i,n]=x.useState([]),[o,g]=x.useState([]),[c,a]=x.useState(!0),[b,u]=x.useState(null),[m,p]=x.useState(!1),[v,k]=x.useState(!1),[I,C]=x.useState(0),[S,_]=x.useState("local"),[E,d]=x.useState(0),[f,N]=x.useState("intro"),[h,L]=x.useState(!1),[P,G]=x.useState(!1),w=x.useRef(null),y=x.useRef(null),[j,A]=x.useState({});x.useEffect(()=>{const M=()=>{if(!w.current||!y.current)return;const H=y.current,Y=w.current,te=H.getBoundingClientRect(),T=Y.offsetHeight,F=96,se=te.top,K=te.bottom;se>F?A({position:"relative",top:0}):se<=F&&K>T+F?A({position:"fixed",top:F,width:H.offsetWidth}):K<=T+F&&A({position:"absolute",bottom:0,top:"auto",width:"100%"})};return window.addEventListener("scroll",M,{passive:!0}),window.addEventListener("resize",M),M(),()=>{window.removeEventListener("scroll",M),window.removeEventListener("resize",M)}},[s]),x.useEffect(()=>{const M=()=>{const H=document.documentElement.scrollHeight-window.innerHeight,Y=window.scrollY/H*100;d(Math.min(Y,100)),document.querySelectorAll("section[id], h2[id], h3[id]").forEach(T=>{const F=T.getBoundingClientRect();F.top<=150&&F.bottom>=150&&N(T.id)})};return window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[]),x.useEffect(()=>{(async()=>{var H;if(!l){u("Slug de l'article manquant."),a(!1);return}try{a(!0),u(null);const te=new URLSearchParams(window.location.search).get("preview")==="true";let T=null;try{T=await kt(l,te),T&&(_("sanity"),T.excerpt&&(T.excerpt=ce(T.excerpt)),(H=T.author)!=null&&H.bio&&(T.author.bio=ce(T.author.bio)),T.keyPoints&&!Array.isArray(T.keyPoints)?delete T.keyPoints:T.keyPoints&&Array.isArray(T.keyPoints)&&(T.keyPoints=T.keyPoints.map(F=>typeof F=="string"?F:ce(F)).filter(Boolean)))}catch(F){console.error("Erreur Sanity:",F)}if(T||(T=await rs.getArticleBySlug(l),_("local")),!T)u("Article non trouvÃ©");else{r(T),C(T.likes||0);const F=JSON.parse(localStorage.getItem("bookmarks")||"[]");p(F.includes(T._id));try{const K=(await Ze()).map(V=>({...V,excerpt:ce(V.excerpt)}));let W;if(T.categories&&T.categories.length>0){const V=T.categories.map(B=>B._id);W=K.filter(B=>B._id===T._id?!1:B.categories&&B.categories.length>0?B.categories.some(re=>V.includes(re._id)):!1)}if(!W||W.length<6){const V=K.filter(B=>B._id!==T._id).filter(B=>!(W!=null&&W.some(re=>re._id===B._id)));W=[...W||[],...V].slice(0,6)}n(W||[]);const et=K.filter(V=>V._id!==T._id).sort((V,B)=>{const re=new Date(V.publishedAt||V._createdAt).getTime();return new Date(B.publishedAt||B._createdAt).getTime()-re}).slice(0,6);g(et)}catch(se){console.error("Erreur chargement articles liÃ©s:",se)}}}catch(Y){console.error("Erreur lors du chargement:",Y),u("Erreur lors du chargement de l'article")}finally{a(!1)}})()},[l,t]),x.useEffect(()=>{window.scrollTo(0,0)},[l]);const z=x.useCallback(()=>{k(M=>!M),C(M=>v?M-1:M+1)},[v]),U=x.useCallback(()=>{if(!s)return;const M=JSON.parse(localStorage.getItem("bookmarks")||"[]");if(m){const H=M.filter(Y=>Y!==s._id);localStorage.setItem("bookmarks",JSON.stringify(H))}else M.push(s._id),localStorage.setItem("bookmarks",JSON.stringify(M));p(H=>!H)},[s,m]),R=x.useCallback(()=>{L(!0)},[]),q=x.useMemo(()=>as(),[s]),Q=x.useMemo(()=>ls(s),[s]),Z=typeof window<"u"?window.location.href:"",le=(s==null?void 0:s.title)||"",ie=(s==null?void 0:s.excerpt)||"";return c?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(at,{})}):b||!s?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(lt,{message:b||"Article non trouvÃ©"}),e.jsxs(O,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 px-6 py-3 rounded-lg text-white transition-colors mt-4",children:[e.jsx(Fe,{size:20}),"Retour Ã  l'accueil"]})]})}):e.jsxs(it,{children:[e.jsx(rt,{title:s.title,description:s.excerpt,keywords:(ne=s.tags)==null?void 0:ne.map(M=>M.title).join(", "),author:(je=s.author)==null?void 0:je.name,publishedTime:s.publishedAt,image:s.mainImage}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        /* Fix pour empÃªcher le scroll horizontal sur mobile */
        html, body {
          overflow-x: hidden !important;
          max-width: 100vw !important;
          position: relative;
        }
        body {
          overscroll-behavior-x: none;
        }
        p, h1, h2, h3, h4, h5, h6, li, span {
          word-wrap: break-word;
          overflow-wrap: break-word;
        }
        #root, main {
          overflow-x: hidden !important;
        }
      `}),e.jsx(ss,{isOpen:h,onClose:()=>L(!1),shareUrl:Z,shareTitle:le,shareText:ie}),e.jsx("div",{className:`fixed top-0 left-0 h-1 bg-gradient-to-r ${q.gradient} z-[60] transition-all duration-300`,style:{width:`${E}%`}}),e.jsxs("div",{className:"min-h-screen bg-black text-white overflow-x-hidden",children:[e.jsx(It,{article:s,colors:q,onShareClick:R}),Q&&Q.length>0&&e.jsx(Ke,{headings:Q,activeSection:f,scrollProgress:E,colors:q,variant:"mobile",mobileMenuOpen:P,setMobileMenuOpen:G}),e.jsx("div",{className:"container mx-auto px-4 pt-4 pb-8 sm:pt-8 sm:pb-12 lg:py-16 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[s.author&&e.jsx(Xe,{author:s.author,publishedAt:s.publishedAt,colors:q,variant:"mobile"}),e.jsx(Xt,{article:s,colors:q,isEmission:t})]}),e.jsx("div",{ref:y,className:"hidden lg:block lg:col-span-4 relative",children:e.jsx("div",{ref:w,style:j,children:e.jsx(es,{article:s,relatedArticles:i,latestArticles:o,headings:Q,activeSection:f,scrollProgress:E,colors:q,onShare:R})})})]})}),e.jsx(ts,{articles:i,colors:q}),e.jsx("div",{className:"fixed bottom-4 left-4 right-4 lg:hidden z-50",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3 bg-black/70 backdrop-blur-2xl rounded-2xl border border-white/15 shadow-2xl",children:[e.jsxs("button",{onClick:z,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${v?"bg-pink-500/20 text-pink-400":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:[e.jsx(Je,{size:18,className:v?"fill-current":""}),e.jsx("span",{className:"text-sm font-medium",children:I>0?I:""})]}),e.jsxs("button",{onClick:R,className:"flex-1 flex items-center justify-center gap-2 py-3 px-6 bg-gradient-to-r from-pink-500 to-blue-500 rounded-xl text-white font-medium transition-all hover:shadow-lg hover:shadow-pink-500/30",children:[e.jsx(pe,{size:18}),e.jsx("span",{className:"text-sm",children:"Partager"})]}),e.jsx("button",{onClick:U,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${m?"bg-blue-500/20 text-blue-400":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:m?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})})]})})]}),e.jsx(nt,{})]})};export{bs as default};
