import{j as e}from"./sanity-tkM5Czdy.js";import{r as v,f as ss,L}from"./react-vendor-DFZZ7aeY.js";import{t as J,F as ts,G as as,H as ls,I as is,J as rs,K as ns,M as Ae,r as cs,c as xs,n as os,x as Ce}from"./index-B8xUVYNw.js";import{a as ds,b as re,i as ms,f as ee}from"./oddsService-CRw8dx3o.js";import{l as hs,A as Re,m as V,ap as Be,ac as ps,g as le,n as ie,U as Q,aA as K,O as gs,f as Ue,aq as us,o as ne,e as Oe,b as _e,Z as qe,k as Ye,a as Je,c as ce,ay as js}from"./ui-WrSzbtGp.js";import{F as bs}from"./Footer-CWODUsFt.js";const He=({homeTeam:i,awayTeam:s,competitionId:n,matchStatus:d="SCHEDULED"})=>{const[p,c]=v.useState(null),[o,h]=v.useState(!0),[m,T]=v.useState(null),[j,x]=v.useState(!1);v.useEffect(()=>{const E=async()=>{if(d==="FINISHED"){h(!1);return}try{h(!0),T(null),console.log("[OddsWidget] Searching odds for:",{homeTeam:i,awayTeam:s,competitionId:n});const W=await re(i,s,n);console.log("[OddsWidget] Found odds:",W),c(W)}catch(W){console.error("[OddsWidget] Error:",W),T("Impossible de charger les cotes")}finally{h(!1)}};if(E(),d==="IN_PLAY"){const W=setInterval(E,18e4);return()=>clearInterval(W)}},[i,s,n,d]);const k=async()=>{h(!0);const E=await re(i,s,n);c(E),h(!1)};if(d==="FINISHED")return null;const r=p==null?void 0:p.odds.winamax,P=p?ds(p):null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-8 h-8 rounded-lg object-contain"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-bold text-sm",children:"Cotes Winamax"}),d==="IN_PLAY"&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-[10px] bg-red-500 text-white rounded animate-pulse",children:"LIVE"})]})]}),e.jsx("button",{onClick:k,disabled:o,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:e.jsx(hs,{className:`w-4 h-4 text-gray-400 ${o?"animate-spin":""}`})})]}),e.jsx("div",{className:"p-4",children:e.jsx(Re,{mode:"wait",children:o?e.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})},"loading"):m?e.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(Be,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:m})]},"error"):r?e.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(Y,{label:i.split(" ").pop()||"1",value:r.home,isFavorite:P==="home",showProbability:j}),e.jsx(Y,{label:"Nul",value:r.draw,isFavorite:P==="draw",showProbability:j}),e.jsx(Y,{label:s.split(" ").pop()||"2",value:r.away,isFavorite:P==="away",showProbability:j})]}),r.overUnder&&e.jsxs("div",{className:"pt-3 border-t border-white/5",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Plus/Moins ",r.overUnder.line," buts"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(Y,{label:`+ ${r.overUnder.line}`,value:r.overUnder.over,showProbability:j,small:!0}),e.jsx(Y,{label:`- ${r.overUnder.line}`,value:r.overUnder.under,showProbability:j,small:!0})]})]}),e.jsx("button",{onClick:()=>x(!j),className:"w-full text-xs text-gray-500 hover:text-gray-300 transition-colors py-1",children:j?"Voir les cotes":"Voir les probabilit√©s"}),e.jsxs("p",{className:"text-[10px] text-gray-600 text-center leading-tight",children:["Cotes √† titre informatif uniquement.",e.jsx("br",{}),"Les paris comportent des risques."]})]},"odds"):e.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(ps,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Cotes indisponibles"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"pour ce match"})]},"no-odds")})})]})},Y=({label:i,value:s,isFavorite:n=!1,showProbability:d=!1,small:p=!1})=>{const c=d?`${ms(s).toFixed(0)}%`:ee(s);return e.jsxs("div",{className:`
        relative flex flex-col items-center justify-center rounded-lg
        transition-all duration-200 cursor-default
        ${p?"py-2 px-3":"py-3 px-2"}
        ${n?"bg-green-500/20 border border-green-500/30":"bg-white/5 border border-white/10 hover:bg-white/10"}
      `,children:[e.jsx("span",{className:`text-gray-400 ${p?"text-[10px]":"text-xs"} mb-0.5`,children:i}),e.jsx("span",{className:`
          font-bold
          ${p?"text-sm":"text-lg"}
          ${n?"text-green-400":"text-white"}
        `,children:c}),n&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]})},_=({label:i,homeValue:s,awayValue:n,isPercentage:d=!1})=>{const p=s+n||1,c=s/p*100,o=n/p*100;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-white font-bold",children:[s,d?"%":""]}),e.jsx("span",{className:"text-gray-400",children:i}),e.jsxs("span",{className:"text-white font-bold",children:[n,d?"%":""]})]}),e.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-800",children:[e.jsx(V.div,{initial:{width:0},animate:{width:`${c}%`},transition:{duration:.8},className:"bg-gradient-to-r from-pink-500 to-pink-400"}),e.jsx(V.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:.8},className:"bg-gradient-to-l from-blue-500 to-blue-400"})]})]})},ys=({type:i,detail:s})=>{switch(i){case"Goal":return e.jsx("span",{className:"text-2xl",children:"‚öΩ"});case"Card":return s==="Red Card"?e.jsx("span",{className:"text-2xl",children:"üü•"}):s==="Second Yellow card"?e.jsx("span",{className:"text-2xl",children:"üü®üü•"}):e.jsx("span",{className:"text-2xl",children:"üü®"});case"subst":return e.jsx("span",{className:"text-2xl",children:"üîÑ"});case"Var":return e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded",children:"VAR"});default:return e.jsx("span",{className:"text-2xl",children:"üìã"})}},se=({result:i})=>{const s={W:"bg-green-500 text-white",D:"bg-gray-500 text-white",L:"bg-red-500 text-white"},n={W:"V",D:"N",L:"D"};return e.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded text-xs font-bold ${s[i]}`,children:n[i]})},Ns=({standings:i,homeTeamId:s,awayTeamId:n,competitionId:d})=>{if(i.length===0)return null;const p=i.findIndex(m=>m.team.id===s),c=i.findIndex(m=>m.team.id===n),o=Math.max(0,Math.min(p,c)-2),h=i.slice(o,o+7);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Classement"})]}),e.jsx(L,{to:`/classements?league=${d}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout ‚Üí"})]}),e.jsx("div",{className:"p-2",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-500",children:[e.jsx("th",{className:"py-1 px-2 text-left",children:"#"}),e.jsx("th",{className:"py-1 px-2 text-left",children:"√âquipe"}),e.jsx("th",{className:"py-1 px-2 text-center",children:"MJ"}),e.jsx("th",{className:"py-1 px-2 text-center",children:"Pts"})]})}),e.jsx("tbody",{children:h.map(m=>{const T=m.team.id===s||m.team.id===n,j=m.team.id===s;return m.team.id,e.jsxs("tr",{className:`border-t border-white/5 ${T?j?"bg-pink-500/10":"bg-blue-500/10":""}`,children:[e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded text-xs font-bold ${m.position<=4?"bg-blue-500/30 text-blue-400":m.position>=i.length-2?"bg-red-500/30 text-red-400":"text-gray-400"}`,children:m.position})}),e.jsx("td",{className:"py-2 px-2",children:e.jsxs(L,{to:`/classements/club/${m.team.id}`,className:"flex items-center gap-2 hover:text-pink-400",children:[e.jsx("img",{src:m.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:`truncate max-w-[80px] ${T?"text-white font-bold":"text-gray-300"}`,children:m.team.name})]})}),e.jsx("td",{className:"py-2 px-2 text-center text-gray-400",children:m.playedGames}),e.jsx("td",{className:"py-2 px-2 text-center text-white font-bold",children:m.points})]},m.team.id)})})]})})]})},Ve=({scorers:i,competitionId:s})=>{const[n,d]=v.useState(!1);if(i.length===0)return null;const p=[...i].filter(o=>o.assists>0).sort((o,h)=>h.assists-o.assists).slice(0,5),c=n?p:i.slice(0,5);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:n?"üéØ":"‚öΩ"}),e.jsx("span",{className:"text-white font-bold text-sm",children:n?"Meilleurs passeurs":"Meilleurs buteurs"})]}),e.jsx(L,{to:`/classements?league=${s}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout ‚Üí"})]}),e.jsxs("div",{className:"flex border-b border-white/10",children:[e.jsx("button",{onClick:()=>d(!1),className:`flex-1 py-2 text-xs font-medium transition-colors ${n?"text-gray-500 hover:text-gray-300":"text-pink-400 bg-pink-500/10 border-b-2 border-pink-500"}`,children:"‚öΩ Buteurs"}),e.jsx("button",{onClick:()=>d(!0),className:`flex-1 py-2 text-xs font-medium transition-colors ${n?"text-blue-400 bg-blue-500/10 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-300"}`,children:"üéØ Passeurs"})]}),e.jsx("div",{className:"p-3 space-y-2",children:c.length===0?e.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"Aucune donn√©e disponible"}):c.map((o,h)=>e.jsxs(L,{to:`/player/${o.player.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors",children:[e.jsx("span",{className:`w-5 h-5 flex items-center justify-center rounded text-xs font-bold ${h===0?"bg-yellow-500/30 text-yellow-400":h===1?"bg-gray-400/30 text-gray-300":h===2?"bg-amber-600/30 text-amber-500":"bg-gray-800 text-gray-500"}`,children:h+1}),e.jsx("img",{src:o.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:o.player.name}),e.jsx("span",{className:`font-bold text-sm ${n?"text-blue-400":"text-pink-400"}`,children:n?o.assists:o.goals})]},o.player.id))})]})},We=({homeForm:i,awayForm:s,homeTeam:n,awayTeam:d})=>i.length===0&&s.length===0?null:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Forme r√©cente"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:n.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("div",{className:"flex gap-1",children:i.slice(0,5).map((p,c)=>e.jsx(se,{result:p},c))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:d.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("div",{className:"flex gap-1",children:s.slice(0,5).map((p,c)=>e.jsx(se,{result:p},c))})]})]})]}),fs=({match:i,h2h:s,homeForm:n,awayForm:d,standings:p,headerOdds:c})=>{const o=(()=>{let x=0,k=0,r=0,P=0,E=0;return s.forEach(W=>{const R=W.score.fullTime.home??0,U=W.score.fullTime.away??0;W.homeTeam.id===i.homeTeam.id?(P+=R,E+=U,R>U?x++:U>R?k++:r++):(P+=U,E+=R,U>R?x++:R>U?k++:r++)}),{homeWins:x,awayWins:k,draws:r,homeGoals:P,awayGoals:E,total:s.length}})(),h=x=>x.slice(0,5).reduce((k,r)=>k+(r==="W"?3:r==="D"?1:0),0);h(n),h(d);const m=p.find(x=>x.team.id===i.homeTeam.id),T=p.find(x=>x.team.id===i.awayTeam.id),j=(()=>{if(!(c!=null&&c.odds.winamax))return null;const{home:x,draw:k,away:r}=c.odds.winamax,P=Math.min(x,k,r);return P===x?{winner:"home",confidence:Math.round(1/x*100)}:P===r?{winner:"away",confidence:Math.round(1/r*100)}:{winner:"draw",confidence:Math.round(1/k*100)}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-900/30 via-gray-900/50 to-blue-900/30 rounded-2xl border border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx(Je,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Avant-Match"}),e.jsx(Oe,{className:"w-5 h-5 text-orange-400"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:i.homeTeam.crest,alt:"",className:"w-16 h-16 mx-auto mb-2"}),e.jsx("p",{className:"text-white font-bold text-sm mb-2",children:i.homeTeam.shortName||i.homeTeam.name}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:n.slice(0,5).map((x,k)=>e.jsx(se,{result:x},k))}),m&&e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-pink-400 font-bold",children:[m.position,"e"]})," au classement"]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-pink-500 to-blue-500 flex items-center justify-center shadow-lg shadow-purple-500/30 mb-2",children:e.jsx("span",{className:"text-white font-black text-lg",children:"VS"})}),e.jsx("p",{className:"text-gray-500 text-xs",children:J(i.utcDate)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:i.awayTeam.crest,alt:"",className:"w-16 h-16 mx-auto mb-2"}),e.jsx("p",{className:"text-white font-bold text-sm mb-2",children:i.awayTeam.shortName||i.awayTeam.name}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:d.slice(0,5).map((x,k)=>e.jsx(se,{result:x},k))}),T&&e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-blue-400 font-bold",children:[T.position,"e"]})," au classement"]})]})]}),m&&T&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-pink-400",children:m.goalsFor}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts marqu√©s"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(_e,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-blue-400",children:T.goalsFor}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts marqu√©s"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-pink-400",children:m.goalsAgainst}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts encaiss√©s"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black text-blue-400",children:T.goalsAgainst}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buts encaiss√©s"})]})]})]}),e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Confrontations directes"}),e.jsxs("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs font-bold rounded-full",children:[o.total," matchs"]})]})}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 grid grid-cols-3 gap-4 border-b border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-pink-400",children:o.homeWins}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Victoires ",i.homeTeam.shortName||i.homeTeam.name.substring(0,3)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-gray-400",children:o.draws}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nuls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-black text-blue-400",children:o.awayWins}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Victoires ",i.awayTeam.shortName||i.awayTeam.name.substring(0,3)]})]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-white/10",children:e.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-400 transition-all",style:{width:`${o.homeWins/o.total*100}%`}}),e.jsx("div",{className:"bg-gray-600 transition-all",style:{width:`${o.draws/o.total*100}%`}}),e.jsx("div",{className:"bg-gradient-to-l from-blue-500 to-blue-400 transition-all",style:{width:`${o.awayWins/o.total*100}%`}})]})}),e.jsx("div",{className:"p-4 space-y-2",children:s.slice(0,5).map(x=>{const k=x.homeTeam.id===i.homeTeam.id,r=x.score.fullTime.home??0,P=x.score.fullTime.away??0,E=k?r>P?"W":r<P?"L":"D":P>r?"W":P<r?"L":"D";return e.jsxs(L,{to:`/match/${x.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:J(x.utcDate)}),e.jsx("img",{src:x.homeTeam.crest,alt:"",className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:x.homeTeam.name}),e.jsxs("span",{className:`font-bold px-2 py-0.5 rounded ${E==="W"?"bg-green-500/20 text-green-400":E==="L"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:[r," - ",P]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:x.awayTeam.name}),e.jsx("img",{src:x.awayTeam.crest,alt:"",className:"w-5 h-5"})]},x.id)})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(K,{className:"w-12 h-12 text-gray-700 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Premi√®re confrontation entre ces √©quipes"})]})]}),j&&e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 rounded-2xl border border-orange-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(qe,{className:"w-5 h-5 text-orange-400"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Pronostic"}),e.jsx("span",{className:"text-xs text-gray-500",children:"(bas√© sur les cotes)"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:`flex-1 text-center p-4 rounded-xl border ${j.winner==="home"?"bg-pink-500/20 border-pink-500/50":"bg-white/5 border-white/10"}`,children:[e.jsx("img",{src:i.homeTeam.crest,alt:"",className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:`font-bold ${j.winner==="home"?"text-pink-400":"text-gray-500"}`,children:i.homeTeam.shortName||i.homeTeam.name.substring(0,10)}),j.winner==="home"&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-bold",children:"Favori"})]})]}),e.jsx("div",{className:`text-center p-4 rounded-xl border ${j.winner==="draw"?"bg-gray-500/20 border-gray-500/50":"bg-white/5 border-white/10"}`,children:e.jsx("p",{className:`text-2xl font-black ${j.winner==="draw"?"text-gray-300":"text-gray-600"}`,children:"Nul"})}),e.jsxs("div",{className:`flex-1 text-center p-4 rounded-xl border ${j.winner==="away"?"bg-blue-500/20 border-blue-500/50":"bg-white/5 border-white/10"}`,children:[e.jsx("img",{src:i.awayTeam.crest,alt:"",className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:`font-bold ${j.winner==="away"?"text-blue-400":"text-gray-500"}`,children:i.awayTeam.shortName||i.awayTeam.name.substring(0,10)}),j.winner==="away"&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-bold",children:"Favori"})]})]})]})]})]})},Ge=({matches:i,currentMatchId:s,round:n,competitionId:d,matchday:p})=>{var k;const c=i.filter(r=>r.id!==s).slice(0,6),o=i.filter(r=>r.id!==s).length;if(c.length===0)return null;const h=n==null?void 0:n.includes("Regular Season"),m=(n==null?void 0:n.includes("League Phase"))||(n==null?void 0:n.includes("League Stage")),T=n&&!h&&!m;let j="Autres matchs";if(T)j=n||"Tour de coupe";else if(m){const r=(k=n==null?void 0:n.match(/\d+/))==null?void 0:k[0];j=r?`Journ√©e ${r} - Phase de Ligue`:n||"Phase de Ligue"}else h&&(j=`Journ√©e ${p}`);const x=d?(T||m)&&n?`/classements/matchday/${d}?round=${encodeURIComponent(n)}`:`/classements/matchday/${d}?matchday=${p}`:null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[T?e.jsx(ce,{className:"w-4 h-4 text-yellow-500"}):e.jsx(Ue,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-white font-bold text-sm truncate",children:j})]}),o>6&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",o-6]})]}),e.jsxs("div",{className:"p-2 space-y-1",children:[c.map(r=>e.jsxs(L,{to:`/match/${r.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors text-xs",children:[e.jsx("img",{src:r.homeTeam.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate",children:r.homeTeam.shortName||r.homeTeam.name.substring(0,3)}),e.jsx("span",{className:`font-bold ${r.status==="IN_PLAY"?"text-red-400":r.status==="FINISHED"?"text-white":"text-gray-500"}`,children:r.status==="FINISHED"||r.status==="IN_PLAY"?`${r.score.fullTime.home??0}-${r.score.fullTime.away??0}`:"vs"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate text-right",children:r.awayTeam.shortName||r.awayTeam.name.substring(0,3)}),e.jsx("img",{src:r.awayTeam.crest,alt:"",className:"w-4 h-4 object-contain"})]},r.id)),x&&e.jsx(L,{to:x,className:"block text-center py-2 mt-2 text-xs text-pink-400 hover:text-pink-300 hover:bg-white/5 rounded-lg transition-colors",children:T?"Voir tous les matchs du tour ‚Üí":"Voir la journ√©e compl√®te ‚Üí"})]})]})};function Ps(){var he,pe,ge,ue,je,be,ye,Ne,fe,we,ve,Te,ke,Se,$e,Pe,Me,Le,Ie,De,Fe,Ee;const{id:i}=ss(),[s,n]=v.useState(null),[d,p]=v.useState([]),[c,o]=v.useState(null),[h,m]=v.useState(null),[T,j]=v.useState([]),[x,k]=v.useState(null),[r,P]=v.useState([]),[E,W]=v.useState([]),[R,U]=v.useState([]),[te,Ke]=v.useState([]),[xe,Xe]=v.useState([]),[$,Ze]=v.useState(null),[q,oe]=v.useState("events"),[ze,X]=v.useState(!0),[de,ae]=v.useState(null);if(v.useEffect(()=>{async function a(){var y,g,S;if(i){X(!0),ae(null);try{const f=parseInt(i),u=await ts(f);if(!u){ae("Match non trouv√©"),X(!1);return}const l=["IN_PLAY","PAUSED","HALFTIME","1H","2H","HT","ET","BT","P","LIVE"].includes(u.status),[b,D,A]=await Promise.all([as(f,l),ls(f,l),is(f,l)]);n(u),p(b||[]),o(D),m(A),X(!1);const I=(y=u.competition)==null?void 0:y.id,C=(g=u.homeTeam)==null?void 0:g.id,H=(S=u.awayTeam)==null?void 0:S.id;if(C&&H&&rs(C,H).then(N=>j(N||[])).catch(()=>{}),(u.status==="FINISHED"||l)&&ns(f,l).then(N=>k(N)).catch(()=>{}),u.status!=="FINISHED"&&I&&re(u.homeTeam.name,u.awayTeam.name,I).then(N=>Ze(N)).catch(()=>{}),I){const N=u.round||"",B=N.includes("Regular Season"),M=N.includes("League Phase")||N.includes("League Stage"),G=!B&&!M&&N.length>0;console.log("[MatchDetail] Round detection:",{round:N,isRegularLeague:B,isLeaguePhase:M,isCupKnockout:G,matchday:u.matchday});let F;G&&N?(console.log("[MatchDetail] Fetching cup knockout matches for round:",N),F=Ae(String(I),N).then(w=>(console.log("[MatchDetail] Cup matches found:",w.length),w)).catch(w=>(console.error("[MatchDetail] Error fetching cup matches:",w),[]))):M&&N?(console.log("[MatchDetail] Fetching league phase matches for round:",N),F=Ae(String(I),N).then(w=>(console.log("[MatchDetail] League phase matches found:",w.length),w)).catch(w=>(console.error("[MatchDetail] Error fetching league phase matches:",w),[]))):(console.log("[MatchDetail] Fetching matchday matches:",u.matchday),F=cs(String(I),u.matchday).catch(()=>[])),Promise.all([xs(String(I)).catch(()=>[]),os(String(I)).catch(()=>[]),F]).then(([w,Z,z])=>{P(w||[]),W(Z||[]),Xe(z||[]),console.log("[MatchDetail] Other matches loaded:",(z==null?void 0:z.length)||0)})}C&&Ce(C,5).then(N=>{const B=N.map(M=>{const G=M.homeTeam.id===C,F=G?M.score.fullTime.home:M.score.fullTime.away,w=G?M.score.fullTime.away:M.score.fullTime.home;return F===null||w===null?"D":F>w?"W":F<w?"L":"D"});U(B)}).catch(()=>{}),H&&Ce(H,5).then(N=>{const B=N.map(M=>{const G=M.homeTeam.id===H,F=G?M.score.fullTime.home:M.score.fullTime.away,w=G?M.score.fullTime.away:M.score.fullTime.home;return F===null||w===null?"D":F>w?"W":F<w?"L":"D"});Ke(B)}).catch(()=>{})}catch(f){console.error("Error fetching match data:",f),ae("Erreur lors du chargement du match"),X(!1)}}}a()},[i]),ze)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Chargement du match..."})]})});if(de||!s)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Be,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:de||"Match non trouv√©"}),e.jsx(L,{to:"/matchs",className:"text-pink-400 hover:underline",children:"Retour aux matchs"})]})});const me=s.status==="IN_PLAY"||s.status==="PAUSED",Qe=s.status==="FINISHED",O=s.status==="SCHEDULED"||s.status==="TIMED",es=[{id:"events",label:"Temps forts",icon:le,count:d.length},{id:"stats",label:"Statistiques",icon:ie,available:!!c},{id:"lineups",label:"Compositions",icon:Q,available:!!h},{id:"h2h",label:"Face √† face",icon:K,count:T.length}];return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(236,72,153,0.15),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(59,130,246,0.15),transparent_50%)]"})]}),e.jsx("header",{className:"relative pt-24 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(L,{to:"/matchs",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsx("span",{children:"Retour aux matchs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[((he=s.competition)==null?void 0:he.emblem)&&e.jsx("img",{src:s.competition.emblem,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-gray-400 text-sm",children:(pe=s.competition)==null?void 0:pe.name}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.round&&!s.round.includes("Regular Season")?s.round:`J${s.matchday}`})]})]}),e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-3xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:`h-1 bg-gradient-to-r ${me?"from-red-500 via-pink-500 to-red-500":Qe?"from-gray-500 to-gray-600":"from-blue-500 via-purple-500 to-pink-500"}`}),e.jsxs("div",{className:"p-6 md:p-8",children:[me&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-red-500/20 border border-red-500/50 rounded-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),e.jsx("span",{className:"text-red-400 font-bold text-sm uppercase",children:s.minute?`${s.minute}'`:"Live"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-4 md:gap-8 max-w-2xl mx-auto",children:[e.jsxs(L,{to:`/classements/club/${s.homeTeam.id}`,className:"group text-center flex-1",children:[e.jsx("img",{src:s.homeTeam.crest,alt:s.homeTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-sm md:text-xl font-bold text-white group-hover:text-pink-400 transition-colors",children:s.homeTeam.name})]}),e.jsx("div",{className:"text-center flex-shrink-0",children:O?e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl md:text-6xl font-black text-white",children:"VS"}),e.jsx("div",{className:"mt-2 text-gray-400 text-sm",children:J(s.utcDate)})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-4",children:[e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.home??0}),e.jsx("span",{className:"text-2xl md:text-4xl text-gray-600",children:"-"}),e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.away??0})]}),s.score.halfTime.home!==null&&e.jsxs("div",{className:"mt-1 text-gray-500 text-xs md:text-sm",children:["MT: ",s.score.halfTime.home," - ",s.score.halfTime.away]})]})}),e.jsxs(L,{to:`/classements/club/${s.awayTeam.id}`,className:"group text-center flex-1",children:[e.jsx("img",{src:s.awayTeam.crest,alt:s.awayTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-sm md:text-xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.awayTeam.name})]})]}),!O&&d.filter(a=>a.type==="Goal").length>0&&(()=>{const a=d.filter(g=>{var S;return g.type==="Goal"&&((S=g.team)==null?void 0:S.id)===s.homeTeam.id}),y=d.filter(g=>{var S;return g.type==="Goal"&&((S=g.team)==null?void 0:S.id)===s.awayTeam.id});return e.jsxs("div",{onClick:()=>oe("events"),className:"mt-4 flex items-start justify-between gap-4 md:gap-8 max-w-2xl mx-auto px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors cursor-pointer",role:"button",tabIndex:0,children:[e.jsx("div",{className:"flex-1 text-center",children:a.length>0?e.jsxs(e.Fragment,{children:[a.slice(0,4).map((g,S)=>{var f,u,t,l,b;return e.jsxs("div",{className:"text-xs text-gray-300",children:[e.jsx("span",{className:"text-pink-400",children:"‚öΩ"})," ",(u=(f=g.player)==null?void 0:f.name)==null?void 0:u.split(" ").pop()," ",(t=g.time)==null?void 0:t.elapsed,"'",(l=g.time)!=null&&l.extra?`+${g.time.extra}`:"",(b=g.detail)!=null&&b.includes("Penalty")?" (P)":""]},S)}),a.length>4&&e.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["+",a.length-4," autres"]})]}):e.jsx("div",{className:"text-xs text-gray-600",children:"-"})}),e.jsx("div",{className:"flex-shrink-0 w-8"}),e.jsx("div",{className:"flex-1 text-center",children:y.length>0?e.jsxs(e.Fragment,{children:[y.slice(0,4).map((g,S)=>{var f,u,t,l,b;return e.jsxs("div",{className:"text-xs text-gray-300",children:[e.jsx("span",{className:"text-blue-400",children:"‚öΩ"})," ",(u=(f=g.player)==null?void 0:f.name)==null?void 0:u.split(" ").pop()," ",(t=g.time)==null?void 0:t.elapsed,"'",(l=g.time)!=null&&l.extra?`+${g.time.extra}`:"",(b=g.detail)!=null&&b.includes("Penalty")?" (P)":""]},S)}),y.length>4&&e.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["+",y.length-4," autres"]})]}):e.jsx("div",{className:"text-xs text-gray-600",children:"-"})})]})})(),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Ue,{className:"w-3 h-3"}),e.jsx("span",{children:J(s.utcDate)})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(us,{className:"w-3 h-3"}),e.jsx("span",{children:s.venue})]}),s.referee&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:s.referee})]})]}),O&&($==null?void 0:$.odds.winamax)&&e.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-6 h-6 rounded object-contain"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Cotes Winamax"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"1"}),e.jsx("span",{className:`text-xl font-bold ${$.odds.winamax.home===Math.min($.odds.winamax.home,$.odds.winamax.draw,$.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee($.odds.winamax.home)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"N"}),e.jsx("span",{className:`text-xl font-bold ${$.odds.winamax.draw===Math.min($.odds.winamax.home,$.odds.winamax.draw,$.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee($.odds.winamax.draw)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"2"}),e.jsx("span",{className:`text-xl font-bold ${$.odds.winamax.away===Math.min($.odds.winamax.home,$.odds.winamax.draw,$.odds.winamax.away)?"text-green-400":"text-white"}`,children:ee($.odds.winamax.away)})]})]})]})]})]})]})}),!O&&e.jsx("section",{className:"sticky top-20 z-30 bg-black/90 backdrop-blur-xl border-y border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex gap-1 py-3 overflow-x-auto scrollbar-hide",children:es.map(a=>e.jsxs("button",{onClick:()=>oe(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap ${q===a.id?"bg-gradient-to-r from-pink-500 to-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.label}),a.count!==void 0&&a.count>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-white/20 rounded-full text-xs",children:a.count})]},a.id))})})}),e.jsx("main",{className:"relative max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:O?e.jsx(fs,{match:s,h2h:T,homeForm:R,awayForm:te,standings:r,headerOdds:$}):e.jsxs(Re,{mode:"wait",children:[q==="events"&&e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5 text-pink-500"}),"Temps forts"]}),d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucun √©v√©nement"}),O&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Match pas encore commenc√©"})]}):e.jsx("div",{className:"space-y-1",children:(()=>{const a=[...d].sort((t,l)=>{var A,I,C,H;const b=(((A=t.time)==null?void 0:A.elapsed)||0)+(((I=t.time)==null?void 0:I.extra)||0)/100;return(((C=l.time)==null?void 0:C.elapsed)||0)+(((H=l.time)==null?void 0:H.extra)||0)/100-b}),y=d.filter(t=>t.type==="Goal").sort((t,l)=>{var A,I,C,H;const b=(((A=t.time)==null?void 0:A.elapsed)||0)+(((I=t.time)==null?void 0:I.extra)||0)/100,D=(((C=l.time)==null?void 0:C.elapsed)||0)+(((H=l.time)==null?void 0:H.extra)||0)/100;return b-D});let g=0,S=0;const f=new Map;y.forEach(t=>{var l;((l=t.team)==null?void 0:l.id)===s.homeTeam.id?g++:S++,f.set(t,{home:g,away:S})});const u=a.some(t=>{var l;return(((l=t.time)==null?void 0:l.elapsed)||0)>45});return a.map((t,l)=>{var C,H,N,B,M,G,F,w,Z;const b=((C=t.team)==null?void 0:C.id)===s.homeTeam.id,D=t.type==="Goal",A=D?f.get(t):null,I=u&&l>0&&(((H=a[l-1].time)==null?void 0:H.elapsed)||0)>45&&(((N=t.time)==null?void 0:N.elapsed)||0)<=45;return e.jsxs("div",{children:[I&&e.jsxs("div",{className:"flex items-center gap-4 py-3 my-2",children:[e.jsx("div",{className:"flex-1 h-px bg-white/20"}),e.jsxs("span",{className:"text-gray-500 text-xs font-medium px-3 py-1 bg-white/5 rounded",children:["MI-TEMPS ",s.score.halfTime.home!==null?`${s.score.halfTime.home} - ${s.score.halfTime.away}`:""]}),e.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),e.jsxs("div",{className:`flex items-center gap-2 md:gap-3 p-2 md:p-3 rounded-lg transition-colors ${D?"bg-green-500/10 border border-green-500/20":"bg-white/5 hover:bg-white/10"} ${b?"":"flex-row-reverse"}`,children:[e.jsxs("div",{className:"w-10 md:w-12 text-center flex-shrink-0",children:[e.jsxs("span",{className:`font-bold text-sm ${D?"text-green-400":"text-pink-400"}`,children:[(B=t.time)==null?void 0:B.elapsed,"'"]}),((M=t.time)==null?void 0:M.extra)>0&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",t.time.extra]})]}),e.jsx(ys,{type:t.type,detail:t.detail}),e.jsxs("div",{className:`flex-1 min-w-0 ${b?"":"text-right"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[((G=t.assist)==null?void 0:G.name)&&t.type==="Goal"&&e.jsxs("span",{className:`text-gray-500 text-xs ${b?"":"order-last"}`,children:["(P. ",t.assist.name.split(" ").pop(),")"]}),(F=t.player)!=null&&F.id?e.jsx(L,{to:`/player/${t.player.id}`,className:`text-white font-medium text-sm hover:text-pink-400 truncate ${b?"":"ml-auto"}`,children:t.player.name}):e.jsx("span",{className:"text-white font-medium text-sm truncate",children:((w=t.player)==null?void 0:w.name)||"√âv√©nement"})]}),t.type==="subst"&&((Z=t.assist)==null?void 0:Z.name)&&e.jsxs("p",{className:"text-red-400 text-xs",children:["‚Üì ",t.assist.name]})]}),D&&A&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-black/30 rounded text-sm font-bold flex-shrink-0",children:[e.jsx("span",{className:"text-white",children:A.home}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("span",{className:"text-white",children:A.away})]})]})]},l)})})()})]}),x&&x.length>0&&e.jsxs("div",{className:"mt-6 bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-yellow-500"}),"Stats Joueurs"]}),(()=>{const a=x.flatMap(t=>(t.players||[]).map(l=>{var b,D;return{...l,teamId:(b=t.team)==null?void 0:b.id,teamLogo:(D=t.team)==null?void 0:D.logo}})),y=a.filter(t=>t.rating&&t.rating>0).sort((t,l)=>(l.rating||0)-(t.rating||0)).slice(0,3),g=a.filter(t=>t.goals>0).sort((t,l)=>l.goals-t.goals).slice(0,3),S=a.filter(t=>t.assists>0).sort((t,l)=>l.assists-t.assists).slice(0,3),f=a.filter(t=>t.keyPasses>0).sort((t,l)=>l.keyPasses-t.keyPasses).slice(0,3),u=a.filter(t=>t.dribblesSuccess>0).sort((t,l)=>l.dribblesSuccess-t.dribblesSuccess).slice(0,3);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-orange-500"}),"Meilleures notes"]}),e.jsx("div",{className:"space-y-2",children:y.map((t,l)=>{var b;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",l+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-yellow-400 font-bold text-sm",children:(b=t.rating)==null?void 0:b.toFixed(1)})]},l)})})]}),g.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4 text-green-500"}),"Buteurs"]}),e.jsx("div",{className:"space-y-2",children:g.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",l+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-green-400 font-bold text-sm",children:t.goals})]},l))})]}),S.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-blue-500"}),"Passeurs d√©cisifs"]}),e.jsx("div",{className:"space-y-2",children:S.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",l+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-blue-400 font-bold text-sm",children:t.assists})]},l))})]}),f.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-purple-500"}),"Passes cl√©s"]}),e.jsx("div",{className:"space-y-2",children:f.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",l+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-purple-400 font-bold text-sm",children:t.keyPasses})]},l))})]}),u.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-pink-500"}),"Dribbles r√©ussis"]}),e.jsx("div",{className:"space-y-2",children:u.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 text-xs w-4",children:["#",l+1]}),e.jsx("img",{src:t.teamLogo,alt:"",className:"w-4 h-4"}),e.jsx("span",{className:"text-white text-sm flex-1 truncate",children:t.name}),e.jsx("span",{className:"text-pink-400 font-bold text-sm",children:t.dribblesSuccess})]},l))})]})]})})()]})]},"events"),q==="stats"&&e.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-pink-500"}),"Statistiques"]}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8"}),e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.homeTeam.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.awayTeam.name}),e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8"})]})]}),e.jsx(_,{label:"Possession",homeValue:((ge=c.home)==null?void 0:ge.possession)||0,awayValue:((ue=c.away)==null?void 0:ue.possession)||0,isPercentage:!0}),e.jsx(_,{label:"Tirs",homeValue:((je=c.home)==null?void 0:je.shots)||0,awayValue:((be=c.away)==null?void 0:be.shots)||0}),e.jsx(_,{label:"Tirs cadr√©s",homeValue:((ye=c.home)==null?void 0:ye.shotsOnTarget)||0,awayValue:((Ne=c.away)==null?void 0:Ne.shotsOnTarget)||0}),e.jsx(_,{label:"Corners",homeValue:((fe=c.home)==null?void 0:fe.corners)||0,awayValue:((we=c.away)==null?void 0:we.corners)||0}),e.jsx(_,{label:"Fautes",homeValue:((ve=c.home)==null?void 0:ve.fouls)||0,awayValue:((Te=c.away)==null?void 0:Te.fouls)||0}),e.jsx(_,{label:"Hors-jeu",homeValue:((ke=c.home)==null?void 0:ke.offsides)||0,awayValue:((Se=c.away)==null?void 0:Se.offsides)||0})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ie,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Stats non disponibles"})]})]})},"stats"),q==="lineups"&&e.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("h3",{className:"text-lg font-bold text-white p-4 md:p-6 border-b border-white/10 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-pink-500"}),"Compositions"]}),h?e.jsxs("div",{className:"grid md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-white/10",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.homeTeam.name}),e.jsx("p",{className:"text-pink-400 text-xs",children:($e=h.home)==null?void 0:$e.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((Pe=h.home)==null?void 0:Pe.startXI)||[]).map((a,y)=>e.jsxs(L,{to:a.id?`/player/${a.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-pink-500/30 text-pink-400 rounded text-xs font-bold",children:a.number||y+1}),e.jsx("span",{className:"text-white flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:a.pos})]},y))}),((Le=(Me=h.home)==null?void 0:Me.substitutes)==null?void 0:Le.length)>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Rempla√ßants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.home.substitutes.map((a,y)=>e.jsx(L,{to:a.id?`/player/${a.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:a.name},y))})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.awayTeam.name}),e.jsx("p",{className:"text-blue-400 text-xs",children:(Ie=h.away)==null?void 0:Ie.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((De=h.away)==null?void 0:De.startXI)||[]).map((a,y)=>e.jsxs(L,{to:a.id?`/player/${a.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-blue-500/30 text-blue-400 rounded text-xs font-bold",children:a.number||y+1}),e.jsx("span",{className:"text-white flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:a.pos})]},y))}),((Ee=(Fe=h.away)==null?void 0:Fe.substitutes)==null?void 0:Ee.length)>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Rempla√ßants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.away.substitutes.map((a,y)=>e.jsx(L,{to:a.id?`/player/${a.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:a.name},y))})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Compositions non disponibles"})]})]})},"lineups"),q==="h2h"&&e.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-pink-500"}),"Confrontations"]}),T.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(K,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucune confrontation trouv√©e"})]}):e.jsx("div",{className:"space-y-2",children:T.filter(a=>a.id!==s.id).slice(0,8).map(a=>e.jsxs(L,{to:`/match/${a.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:J(a.utcDate)}),e.jsx("img",{src:a.homeTeam.crest,alt:"",className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:a.homeTeam.name}),e.jsxs("span",{className:"text-white font-bold",children:[a.score.fullTime.home," - ",a.score.fullTime.away]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:a.awayTeam.name}),e.jsx("img",{src:a.awayTeam.crest,alt:"",className:"w-5 h-5"})]},a.id))})]})},"h2h")]})}),e.jsx("div",{className:"space-y-4",children:(()=>{var S,f,u,t,l,b,D,A;const a=s.round||"",y=a.includes("Final")||a.includes("Quarter")||a.includes("Semi")||a.includes("Round of")||a.includes("8th")||a.includes("16th")||a.includes("Knockout")||a.includes("Play-off"),g=a.includes("Group");return y&&!g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 rounded-xl border border-yellow-500/30 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ce,{className:"w-6 h-6 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold",children:"Phase finale"}),e.jsx("p",{className:"text-yellow-400/80 text-sm",children:a})]})]}),e.jsx(L,{to:`/classements/matchday/${(S=s.competition)==null?void 0:S.id}`,className:"block text-center py-2 px-4 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg text-sm font-medium transition-colors",children:"Voir le tableau complet ‚Üí"})]}),e.jsx(We,{homeForm:R,awayForm:te,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(He,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((f=s.competition)==null?void 0:f.id)||0,matchStatus:s.status}),e.jsx(Ve,{scorers:E,competitionId:(u=s.competition)==null?void 0:u.id}),e.jsx(Ge,{matches:xe,currentMatchId:s.id,round:s.round,competitionId:(t=s.competition)==null?void 0:t.id,matchday:s.matchday})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{standings:r,homeTeamId:s.homeTeam.id,awayTeamId:s.awayTeam.id,competitionId:(l=s.competition)==null?void 0:l.id}),e.jsx(We,{homeForm:R,awayForm:te,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(He,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((b=s.competition)==null?void 0:b.id)||0,matchStatus:s.status}),e.jsx(Ve,{scorers:E,competitionId:(D=s.competition)==null?void 0:D.id}),e.jsx(Ge,{matches:xe,currentMatchId:s.id,round:s.round,competitionId:(A=s.competition)==null?void 0:A.id,matchday:s.matchday})]})})()})]})}),e.jsx(bs,{})]})}export{Ps as default};
