import{j as e,P as Ge}from"./sanity-Dli2Tcak.js";import{R as ze,r as m,L as B,f as We}from"./react-vendor-BZT10b4B.js";import{S as Ye}from"./SEO-8gDsceBD.js";import{L as Je}from"./LoadingSpinner-eIc9uk8W.js";import{E as Ze}from"./ErrorMessage-Cv1JOIce.js";import{E as Xe}from"./ErrorBoundary-aP3HnKP7.js";import{F as Ke}from"./Footer-CTtgYSXQ.js";import{a5 as re,b as ne,a6 as Ie,a7 as ae,a4 as Le,c as Z,k as me,x as he,$ as Re,a8 as et,i as Ee,t as Pe,f as Ue,a9 as tt,aa as pe,ab as le,T as Me,ac as be,q as fe,X as De,E as Fe,ad as st,C as J,d as rt,a2 as ge,m as z,A as Y,ae as at,l as qe,U as ce,n as ie,w as Be,o as lt,r as it,s as nt,a1 as ot,af as ye,ag as je,Z as ct,P as de,u as dt,Y as xt,ah as mt,ai as ht,aj as gt,ak as ut,al as Ne,I as pt}from"./ui-CXtmN_I9.js";import{h as D}from"./index-DFCisg6y.js";import{i as Oe,j as bt}from"./sanityAPI-C6jZOEKQ.js";const ft=({url:t,caption:l})=>{const[s,a]=m.useState(!0),[i,n]=m.useState(!1),o=m.useRef(null),c=(r=>{if(!r)return null;const g=[/instagram\.com\/p\/([^\/\?]+)/,/instagram\.com\/reel\/([^\/\?]+)/,/instagram\.com\/tv\/([^\/\?]+)/,/instagr\.am\/p\/([^\/\?]+)/];for(const h of g){const x=r.match(h);if(x)return x[1]}return null})(t);return m.useEffect(()=>{i&&o.current&&(o.current.style.willChange="contents")},[i]),c?e.jsx("div",{className:"my-12 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-3xl px-4",children:[e.jsxs("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl border border-gray-800",style:{contain:"layout style paint",willChange:"contents",isolation:"isolate",maxWidth:"100%"},children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-[2px]",children:e.jsx("div",{className:"bg-black p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Post Instagram"})]}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:["Ouvrir dans Instagram",e.jsx(ne,{size:12})]})]})})}),e.jsxs("div",{className:"relative bg-black",style:{height:"1100px",minHeight:"1100px",maxHeight:"1100px",contain:"strict",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[s&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black pointer-events-none",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{className:"w-8 h-8 text-white animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du post Instagram..."})]})}),e.jsx("iframe",{ref:o,src:`https://www.instagram.com/p/${c}/embed`,className:`w-full transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,style:{border:"none",height:"1100px",minHeight:"1100px",backgroundColor:"#000",position:"absolute",top:0,left:0,right:0,willChange:"contents",transform:"translateZ(0)"},frameBorder:"0",scrolling:"no",allowTransparency:!0,onLoad:()=>{a(!1),setTimeout(()=>n(!0),100)},title:`Instagram post ${c}`,importance:"high",fetchpriority:"high",decoding:"sync",sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation"},`instagram-${c}`)]})]}),l&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic",children:l})})]})}):e.jsx("div",{className:"my-12 flex justify-center",children:e.jsx("div",{className:"w-full max-w-3xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(re,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Post Instagram non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-all",children:[e.jsx(re,{className:"w-4 h-4"}),"Voir sur Instagram"]})]})})})},yt=ze.memo(ft,(t,l)=>t.url===l.url&&t.caption===l.caption),jt=m.memo(({value:t})=>{const[l,s]=m.useState(!0),[a,i]=m.useState(()=>localStorage.getItem("youtube-cookies-accepted")==="true"),o=(c=>{if(!c)return null;const r=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/,/youtube\.com\/shorts\/([^&\n?#]+)/];for(const g of r){const h=c.match(g);if(h)return h[1]}return null})((t==null?void 0:t.url)||"");if(!o)return e.jsxs("div",{className:"my-8 p-6 bg-gray-900/50 rounded-xl border border-gray-700 text-center",children:[e.jsx("p",{className:"text-gray-400",children:"VidÃ©o YouTube non disponible"}),(t==null?void 0:t.url)&&e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Voir sur YouTube"]})]});if(!a)return e.jsx("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500 opacity-50",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"VidÃ©o YouTube"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Cette vidÃ©o nÃ©cessite l'acceptation des cookies YouTube pour Ãªtre visionnÃ©e"}),e.jsxs("button",{onClick:()=>{i(!0),localStorage.setItem("youtube-cookies-accepted","true")},className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Accepter et voir la vidÃ©o"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"En acceptant, vous autorisez le chargement de contenu depuis YouTube"})]})});const u=m.useMemo(()=>{const c=new URL(`https://www.youtube.com/embed/${o}`);return t!=null&&t.startTime&&c.searchParams.set("start",t.startTime.toString()),t!=null&&t.autoplay&&(c.searchParams.set("autoplay","1"),c.searchParams.set("mute","1")),c.searchParams.set("rel","0"),c.searchParams.set("modestbranding","1"),c.searchParams.set("controls","1"),c.searchParams.set("showinfo","0"),c.searchParams.set("iv_load_policy","3"),c.toString()},[o,t==null?void 0:t.startTime,t==null?void 0:t.autoplay]);return e.jsxs("div",{className:"my-10 max-w-4xl mx-auto px-4 sm:px-0",children:[e.jsxs("div",{className:"relative w-full bg-black rounded-xl overflow-hidden shadow-2xl",style:{paddingBottom:"56.25%"},children:[l&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-gray-700 border-t-red-500 rounded-full animate-spin mb-4 mx-auto"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement de la vidÃ©o YouTube..."})]})}),e.jsx("iframe",{src:u,title:(t==null?void 0:t.caption)||`YouTube video ${o}`,className:`absolute top-0 left-0 w-full h-full ${l?"opacity-0":"opacity-100"} transition-opacity duration-500`,style:{border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy",onLoad:()=>s(!1)})]}),(t==null?void 0:t.caption)&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:t.caption})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("a",{href:`https://www.youtube.com/watch?v=${o}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-gray-400 transition-colors",children:["Ouvrir sur YouTube",e.jsx(ne,{size:12})]})})]})}),Nt=({url:t,caption:l})=>{const[s,a]=m.useState(!0),[i,n]=m.useState(!1),o=m.useRef(null),c=(r=>{if(!r)return null;const g=[/twitter\.com\/\w+\/status\/(\d+)/,/x\.com\/\w+\/status\/(\d+)/,/twitter\.com\/statuses\/(\d+)/,/x\.com\/statuses\/(\d+)/];for(const h of g){const x=r.match(h);if(x)return x[1]}return null})(t);return m.useEffect(()=>{if(!c||!o.current){n(!0),a(!1);return}if(window.twttr)window.twttr.widgets.createTweet(c,o.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{a(!1)}).catch(()=>{n(!0),a(!1)});else{const r=document.createElement("script");r.src="https://platform.twitter.com/widgets.js",r.async=!0,r.onload=()=>{window.twttr&&o.current&&window.twttr.widgets.createTweet(c,o.current,{theme:"dark",align:"center",conversation:"none",dnt:!0}).then(()=>{a(!1)}).catch(()=>{n(!0),a(!1)})},document.body.appendChild(r)}return()=>{o.current&&(o.current.innerHTML="")}},[c]),!c||i?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-700 p-8 text-center",children:[e.jsx(ae,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Tweet non disponible"}),e.jsx("p",{className:"text-sm text-gray-500",children:c?"Impossible de charger le tweet":"L'URL fournie n'est pas valide"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all",children:[e.jsx(ae,{className:"w-4 h-4"}),"Voir sur X/Twitter",e.jsx(Le,{size:14})]})]})})}):e.jsx("div",{className:"my-10 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"relative",children:[s&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{className:"w-8 h-8 text-blue-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Chargement du tweet..."})]})}),e.jsx("div",{ref:o,className:"twitter-embed-container",style:{minHeight:s?"200px":"auto"}})]}),l&&!s&&e.jsx("div",{className:"mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-400 italic text-center",children:l})})]})})},wt=t=>{if(!t)return"center center";const l=Math.round(t.x*100),s=Math.round(t.y*100);return`${l}% ${s}%`},vt=({article:t,colors:l})=>{var u;const s=(u=t.mainImage)==null?void 0:u.hotspot,a=wt(s),n=(()=>{if(!t.mainImage||!t.mainImage.asset)return null;if(t.mainImage.asset.url)return t.mainImage.asset.url;if(t.mainImage.asset._ref)try{return D(t.mainImage).width(1920).height(1080).quality(90).url()}catch(c){console.error("Error generating URL from ref:",c)}return null})(),o=t.readingTime||"5 min";return e.jsx("section",{className:"relative",children:e.jsxs("div",{className:"relative w-full aspect-[4/3] sm:aspect-[4/3] md:aspect-[3/2] lg:aspect-[16/9]",children:[n?e.jsx("img",{src:n,alt:t.title,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:a},onError:c=>{c.target.src="https://images.unsplash.com/photo-1508098682722-e99c43a406b2?auto=format&fit=crop&q=80"}}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-900"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[60%]",style:{background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 40%, transparent 100%)"}}),e.jsx("div",{className:"absolute inset-x-0 top-0 h-20",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, transparent 100%)"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[3px]",style:{background:l.bgGradient}}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 pb-6 md:pb-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-xs md:text-sm mb-3",children:[e.jsx(B,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Accueil"}),t.categories&&t.categories[0]&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:12,className:"text-gray-600"}),e.jsx(B,{to:`/rubrique/${t.categories[0].slug.current}`,className:"px-2.5 py-1 rounded-full text-xs font-semibold transition-all hover:scale-105",style:{background:l.primary,color:"white"},children:t.categories[0].title}),t.subcategories&&t.subcategories[0]&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-300 text-xs",children:t.subcategories[0].title})]})]})]}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-black text-white mb-3 leading-tight tracking-tight",style:{textShadow:"0 2px 20px rgba(0,0,0,0.5)"},children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs md:text-sm text-gray-400",children:[t.publishedAt&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(me,{size:14}),e.jsx("span",{children:new Date(t.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsx("span",{className:"text-gray-600",children:"|"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(he,{size:14}),e.jsxs("span",{children:[o," de lecture"]})]})]})]})})})]})})},we={info:{bg:"bg-blue-500/10",border:"border-blue-500/30",icon:tt,iconColor:"text-blue-400",titleColor:"text-blue-300"},warning:{bg:"bg-amber-500/10",border:"border-amber-500/30",icon:Ue,iconColor:"text-amber-400",titleColor:"text-amber-300"},success:{bg:"bg-green-500/10",border:"border-green-500/30",icon:Pe,iconColor:"text-green-400",titleColor:"text-green-300"},breaking:{bg:"bg-red-500/10",border:"border-red-500/30",icon:Ee,iconColor:"text-red-400",titleColor:"text-red-300"},stat:{bg:"bg-purple-500/10",border:"border-purple-500/30",icon:et,iconColor:"text-purple-400",titleColor:"text-purple-300"},quote:{bg:"bg-pink-500/10",border:"border-pink-500/30",icon:Re,iconColor:"text-pink-400",titleColor:"text-pink-300"}},kt=({value:t})=>{const{type:l="info",title:s,content:a}=t,i=we[l]||we.info,n=i.icon;return e.jsx("div",{className:`
        my-8 rounded-xl border ${i.bg} ${i.border}
        overflow-hidden
      `,children:e.jsxs("div",{className:"flex items-start gap-4 p-5",children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 ${i.iconColor}`,children:e.jsx(n,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[s&&e.jsx("h4",{className:`font-bold text-base mb-2 ${i.titleColor}`,children:s}),e.jsx("p",{className:"text-gray-300 leading-relaxed",children:a})]})]})})},Ct=({value:t})=>{const{quote:l,author:s,role:a,image:i,source:n,date:o,style:u="classic"}=t,r=(()=>{if(!(i!=null&&i.asset))return null;try{return i.asset.url?i.asset.url:i.asset._ref?D(i).width(120).height(120).url():null}catch{return null}})();return u==="classic"?e.jsxs("blockquote",{className:"my-10 relative pl-6 border-l-4 border-pink-500",children:[e.jsxs("p",{className:"text-xl md:text-2xl text-white italic leading-relaxed mb-4",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-3 mt-4",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{children:[s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic block",children:s}),a&&e.jsx("span",{className:"text-gray-500 text-sm",children:a}),n&&e.jsxs("span",{className:"text-gray-500 text-sm block",children:[n,o&&` - ${o}`]})]})]})]}):u==="with-background"?e.jsxs("blockquote",{className:"my-10 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl p-8 border border-white/10 relative overflow-hidden",children:[e.jsx(pe,{size:80,className:"absolute top-4 right-4 text-pink-500/10"}),e.jsxs("p",{className:"text-xl md:text-2xl text-white italic leading-relaxed mb-6 relative z-10",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-4 relative z-10",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-14 h-14 rounded-full object-cover ring-2 ring-pink-500/30"}),e.jsxs("div",{children:[s&&e.jsx("cite",{className:"text-white font-semibold not-italic block",children:s}),a&&e.jsx("span",{className:"text-pink-400 text-sm",children:a}),n&&e.jsxs("span",{className:"text-gray-500 text-sm block",children:[n,o&&` - ${o}`]})]})]})]}):u==="large"?e.jsxs("blockquote",{className:"my-16 text-center px-4",children:[e.jsx(pe,{size:48,className:"text-pink-500/30 mx-auto mb-4"}),e.jsxs("p",{className:"text-2xl md:text-4xl text-white font-light italic leading-snug mb-6 max-w-3xl mx-auto",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex flex-col items-center gap-2",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-16 h-16 rounded-full object-cover"}),s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic",children:s}),a&&e.jsx("span",{className:"text-pink-400 text-sm",children:a}),n&&e.jsxs("span",{className:"text-gray-500 text-sm",children:[n,o&&` - ${o}`]})]})]}):u==="bordered"?e.jsx("blockquote",{className:"my-10 border border-white/20 rounded-xl p-6 bg-black/30",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-1 h-full bg-gradient-to-b from-pink-500 to-rose-600 rounded-full"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-gray-200 italic leading-relaxed mb-4",children:['"',l,'"']}),(s||n)&&e.jsxs("footer",{className:"flex items-center gap-3",children:[r&&e.jsx("img",{src:r,alt:s||"",className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"text-sm",children:[s&&e.jsx("cite",{className:"text-gray-300 font-medium not-italic block",children:s}),(a||n)&&e.jsxs("span",{className:"text-gray-500",children:[a,a&&n&&" - ",n]})]})]})]})]})}):e.jsxs("blockquote",{className:"my-10 relative pl-6 border-l-4 border-pink-500",children:[e.jsxs("p",{className:"text-xl text-white italic leading-relaxed",children:['"',l,'"']}),s&&e.jsxs("cite",{className:"text-gray-400 mt-2 block not-italic",children:["â€” ",s]})]})},St=(t,l)=>{const s=parseFloat(t.replace(/[^0-9.-]/g,"")),a=parseFloat(l.replace(/[^0-9.-]/g,""));return isNaN(s)||isNaN(a)?"equal":s>a?"player1":a>s?"player2":"equal"},$t=({value:t})=>{const{title:l,player1Name:s,player2Name:a,stats:i,source:n}=t;return!i||i.length===0?null:e.jsxs("div",{className:"my-10 bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-white/10 overflow-hidden",children:[l&&e.jsx("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"text-lg font-bold text-white text-center",children:l})}),(s||a)&&e.jsxs("div",{className:"grid grid-cols-3 items-center px-6 py-4 bg-black/20 border-b border-white/10",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-lg font-bold text-pink-400",children:s||"Joueur 1"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"VS"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-lg font-bold text-blue-400",children:a||"Joueur 2"})})]}),e.jsx("div",{children:i.map((o,u)=>{const c=St(o.value1,o.value2);return e.jsxs("div",{className:`grid grid-cols-3 items-center px-6 py-4 ${u%2===0?"bg-black/10":""} ${u!==i.length-1?"border-b border-white/5":""}`,children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-2xl font-bold ${c==="player1"?"text-green-400":c==="player2"?"text-gray-500":"text-white"}`,children:o.value1})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-gray-400 font-medium",children:o.label})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`text-2xl font-bold ${c==="player2"?"text-green-400":c==="player1"?"text-gray-500":"text-white"}`,children:o.value2})})]},o._key||u)})}),n&&e.jsx("div",{className:"px-6 py-3 border-t border-white/10 bg-black/20",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",n]})})]})},Tt=({value:t})=>{const{title:l,player1:s,player2:a,stats:i,verdict:n,season:o}=t,u=h=>{var x;if(!((x=h==null?void 0:h.image)!=null&&x.asset))return null;try{return h.image.asset.url?h.image.asset.url:h.image.asset._ref?D(h.image).width(200).height(200).url():null}catch{return null}},c=u(s),r=u(a),g=h=>h==="player1"?{p1:"text-green-400 font-bold",p2:"text-gray-400"}:h==="player2"?{p1:"text-gray-400",p2:"text-green-400 font-bold"}:{p1:"text-gray-300",p2:"text-gray-300"};return e.jsxs("div",{className:"my-10 bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-white/10 overflow-hidden",children:[l&&e.jsxs("div",{className:"px-6 py-4 border-b border-white/10 bg-black/30",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center",children:l}),o&&e.jsxs("p",{className:"text-sm text-gray-500 text-center mt-1",children:["Saison ",o]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-pink-500/20 to-rose-600/20 overflow-hidden border-2 border-pink-500/30",children:c?e.jsx("img",{src:c,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(le,{size:40,className:"text-pink-400"})})}),e.jsx("h4",{className:"text-lg font-bold text-white",children:s.name}),s.club&&e.jsx("p",{className:"text-sm text-gray-400",children:s.club})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-600/20 overflow-hidden border-2 border-blue-500/30",children:r?e.jsx("img",{src:r,alt:a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(le,{size:40,className:"text-blue-400"})})}),e.jsx("h4",{className:"text-lg font-bold text-white",children:a.name}),a.club&&e.jsx("p",{className:"text-sm text-gray-400",children:a.club})]})]}),e.jsx("div",{className:"border-t border-white/10",children:i==null?void 0:i.map((h,x)=>{const p=g(h.advantage);return e.jsxs("div",{className:`grid grid-cols-3 items-center px-6 py-3 ${x%2===0?"bg-black/20":""}`,children:[e.jsx("span",{className:`text-lg text-right ${p.p1}`,children:h.value1}),e.jsx("span",{className:"text-sm text-gray-500 text-center px-2",children:h.label}),e.jsx("span",{className:`text-lg text-left ${p.p2}`,children:h.value2})]},h._key||x)})}),n&&e.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-pink-500/10 to-blue-500/10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx(Me,{size:20,className:"text-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Verdict"})]}),n.winner&&e.jsxs("p",{className:"text-lg font-bold text-white text-center mb-2",children:[n.winner==="draw"&&"Ã‰galitÃ©",n.winner==="player1"&&`Avantage ${s.name}`,n.winner==="player2"&&`Avantage ${a.name}`]}),n.comment&&e.jsx("p",{className:"text-gray-400 text-center text-sm leading-relaxed",children:n.comment})]})]})},At=({value:t})=>{var d;const{title:l,images:s,layout:a="grid-3",showCaptions:i=!0,lightbox:n=!0}=t,[o,u]=m.useState(!1),[c,r]=m.useState(0),[g,h]=m.useState(0),x=(j,N=800)=>{var b;if(!((b=j==null?void 0:j.image)!=null&&b.asset))return null;try{return j.image.asset.url?j.image.asset.url:j.image.asset._ref?D(j.image).width(N).url():null}catch{return null}},p=j=>{n&&(r(j),u(!0))},v=()=>u(!1),k=()=>{r(j=>(j+1)%s.length)},A=()=>{r(j=>(j-1+s.length)%s.length)},C=()=>{h(j=>Math.min(j+1,s.length-1))},S=()=>{h(j=>Math.max(j-1,0))},I=()=>{switch(a){case"grid-2":return"grid grid-cols-2 gap-4";case"grid-3":return"grid grid-cols-2 md:grid-cols-3 gap-4";case"masonry":return"columns-2 md:columns-3 gap-4 space-y-4";default:return"grid grid-cols-2 md:grid-cols-3 gap-4"}};if(a==="carousel")return e.jsxs("div",{className:"my-10",children:[l&&e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:l}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-gray-900",children:s[g]&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:x(s[g],1200)||"",alt:s[g].caption||"",className:"w-full h-full object-cover cursor-pointer",onClick:()=>p(g)}),n&&e.jsx("button",{onClick:()=>p(g),className:"absolute top-4 right-4 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(be,{size:20,className:"text-white"})})]})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:S,disabled:g===0,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full hover:bg-black/70 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(fe,{size:24,className:"text-white"})}),e.jsx("button",{onClick:C,disabled:g===s.length-1,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full hover:bg-black/70 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(Z,{size:24,className:"text-white"})})]}),i&&((d=s[g])==null?void 0:d.caption)&&e.jsx("p",{className:"text-sm text-gray-400 mt-3 text-center italic",children:s[g].caption}),s.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:s.map((j,N)=>e.jsx("button",{onClick:()=>h(N),className:`w-2 h-2 rounded-full transition-colors ${N===g?"bg-pink-500":"bg-gray-600"}`},N))})]}),o&&e.jsx(R,{})]});const R=()=>{var j,N;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:v,children:[e.jsx("button",{onClick:v,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full z-50",children:e.jsx(De,{size:32,className:"text-white"})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:b=>{b.stopPropagation(),A()},className:"absolute left-4 p-3 bg-white/10 rounded-full hover:bg-white/20",children:e.jsx(fe,{size:32,className:"text-white"})}),e.jsx("button",{onClick:b=>{b.stopPropagation(),k()},className:"absolute right-4 p-3 bg-white/10 rounded-full hover:bg-white/20",children:e.jsx(Z,{size:32,className:"text-white"})})]}),e.jsxs("div",{className:"max-w-5xl max-h-[80vh] px-4",onClick:b=>b.stopPropagation(),children:[e.jsx("img",{src:x(s[c],1600)||"",alt:((j=s[c])==null?void 0:j.caption)||"",className:"max-w-full max-h-[80vh] object-contain"}),i&&((N=s[c])==null?void 0:N.caption)&&e.jsx("p",{className:"text-white text-center mt-4",children:s[c].caption}),e.jsxs("p",{className:"text-gray-500 text-center mt-2 text-sm",children:[c+1," / ",s.length]})]})]})};return e.jsxs("div",{className:"my-10",children:[l&&e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:l}),e.jsx("div",{className:I(),children:s.map((j,N)=>{const b=x(j);return b?e.jsxs("figure",{className:`relative group overflow-hidden rounded-lg bg-gray-900 ${a==="masonry"?"break-inside-avoid":""}`,children:[e.jsx("img",{src:b,alt:j.caption||"",className:`w-full object-cover cursor-pointer transition-transform duration-300 group-hover:scale-105 ${a==="masonry"?"":"aspect-square"}`,onClick:()=>p(N)}),n&&e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>p(N),children:e.jsx(be,{size:32,className:"text-white"})}),i&&j.caption&&e.jsx("figcaption",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("p",{className:"text-sm text-white",children:j.caption})})]},j._key||N):null})}),o&&e.jsx(R,{})]})},_t=({value:t})=>{const l=t.text||t.label||"Lien",s=t.url||t.link||t.href||"#",a=t.openInNewTab||t.newTab||!1,i=s.startsWith("http")||a,n=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:l}),e.jsx(ne,{size:16,className:"opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-200"})]}),o="group inline-flex items-center gap-2 text-lg text-gray-300 hover:text-white transition-colors cursor-pointer";return i?e.jsx("p",{className:"my-4",children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:o,children:n})}):e.jsx("p",{className:"my-4",children:e.jsx(B,{to:s,className:o,children:n})})},zt=t=>{if(!t)return[];const l=[];let s=0;const a=/(\*\*(.+?)\*\*|\*(.+?)\*)/g;let i=0,n;for(;(n=a.exec(t))!==null;)n.index>i&&l.push(t.slice(i,n.index)),n[2]?l.push(e.jsx("strong",{className:"font-bold text-white",children:n[2]},s++)):n[3]&&l.push(e.jsx("em",{className:"italic text-gray-200",children:n[3]},s++)),i=a.lastIndex;return i<t.length&&l.push(t.slice(i)),l.length>0?l:[t]},It=({value:t})=>{const{title:l,content:s,warningText:a}=t,[i,n]=m.useState(!1);return e.jsxs("div",{className:"my-8 rounded-xl border border-amber-500/30 bg-amber-500/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-amber-500/20",children:[e.jsx(Ue,{size:20,className:"text-amber-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-amber-300",children:l||"Spoiler"}),a&&e.jsx("p",{className:"text-sm text-amber-400/70 mt-0.5",children:a})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`p-5 transition-all duration-300 ${i?"":"blur-md select-none"}`,children:e.jsx("p",{className:"text-gray-300 leading-relaxed",children:zt(s)})}),!i&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer bg-black/20 hover:bg-black/10 transition-colors",onClick:()=>n(!0),children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 rounded-lg text-amber-300 hover:bg-amber-500/30 transition-colors",onClick:o=>{o.stopPropagation(),n(!0)},children:[e.jsx(Fe,{size:18}),e.jsx("span",{className:"font-medium",children:"RÃ©vÃ©ler le contenu"})]})}),i&&e.jsx("div",{className:"px-5 pb-4",children:e.jsxs("button",{onClick:()=>n(!1),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-400 transition-colors",children:[e.jsx(st,{size:14}),e.jsx("span",{children:"Masquer le spoiler"})]})})]})]})},Lt=t=>t?t.includes(" - ")||t.startsWith("- ")?t.split(/\s*-\s+/).map(s=>s.trim()).filter(s=>s.length>0):[t]:[],Rt=({item:t,isOpen:l,onToggle:s,index:a})=>{const i=Lt(t.content),n=i.length>1;return e.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between gap-4 px-5 py-4 text-left hover:bg-white/5 transition-colors","aria-expanded":l,children:[e.jsx("span",{className:"font-medium text-white",children:t.title}),e.jsx(J,{size:20,className:`text-gray-400 transition-transform duration-300 flex-shrink-0 ${l?"rotate-180":""}`})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-5 pb-4 text-gray-300 leading-relaxed",children:n?e.jsx("ul",{className:"space-y-2",children:i.map((o,u)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-pink-400 mt-1.5",children:"â€¢"}),e.jsx("span",{children:o})]},u))}):e.jsx("p",{children:i[0]})})})]})},Et=({value:t})=>{const{title:l,items:s,allowMultiple:a=!1}=t,[i,n]=m.useState([]),o=u=>{n(a?c=>c.includes(u)?c.filter(r=>r!==u):[...c,u]:c=>c.includes(u)?[]:[u])};return e.jsxs("div",{className:"my-8 rounded-xl border border-white/10 bg-gray-900/50 overflow-hidden",children:[l&&e.jsx("div",{className:"px-5 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"font-bold text-white",children:l})}),e.jsx("div",{children:s==null?void 0:s.map((u,c)=>e.jsx(Rt,{item:u,isOpen:i.includes(c),onToggle:()=>o(c),index:c},u._key||c))})]})},Pt=({value:t})=>{const{title:l,headers:s,rows:a,caption:i,striped:n=!0,compact:o=!1}=t,u=o?"px-3 py-2":"px-4 py-3";return e.jsxs("div",{className:"my-8 rounded-xl border border-white/10 bg-gray-900/50 overflow-hidden",children:[l&&e.jsx("div",{className:"px-5 py-4 border-b border-white/10 bg-black/30",children:e.jsx("h3",{className:"font-bold text-white",children:l})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[s&&s.length>0&&e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/10 bg-black/20",children:s.map((c,r)=>e.jsx("th",{className:`${u} text-left text-sm font-semibold text-gray-300 uppercase tracking-wider`,children:c},r))})}),e.jsx("tbody",{children:a==null?void 0:a.map((c,r)=>{var g;return e.jsx("tr",{className:`
                  border-b border-white/5 last:border-b-0
                  ${n&&r%2===1?"bg-black/20":""}
                  hover:bg-white/5 transition-colors
                `,children:(g=c.cells)==null?void 0:g.map((h,x)=>e.jsx("td",{className:`${u} text-gray-300`,children:x===0?e.jsx("span",{className:"font-medium text-white",children:h}):h},x))},c._key||r)})})]})}),i&&e.jsx("div",{className:"px-5 py-3 border-t border-white/10 bg-black/20",children:e.jsx("p",{className:"text-xs text-gray-500",children:i})})]})},ve={classic:{grass:"linear-gradient(180deg, #2d8a4e 0%, #1e6b3a 50%, #2d8a4e 100%)",lines:"#ffffff"},dark:{grass:"linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%)",lines:"#4a5568"},ligue1:{grass:"linear-gradient(180deg, #091C3E 0%, #0D2B5C 50%, #091C3E 100%)",lines:"#ffffff"},ucl:{grass:"linear-gradient(180deg, #0E1E5B 0%, #1a3a8a 50%, #0E1E5B 100%)",lines:"#ffffff"},octogoal:{grass:"linear-gradient(180deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",lines:"#ec4899"}},ke={"4-3-3":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:20,y:44},{x:50,y:40},{x:80,y:44},{x:15,y:66},{x:50,y:72},{x:85,y:66}],"4-4-2":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:8,y:46},{x:33,y:44},{x:67,y:44},{x:92,y:46},{x:35,y:70},{x:65,y:70}],"4-2-3-1":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:33,y:38},{x:67,y:38},{x:15,y:56},{x:50,y:54},{x:85,y:56},{x:50,y:74}],"3-5-2":[{x:50,y:6},{x:20,y:22},{x:50,y:18},{x:80,y:22},{x:5,y:44},{x:28,y:42},{x:50,y:38},{x:72,y:42},{x:95,y:44},{x:35,y:70},{x:65,y:70}],"3-4-3":[{x:50,y:6},{x:20,y:22},{x:50,y:18},{x:80,y:22},{x:10,y:44},{x:37,y:42},{x:63,y:42},{x:90,y:44},{x:15,y:66},{x:50,y:72},{x:85,y:66}],"5-3-2":[{x:50,y:6},{x:5,y:26},{x:27,y:20},{x:50,y:18},{x:73,y:20},{x:95,y:26},{x:22,y:44},{x:50,y:42},{x:78,y:44},{x:35,y:70},{x:65,y:70}],"4-1-4-1":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:50,y:36},{x:10,y:54},{x:37,y:52},{x:63,y:52},{x:90,y:54},{x:50,y:74}],"5-4-1":[{x:50,y:6},{x:5,y:26},{x:27,y:20},{x:50,y:18},{x:73,y:20},{x:95,y:26},{x:10,y:46},{x:37,y:44},{x:63,y:44},{x:90,y:46},{x:50,y:72}],"4-5-1":[{x:50,y:6},{x:8,y:24},{x:33,y:20},{x:67,y:20},{x:92,y:24},{x:5,y:46},{x:28,y:44},{x:50,y:42},{x:72,y:44},{x:95,y:46},{x:50,y:72}],"3-4-1-2":[{x:50,y:6},{x:20,y:22},{x:50,y:18},{x:80,y:22},{x:10,y:42},{x:37,y:40},{x:63,y:40},{x:90,y:42},{x:50,y:56},{x:35,y:72},{x:65,y:72}]},Ce={motm:"â­",goal:"âš½",assist:"ðŸŽ¯",yellow:"ðŸŸ¨",red:"ðŸŸ¥"},Ut=({player:t,position:l,clubColor:s,showRating:a})=>{var o;const i=s||"#ec4899",n=((o=t==null?void 0:t.playerName)==null?void 0:o.split(" ").pop())||"";return e.jsxs("div",{className:"absolute flex flex-col items-center z-10",style:{left:`${l.x}%`,top:`${l.y}%`,transform:"translate(-50%, -50%)"},children:[e.jsxs("div",{className:"relative w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-white/90 flex items-center justify-center shadow-lg",style:{backgroundColor:i},children:[e.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:(t==null?void 0:t.number)||"?"}),(t==null?void 0:t.isCaptain)&&e.jsx("div",{className:"absolute -top-0.5 -left-0.5 w-3.5 h-3.5 bg-yellow-500 rounded-full flex items-center justify-center text-[8px] text-black font-bold border border-white",children:"C"}),(t==null?void 0:t.highlight)&&t.highlight!=="none"&&Ce[t.highlight]&&e.jsx("div",{className:"absolute -top-0.5 -right-0.5 text-[10px]",children:Ce[t.highlight]}),a&&(t==null?void 0:t.rating)&&e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 px-1 py-0.5 rounded text-[8px] text-white font-bold ${t.rating>=7?"bg-green-500":t.rating>=5?"bg-amber-500":"bg-red-500"}`,children:t.rating.toFixed(1)})]}),e.jsx("span",{className:"mt-0.5 text-[9px] md:text-[10px] text-white font-medium text-center max-w-[55px] truncate leading-tight",style:{textShadow:"0 1px 4px rgba(0,0,0,1)"},children:n})]})},Se=({team:t,theme:l,showRatings:s,isVersus:a=!1})=>{const i=ve[l]||ve.octogoal,n=ke[t.formation]||ke["4-3-3"];return e.jsxs("div",{className:"w-full rounded-xl relative overflow-hidden shadow-xl",style:{background:i.grass,aspectRatio:"2/3",maxWidth:a?"400px":"100%",minHeight:a?"auto":"600px"},children:[e.jsxs("svg",{viewBox:"0 0 100 150",className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:[e.jsx("rect",{x:"5",y:"5",width:"90",height:"140",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("line",{x1:"5",y1:"75",x2:"95",y2:"75",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("circle",{cx:"50",cy:"75",r:"12",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("circle",{cx:"50",cy:"75",r:"1",fill:i.lines,opacity:"0.7"}),e.jsx("rect",{x:"22",y:"5",width:"56",height:"18",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"34",y:"5",width:"32",height:"7",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 36 23 Q 50 30 64 23",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"22",y:"127",width:"56",height:"18",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"34",y:"138",width:"32",height:"7",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 36 127 Q 50 120 64 127",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("rect",{x:"40",y:"2",width:"20",height:"3",fill:"none",stroke:i.lines,strokeWidth:"0.6",opacity:"0.8"}),e.jsx("rect",{x:"40",y:"145",width:"20",height:"3",fill:"none",stroke:i.lines,strokeWidth:"0.6",opacity:"0.8"}),e.jsx("path",{d:"M 5 8 Q 8 5 11 5",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 89 5 Q 92 5 95 8",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 5 142 Q 8 145 11 145",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"}),e.jsx("path",{d:"M 89 145 Q 92 145 95 142",fill:"none",stroke:i.lines,strokeWidth:"0.4",opacity:"0.7"})]}),n.map((o,u)=>{var c;return e.jsx(Ut,{player:t.players[u],position:o,clubColor:t.clubColor,showRating:s},((c=t.players[u])==null?void 0:c._key)||u)}),e.jsx("div",{className:"absolute bottom-3 right-3 px-3 py-1.5 bg-black/70 backdrop-blur-sm text-white text-xs font-bold rounded-md border border-white/20",children:t.formation})]})},Mt=({value:t})=>{var r,g;const{title:l,matchContext:s,displayMode:a,theme:i,team1:n,team2:o,showSubstitutes:u,showRatings:c}=t;return e.jsxs("div",{className:"my-10 md:my-16",children:[(l||s)&&e.jsxs("div",{className:"text-center mb-8",children:[l&&e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm",children:s})]}),e.jsxs("div",{className:`flex gap-4 md:gap-8 justify-center items-start ${a==="versus"?"flex-row flex-wrap":"flex-col items-center"}`,children:[e.jsxs("div",{className:"text-center flex flex-col items-center",children:[n.clubName&&e.jsx("p",{className:"font-bold mb-3 text-lg",style:{color:n.clubColor||"#ec4899"},children:n.clubName}),e.jsx(Se,{team:n,theme:i,showRatings:c,isVersus:a==="versus"}),n.coach&&e.jsxs("p",{className:"mt-3 text-sm text-gray-400",children:[e.jsx("span",{className:"text-gray-500",children:"Coach:"})," ",n.coach]})]}),a==="versus"&&o&&e.jsx("div",{className:"self-center px-4",children:e.jsx("span",{className:"text-3xl font-black text-gray-600",children:"VS"})}),a==="versus"&&o&&e.jsxs("div",{className:"text-center flex flex-col items-center",children:[o.clubName&&e.jsx("p",{className:"font-bold mb-3 text-lg",style:{color:o.clubColor||"#3b82f6"},children:o.clubName}),e.jsx(Se,{team:o,theme:i,showRatings:c,isVersus:!0}),o.coach&&e.jsxs("p",{className:"mt-3 text-sm text-gray-400",children:[e.jsx("span",{className:"text-gray-500",children:"Coach:"})," ",o.coach]})]})]}),u&&(((r=n.substitutes)==null?void 0:r.length)||a==="versus"&&((g=o==null?void 0:o.substitutes)==null?void 0:g.length))&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-800",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-gray-500 text-center mb-4",children:"RemplaÃ§ants"}),e.jsxs("div",{className:`flex gap-8 ${a==="versus"?"justify-center flex-wrap":"justify-center"}`,children:[n.substitutes&&n.substitutes.length>0&&e.jsxs("div",{className:"text-center",children:[n.clubName&&a==="versus"&&e.jsx("p",{className:"text-xs font-medium mb-2",style:{color:n.clubColor||"#ec4899"},children:n.clubName}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[400px]",children:n.substitutes.map(h=>e.jsxs("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-300 text-xs rounded-md",children:[h.number&&e.jsx("span",{className:"text-gray-500 mr-1",children:h.number}),h.playerName.split(" ").pop()]},h._key))})]}),a==="versus"&&(o==null?void 0:o.substitutes)&&o.substitutes.length>0&&e.jsxs("div",{className:"text-center",children:[o.clubName&&e.jsx("p",{className:"text-xs font-medium mb-2",style:{color:o.clubColor||"#3b82f6"},children:o.clubName}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[400px]",children:o.substitutes.map(h=>e.jsxs("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-300 text-xs rounded-md",children:[h.number&&e.jsx("span",{className:"text-gray-500 mr-1",children:h.number}),h.playerName.split(" ").pop()]},h._key))})]})]})]})]})},$e={easy:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/30"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30"},hard:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},expert:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30"}},Dt={easy:"Facile",medium:"Moyen",hard:"Difficile",expert:"Expert"},Ft=({value:t})=>{const l=(t==null?void 0:t.title)||"Quiz Football",s=t==null?void 0:t.description,a=(t==null?void 0:t.difficulty)||"medium",i=(t==null?void 0:t.timeLimit)||30,n=(t==null?void 0:t.questions)||[],o=(t==null?void 0:t.showResults)!==!1,u=(t==null?void 0:t.shareEnabled)!==!1,c=t==null?void 0:t.resultMessages,[r,g]=m.useState(0),[h,x]=m.useState(0),[p,v]=m.useState(!1),[k,A]=m.useState(null),[C,S]=m.useState(i),[I,R]=m.useState(!1),[d,j]=m.useState(!1);if(!t||!n||n.length===0)return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6 text-center",children:[e.jsx("span",{className:"text-4xl mb-4 block",children:"ðŸŽ¯"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l}),e.jsx("p",{className:"text-gray-400",children:"Quiz en cours de prÃ©paration..."}),!1]})});const N=n[r],b=n.reduce(($,U)=>$+(U.points||1),0),L=b>0?Math.round(h/b*100):0;m.useEffect(()=>{if(!(!d||I)){if(i>0&&!p&&C>0){const $=setTimeout(()=>S(U=>U-1),1e3);return()=>clearTimeout($)}C===0&&!p&&P(null)}},[C,p,d,I,i]),m.useEffect(()=>{i>0&&S(i)},[r,i]);const P=m.useCallback($=>{if(p)return;v(!0),A($);const U=N.answers.find(E=>E.isCorrect);$&&U&&$===U._key&&x(E=>E+N.points)},[p,N]),H=()=>{r<n.length-1?(g($=>$+1),v(!1),A(null)):R(!0)},w=()=>{g(0),x(0),v(!1),A(null),S(i),R(!1),j(!1)},f=()=>L===100?(c==null?void 0:c.perfect)||"Parfait !":L>=70?(c==null?void 0:c.good)||"Bien jouÃ© !":L>=40?(c==null?void 0:c.average)||"Pas mal !":(c==null?void 0:c.low)||"Tu feras mieux la prochaine fois !",y=()=>{const $=`J'ai obtenu ${h}/${b} (${L}%) au quiz "${l}" sur Octogoal !`;navigator.share?navigator.share({title:l,text:$,url:window.location.href}):navigator.clipboard.writeText($+" "+window.location.href)},T=$e[a]||$e.medium;return d?I&&o?e.jsx("div",{className:"my-10 md:my-14",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8 text-center",children:[e.jsx(Me,{size:48,className:"mx-auto mb-4 text-yellow-400"}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Quiz terminÃ© !"}),e.jsx("p",{className:"text-xl text-gray-300 mb-4",children:f()}),e.jsxs("div",{className:"text-5xl font-black text-pink-500 mb-2",children:[h,"/",b]}),e.jsxs("div",{className:"text-gray-400 mb-8",children:[L,"% de bonnes rÃ©ponses"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-xl transition-colors",children:[e.jsx(rt,{size:18}),"Recommencer"]}),u&&e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-6 py-3 bg-pink-600 hover:bg-pink-500 text-white font-medium rounded-xl transition-colors",children:[e.jsx(ge,{size:18}),"Partager"]})]})]})})}):e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Question ",r+1,"/",n.length]}),e.jsxs("div",{className:`px-2 py-0.5 rounded text-xs font-medium ${T.bg} ${T.text}`,children:[N.points," pts"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-pink-400 font-medium",children:["Score: ",h]}),i>0&&e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${C<=5?"text-red-400":"text-gray-400"}`,children:[e.jsx(he,{size:14}),C,"s"]})]})]}),e.jsx("div",{className:"h-1 bg-gray-800",children:e.jsx(z.div,{className:"h-full bg-pink-500",initial:{width:0},animate:{width:`${(r+(p?1:0))/n.length*100}%`}})}),e.jsxs("div",{className:"p-6 md:p-8",children:[(N.image||N.imageUrl)&&e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsx("img",{src:N.image?D(N.image).width(400).url():N.imageUrl,alt:"",className:"max-h-48 rounded-lg object-contain"})}),e.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white text-center mb-8",children:N.question}),e.jsx("div",{className:"grid gap-3",children:e.jsx(Y,{mode:"wait",children:N.answers.map(($,U)=>{const E=k===$._key,W=$.isCorrect,M=p&&W,F=p&&E&&!W;return e.jsxs(z.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:U*.1},onClick:()=>P($._key),disabled:p,className:`w-full p-4 rounded-xl text-left font-medium transition-all flex items-center gap-3 ${M?"bg-green-500/20 border-2 border-green-500 text-green-400":F?"bg-red-500/20 border-2 border-red-500 text-red-400":E?"bg-pink-500/20 border-2 border-pink-500 text-white":"bg-gray-800 border-2 border-gray-700 text-gray-300 hover:border-gray-500"}`,children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm",children:String.fromCharCode(65+U)}),e.jsx("span",{className:"flex-1",children:$.text}),M&&e.jsx(Pe,{size:20,className:"text-green-400"}),F&&e.jsx(at,{size:20,className:"text-red-400"})]},$._key)})})}),p&&N.explanation&&e.jsx(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-300",children:N.explanation})}),p&&e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 flex justify-center",children:e.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-6 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl transition-colors",children:[r<n.length-1?"Question suivante":"Voir les rÃ©sultats",e.jsx(Z,{size:18})]})})]})]})}):e.jsx("div",{className:"my-10 md:my-14",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8 text-center",children:[e.jsx("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium mb-4 ${T.bg} ${T.text}`,children:Dt[a]}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:l}),s&&e.jsx("p",{className:"text-gray-400 mb-6",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-400 mb-8",children:[e.jsxs("span",{children:[n.length," questions"]}),i>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{size:14}),i,"s par question"]}),e.jsxs("span",{children:[b," points max"]})]}),e.jsx("button",{onClick:()=>j(!0),className:"px-8 py-3 bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl transition-colors",children:"Commencer le quiz"})]})})})},Te={rumor:{icon:"ðŸ’­",label:"Rumeur",color:"text-gray-400",bg:"bg-gray-500/20"},confirmed_interest:{icon:"ðŸŽ¯",label:"IntÃ©rÃªt confirmÃ©",color:"text-blue-400",bg:"bg-blue-500/20"},negotiating:{icon:"ðŸ¤",label:"En nÃ©gociation",color:"text-yellow-400",bg:"bg-yellow-500/20"},clubs_agreed:{icon:"ðŸ“‹",label:"Accord entre clubs",color:"text-orange-400",bg:"bg-orange-500/20"},medical:{icon:"ðŸ¥",label:"Visite mÃ©dicale",color:"text-purple-400",bg:"bg-purple-500/20"},official:{icon:"âœ…",label:"Officiel",color:"text-green-400",bg:"bg-green-500/20"},failed:{icon:"âŒ",label:"Ã‰chec",color:"text-red-400",bg:"bg-red-500/20"}},Ae={hot:{icon:"ðŸ”¥",label:"TrÃ¨s chaud",color:"text-red-400"},interested:{icon:"ðŸŸ¡",label:"IntÃ©ressÃ©",color:"text-yellow-400"},monitoring:{icon:"ðŸ‘€",label:"Surveille",color:"text-blue-400"}},qt={permanent:"Transfert dÃ©finitif",loan:"PrÃªt",loan_option:"PrÃªt avec option",free:"Libre",loan_return:"Retour de prÃªt"},Bt=({value:t})=>{const{playerName:l,playerPhoto:s,playerPhotoUrl:a,currentClubName:i,interestedClubs:n,transferType:o,estimatedFee:u,salary:c,contractLength:r,status:g,reliability:h,source:x,sourceUrl:p,lastUpdate:v,notes:k,showTimeline:A,timeline:C}=t,[S,I]=m.useState(!1),R=Te[g]||Te.rumor,d=s?D(s).width(200).url():a,j=b=>b>=80?"#22c55e":b>=50?"#f59e0b":"#ef4444",N=b=>{try{return new Date(b).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}catch{return b}};return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:`px-4 py-2 flex items-center justify-between ${R.bg}`,children:[e.jsxs("div",{className:`flex items-center gap-2 ${R.color}`,children:[e.jsx("span",{className:"text-lg",children:R.icon}),e.jsx("span",{className:"font-semibold text-sm",children:R.label})]}),e.jsx("span",{className:"text-xs text-gray-400",children:qt[o]})]}),e.jsxs("div",{className:"p-5 md:p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[d?e.jsx("img",{src:d,alt:l||"Joueur",className:"w-20 h-20 md:w-24 md:h-24 rounded-xl object-cover bg-gray-800"}):e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-xl bg-gray-800 flex items-center justify-center text-3xl",children:"âš½"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:l||"Joueur inconnu"}),i&&e.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Actuellement Ã  ",i]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"FiabilitÃ©"}),e.jsx("div",{className:"flex-1 max-w-[150px] h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(z.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full rounded-full",style:{backgroundColor:j(h)}})}),e.jsxs("span",{className:"text-sm font-bold",style:{color:j(h)},children:[h,"%"]})]})]})]}),n&&n.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Clubs intÃ©ressÃ©s"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(b=>{const L=Ae[b.interestLevel]||Ae.monitoring;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-800 rounded-lg",children:[e.jsx("span",{children:L.icon}),e.jsx("span",{className:"text-white font-medium text-sm",children:b.clubName}),e.jsxs("span",{className:`text-xs ${L.color}`,children:["(",L.label,")"]})]},b._key)})})]}),(u||c||r)&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u&&e.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-black text-green-400",children:[u,"Mâ‚¬"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Estimation"})]}),c&&e.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-black text-blue-400",children:[c,"Mâ‚¬"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Salaire/an"})]}),r&&e.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-black text-purple-400",children:r}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Contrat"})]})]}),k&&e.jsx("div",{className:"mb-6 p-4 bg-gray-800/30 rounded-lg border-l-4 border-pink-500",children:e.jsx("p",{className:"text-gray-300 text-sm italic",children:k})}),A&&C&&C.length>0&&e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsxs("button",{onClick:()=>I(!S),className:"flex items-center justify-between w-full text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Timeline du transfert"}),S?e.jsx(qe,{size:18,className:"text-gray-500"}):e.jsx(J,{size:18,className:"text-gray-500"})]}),e.jsx(Y,{children:S&&e.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"mt-4 space-y-3",children:C.map((b,L)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),L<C.length-1&&e.jsx("div",{className:"w-0.5 flex-1 bg-gray-700 mt-1"})]}),e.jsxs("div",{className:"flex-1 pb-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:N(b.date)}),e.jsx("div",{className:"text-sm text-gray-300",children:b.event}),b.source&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Source: ",b.source]})]})]},b._key))})})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-4 pt-4 border-t border-gray-800",children:[x&&e.jsxs("div",{className:"flex items-center gap-1",children:["Source:",p?e.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:underline flex items-center gap-1",children:[x,e.jsx(Le,{size:12})]}):e.jsx("span",{children:x})]}),v&&e.jsxs("div",{children:["Mis Ã  jour: ",N(v)]})]})]})]})})},Ot=({value:t})=>{var H;const{_key:l,question:s,pollType:a,options:i,matchTeam1:n,matchTeam2:o,matchDrawOption:u,showResults:c,style:r,accentColor:g}=t,h=`poll_${l}`,x=m.useMemo(()=>{if(a==="match"&&n&&o){const w=[{_key:"team1",text:n.clubName||"Ã‰quipe 1",color:n.color},{_key:"team2",text:o.clubName||"Ã‰quipe 2",color:o.color}];return u&&w.splice(1,0,{_key:"draw",text:"Match nul",color:"#6b7280"}),w}return a==="yesno"?[{_key:"yes",text:"Oui",color:"#22c55e"},{_key:"no",text:"Non",color:"#ef4444"}]:a==="rating"?[1,2,3,4,5].map(w=>({_key:`rating_${w}`,text:"â­".repeat(w),color:g||"#ec4899"})):i||[]},[a,i,n,o,u,g]),[p,v]=m.useState(!1),[k,A]=m.useState([]),[C,S]=m.useState({}),[I,R]=m.useState(0);m.useEffect(()=>{const w=localStorage.getItem(h);if(w){const T=JSON.parse(w);v(!0),A(T.selected||[])}const f={};let y=0;x.forEach(T=>{const $=Math.floor(Math.random()*100)+10;f[T._key]=$,y+=$}),S(f),R(y)},[h,x]);const d=w=>{if(p)return;const f=[w];localStorage.setItem(h,JSON.stringify({selected:f,timestamp:Date.now()})),A(f),v(!0),S(y=>({...y,[w]:(y[w]||0)+1})),R(y=>y+1)},j=w=>I===0?0:Math.round((C[w]||0)/I*100),N=()=>c==="always"?!0:c==="never"?!1:p,b=g||"#ec4899";if(r==="versus"&&a==="match"&&n&&o)return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center mb-6",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs(z.button,{whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},onClick:()=>d("team1"),disabled:p,className:`flex-1 max-w-[180px] p-6 rounded-xl text-center transition-all ${k.includes("team1")?"ring-2 ring-white":p?"opacity-60":"hover:opacity-80"}`,style:{backgroundColor:n.color},children:[e.jsx("div",{className:"text-white font-bold text-lg mb-2",children:n.clubName}),N()&&e.jsxs("div",{className:"text-white/80 text-2xl font-black",children:[j("team1"),"%"]})]}),u&&e.jsxs(z.button,{whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},onClick:()=>d("draw"),disabled:p,className:`px-6 py-4 rounded-xl text-center bg-gray-700 ${k.includes("draw")?"ring-2 ring-white":p?"opacity-60":"hover:bg-gray-600"}`,children:[e.jsx("div",{className:"text-white font-bold text-sm mb-1",children:"Nul"}),N()&&e.jsxs("div",{className:"text-white/80 text-xl font-black",children:[j("draw"),"%"]})]}),e.jsxs(z.button,{whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},onClick:()=>d("team2"),disabled:p,className:`flex-1 max-w-[180px] p-6 rounded-xl text-center transition-all ${k.includes("team2")?"ring-2 ring-white":p?"opacity-60":"hover:opacity-80"}`,style:{backgroundColor:o.color},children:[e.jsx("div",{className:"text-white font-bold text-lg mb-2",children:o.clubName}),N()&&e.jsxs("div",{className:"text-white/80 text-2xl font-black",children:[j("team2"),"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 text-gray-500 text-sm",children:[e.jsx(ce,{size:14}),e.jsxs("span",{children:[I," votes"]})]})]})});if(r==="cards")return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white text-center mb-6",children:s}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.map(w=>{const f=k.includes(w._key),y=j(w._key),T=w.image?D(w.image).width(200).url():w.imageUrl;return e.jsxs(z.button,{whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},onClick:()=>d(w._key),disabled:p,className:`relative p-4 rounded-xl text-center transition-all overflow-hidden ${f?"ring-2":p?"opacity-70":"hover:bg-gray-700"} bg-gray-800`,style:{borderColor:f?b:"transparent"},children:[T&&e.jsx("img",{src:T,alt:"",className:"w-16 h-16 mx-auto mb-2 rounded-lg object-cover"}),e.jsx("div",{className:"text-white font-medium text-sm",children:w.text}),N()&&e.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:b},children:[y,"%"]}),f&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(ie,{size:16,style:{color:b}})})]},w._key)})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 text-gray-500 text-sm",children:[e.jsx(ce,{size:14}),e.jsxs("span",{children:[I," votes"]})]})]})});const L=Math.max(...x.map(w=>j(w._key))),P=(H=x.find(w=>j(w._key)===L))==null?void 0:H._key;return e.jsx("div",{className:"my-10 md:my-14",children:e.jsx("div",{className:"relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl border border-slate-700/50 overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ—³ï¸"}),e.jsx("span",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium",children:"Sondage"})]}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white text-center mb-8",children:s}),e.jsx("div",{className:"space-y-3",children:x.map((w,f)=>{const y=k.includes(w._key),T=j(w._key);return N()&&w._key,e.jsxs(z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05},whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},onClick:()=>d(w._key),disabled:p,className:`w-full p-4 rounded-xl text-left transition-all relative overflow-hidden group ${y?"ring-2 bg-slate-800/80":"bg-slate-800/50 hover:bg-slate-800/80"}`,style:{borderColor:y?b:"transparent",boxShadow:y?`0 0 15px ${b}20`:"none"},children:[N()&&e.jsx(z.div,{initial:{width:0},animate:{width:`${T}%`},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-y-0 left-0 rounded-l-xl",style:{background:y?`linear-gradient(90deg, ${b}50 0%, ${b}20 100%)`:"linear-gradient(90deg, rgba(100,116,139,0.25) 0%, rgba(100,116,139,0.08) 100%)"}}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${y?"border-transparent":"border-slate-600 group-hover:border-slate-500"}`,style:{backgroundColor:y?b:"transparent"},children:y&&e.jsx(ie,{size:12,className:"text-white"})}),e.jsx("span",{className:`font-medium ${y?"text-white":"text-slate-300"}`,children:w.text})]}),N()&&e.jsxs("span",{className:"font-bold text-lg flex-shrink-0",style:{color:y?b:"#64748b"},children:[T,"%"]})]})]},w._key)})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 pt-4 border-t border-slate-700/50",children:[e.jsx(ce,{size:14,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-500 text-sm",children:[I.toLocaleString()," participants"]})]})]})})})},X=["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"],Ht=({value:t})=>{const{title:l,description:s,items:a,style:i,showRankChange:n,interactive:o,interactiveTitle:u,accentColor:c,numberedList:r,reverseOrder:g}=t,[h,x]=m.useState(new Set),[p,v]=m.useState(!1),k=c||"#ec4899",A=g?[...a].reverse():a,C=d=>d.trend==="new"?e.jsx(Be,{size:14,className:"text-yellow-400"}):d.trend==="up"?e.jsx(lt,{size:14,className:"text-green-400"}):d.trend==="down"?e.jsx(it,{size:14,className:"text-red-400"}):e.jsx(nt,{size:14,className:"text-gray-500"}),S=d=>{if(!n||!d.previousRank)return null;const j=d.previousRank-d.rank;return j>0?e.jsxs("span",{className:"text-green-400 text-xs",children:["+",j]}):j<0?e.jsx("span",{className:"text-red-400 text-xs",children:j}):e.jsx("span",{className:"text-gray-500 text-xs",children:"="})},I=d=>{x(j=>{const N=new Set(j);return N.has(d)?N.delete(d):N.add(d),N})},R=()=>{x(p?new Set:new Set(a.map(d=>d._key))),v(!p)};if(i==="podium"){const d=A.slice(0,3),j=A.slice(3),N=d.length>=3?[d[1],d[0],d[2]]:d;return e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white text-center mb-2",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-center text-sm mb-8",children:s}),e.jsx("div",{className:"flex items-end justify-center gap-4 mb-8",children:N.map((b,L)=>{const P=L===0?2:L===1?1:3,H=P===1?"h-32":P===2?"h-24":"h-20",w=b.image?D(b.image).width(100).url():b.imageUrl;return e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.15},className:"flex flex-col items-center",children:[w?e.jsx("img",{src:w,alt:b.title,className:`${P===1?"w-20 h-20":"w-16 h-16"} rounded-full object-cover border-2 mb-2`,style:{borderColor:k}}):e.jsx("div",{className:`${P===1?"w-20 h-20 text-3xl":"w-16 h-16 text-2xl"} rounded-full bg-gray-700 flex items-center justify-center mb-2`,children:X[P-1]}),e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("div",{className:"text-white font-bold text-sm",children:b.title}),b.stat&&e.jsx("div",{className:"text-xs",style:{color:k},children:b.stat})]}),e.jsx("div",{className:`${H} w-24 rounded-t-lg flex items-start justify-center pt-2`,style:{backgroundColor:`${k}${P===1?"cc":P===2?"99":"66"}`},children:e.jsx("span",{className:"text-2xl",children:X[P-1]})})]},b._key)})}),j.length>0&&e.jsx("div",{className:"space-y-2 border-t border-gray-700 pt-4",children:j.map((b,L)=>{const P=b.image?D(b.image).width(50).url():b.imageUrl;return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${b.highlight?"bg-gray-800":""}`,children:[e.jsx("span",{className:"w-8 text-center text-gray-500 font-bold",children:b.rank}),P&&e.jsx("img",{src:P,alt:"",className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:b.title}),b.subtitle&&e.jsx("div",{className:"text-gray-500 text-xs",children:b.subtitle})]}),b.stat&&e.jsx("div",{className:"font-bold",style:{color:k},children:b.stat}),n&&C(b)]},b._key)})})]})})}return i==="reveal"?e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:s})]}),e.jsx("button",{onClick:R,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors",style:{backgroundColor:`${k}20`,color:k},children:p?"Masquer tout":"RÃ©vÃ©ler tout"})]}),e.jsx("div",{className:"space-y-3",children:A.map(d=>{const j=h.has(d._key),N=d.image?D(d.image).width(80).url():d.imageUrl;return e.jsxs(z.div,{className:`rounded-xl overflow-hidden ${d.highlight?"ring-1":""}`,style:{borderColor:d.highlight?k:"transparent"},children:[e.jsxs("button",{onClick:()=>I(d._key),className:"w-full p-4 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:`${k}30`,color:k},children:r?d.rank:X[d.rank-1]||d.rank}),e.jsx(Y,{mode:"wait",children:j?e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex-1 flex items-center gap-3",children:[N&&e.jsx("img",{src:N,alt:"",className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"text-white font-bold",children:d.title}),d.subtitle&&e.jsx("div",{className:"text-gray-500 text-sm",children:d.subtitle})]}),d.stat&&e.jsx("div",{className:"font-bold text-lg",style:{color:k},children:d.stat})]},"revealed"):e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 text-left",children:e.jsx("div",{className:"text-gray-500",children:"Cliquez pour rÃ©vÃ©ler"})},"hidden")}),j?e.jsx(qe,{size:20,className:"text-gray-500"}):e.jsx(J,{size:20,className:"text-gray-500"})]}),e.jsx(Y,{children:j&&d.description&&e.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"px-4 pb-4 pt-0 text-gray-400 text-sm border-t border-gray-700 mt-0 pt-3",children:d.description})})})]},d._key)})})]})}):i==="cards"?e.jsxs("div",{className:"my-10 md:my-14",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:s})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:A.map((d,j)=>{const N=d.image?D(d.image).width(150).url():d.imageUrl;return e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:`bg-gray-800 rounded-xl p-4 text-center relative ${d.highlight?"ring-2":""}`,style:{borderColor:d.highlight?k:"transparent"},children:[e.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:k},children:d.rank<=3?X[d.rank-1]:d.rank}),N?e.jsx("img",{src:N,alt:d.title,className:"w-16 h-16 mx-auto rounded-full object-cover mb-3"}):e.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-700 flex items-center justify-center text-2xl mb-3",children:d.rank<=3?X[d.rank-1]:"âš½"}),e.jsx("div",{className:"text-white font-bold text-sm mb-1",children:d.title}),d.subtitle&&e.jsx("div",{className:"text-gray-500 text-xs mb-2",children:d.subtitle}),d.stat&&e.jsx("div",{className:"font-bold",style:{color:k},children:d.stat}),n&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[C(d),S(d)]})]},d._key)})})]}):e.jsx("div",{className:"my-10 md:my-14",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl border border-gray-700 overflow-hidden p-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:l}),s&&e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:s}),e.jsx("div",{className:"space-y-2",children:A.map((d,j)=>{const N=d.image?D(d.image).width(60).url():d.imageUrl;return e.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.05},className:`flex items-center gap-4 p-4 rounded-xl transition-colors ${d.highlight?"bg-gray-800 ring-1":"hover:bg-gray-800/50"}`,style:{borderColor:d.highlight?k:"transparent"},children:[e.jsx("div",{className:"w-10 text-center",children:d.rank<=3?e.jsx("span",{className:"text-2xl",children:X[d.rank-1]}):e.jsx("span",{className:"text-xl font-bold text-gray-500",children:d.rank})}),N&&e.jsx("img",{src:N,alt:"",className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-white font-bold truncate",children:d.title}),d.subtitle&&e.jsx("div",{className:"text-gray-500 text-sm truncate",children:d.subtitle})]}),d.stat&&e.jsx("div",{className:"text-lg font-bold",style:{color:k},children:d.stat}),n&&e.jsxs("div",{className:"flex items-center gap-1",children:[C(d),S(d)]})]},d._key)})})]})})},_e=({type:t,className:l=""})=>e.jsx("div",{className:`relative ${l}`,children:e.jsx("div",{className:`${t==="inline"?"my-12 py-6 px-6":"p-4"} bg-gray-900/50 border border-gray-800 rounded-lg flex flex-col items-center justify-center text-center min-h-[120px]`,children:e.jsx("p",{className:"text-[11px] uppercase tracking-widest text-gray-600 font-medium",children:"PublicitÃ©"})})}),Vt=m.memo(({article:t,colors:l,isEmission:s=!1})=>{var c;const[a,i]=m.useState(!1),n=m.useRef(0),o=m.useCallback(r=>{navigator.clipboard.writeText(r),i(!0),setTimeout(()=>i(!1),2e3)},[]);n.current=0;const u=m.useMemo(()=>({block:{h1:({children:r})=>e.jsx("h1",{className:"text-2xl font-montserrat font-bold text-white mb-6 mt-12 leading-tight",children:r}),h2:({children:r,value:g})=>{var p,v;const x=`h2-${(((v=(p=g==null?void 0:g.children)==null?void 0:p[0])==null?void 0:v.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsxs("h2",{id:x,className:"text-xl md:text-2xl font-montserrat font-bold text-white mt-14 mb-5 scroll-mt-24 flex items-center gap-3",children:[e.jsx("span",{className:"w-1 self-stretch rounded-full flex-shrink-0",style:{background:l.bgGradient}}),r]})},h3:({children:r,value:g})=>{var p,v;const x=`h3-${(((v=(p=g==null?void 0:g.children)==null?void 0:p[0])==null?void 0:v.text)||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;return e.jsx("h3",{id:x,className:"text-base font-montserrat font-bold text-gray-100 mt-8 mb-2 scroll-mt-24",children:r})},h4:({children:r})=>e.jsx("h4",{className:"text-sm font-montserrat font-semibold text-gray-500 mt-6 mb-2 uppercase tracking-wider",children:r}),normal:({children:r})=>{n.current++;const g=n.current===5||n.current===12;return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg leading-[1.8] text-gray-300 mb-6",children:r}),g&&e.jsx(_e,{type:"inline"})]})},blockquote:({children:r})=>e.jsxs("blockquote",{className:"my-12 md:my-16 relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[3px]",style:{background:l.primary}}),e.jsx("div",{className:"pl-8 md:pl-12",children:e.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl font-montserrat italic text-white leading-snug",children:r})})]})},list:{bullet:({children:r})=>e.jsx("div",{className:"my-8 space-y-3",children:r}),number:({children:r})=>e.jsx("div",{className:"my-8 space-y-3",children:r})},listItem:{bullet:({children:r})=>e.jsxs("div",{className:"flex items-start gap-4 text-gray-300",children:[e.jsx("span",{className:"mt-[10px] w-[6px] h-[6px] rounded-full bg-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-lg leading-[1.8]",children:r})]}),number:({children:r,index:g})=>e.jsxs("div",{className:"flex items-start gap-4 text-gray-300",children:[e.jsxs("span",{className:"text-lg font-medium text-gray-500 w-6 flex-shrink-0",children:[(g||0)+1,"."]}),e.jsx("span",{className:"text-lg leading-[1.8]",children:r})]})},marks:{strong:({children:r})=>e.jsx("strong",{className:"font-semibold text-white",children:r}),em:({children:r})=>e.jsx("em",{className:"italic",children:r}),code:({children:r})=>e.jsx("code",{className:"px-2 py-0.5 bg-gray-800 rounded text-sm font-mono text-gray-300",children:r}),link:({value:r,children:g})=>e.jsx("a",{href:r==null?void 0:r.href,className:"text-white underline underline-offset-4 decoration-gray-500 hover:decoration-white transition-colors",target:"_blank",rel:"noopener noreferrer",children:g})},types:{image:({value:r})=>e.jsxs("figure",{className:"my-12",children:[e.jsx("div",{className:"relative overflow-hidden rounded-lg",children:e.jsx("img",{src:D(r).width(1400).url(),alt:r.alt||"Image de l'article",className:"w-full",loading:"lazy"})}),r.caption&&e.jsx("figcaption",{className:"text-sm text-gray-500 mt-4 italic",children:r.caption})]}),code:({value:r})=>e.jsxs("div",{className:"relative rounded-lg border border-gray-800 overflow-hidden my-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-900 border-b border-gray-800",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:r.language||"code"}),e.jsx("button",{onClick:()=>o(r.code),className:"text-xs text-gray-500 hover:text-white transition-colors",children:a?"CopiÃ©":"Copier"})]}),e.jsx("pre",{className:"p-6 text-sm overflow-x-auto bg-gray-950",children:e.jsx("code",{className:"text-gray-300 font-mono",children:r.code})})]}),instagram:({value:r})=>e.jsx(yt,{url:r==null?void 0:r.url,caption:r==null?void 0:r.caption}),youtube:({value:r})=>e.jsx(jt,{value:r}),twitter:({value:r})=>e.jsx(Nt,{url:r==null?void 0:r.url,caption:r==null?void 0:r.caption}),callout:({value:r})=>e.jsx(kt,{value:r}),styledQuote:({value:r})=>e.jsx(Ct,{value:r}),statsCard:({value:r})=>e.jsx($t,{value:r}),playerComparison:({value:r})=>e.jsx(Tt,{value:r}),imageGallery:({value:r})=>e.jsx(At,{value:r}),ctaButton:({value:r})=>e.jsx(_t,{value:r}),spoiler:({value:r})=>e.jsx(It,{value:r}),accordion:({value:r})=>e.jsx(Et,{value:r}),dataTable:({value:r})=>e.jsx(Pt,{value:r}),teamLineup:({value:r})=>e.jsx(Mt,{value:r}),footballQuiz:({value:r})=>e.jsx(Ft,{value:r}),mercatoRumor:({value:r})=>e.jsx(Bt,{value:r}),quickPoll:({value:r})=>e.jsx(Ot,{value:r}),topList:({value:r})=>e.jsx(Ht,{value:r})}}),[l.primary,l.bgGradient,o,a]);return e.jsxs("article",{className:"article-content",children:[s&&t.videoUrl&&e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${((c=t.videoUrl.split("v=")[1])==null?void 0:c.split("&")[0])||t.videoUrl.split("/").pop()}`,title:t.title,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e.jsxs("div",{className:"max-w-none",children:[(t.body||t.content)&&e.jsx(Ge,{value:t.body||t.content,components:u}),!t.body&&!t.content&&e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Contenu en cours de rÃ©daction."})})]}),e.jsx(_e,{type:"inline",className:"mt-16"}),t.keyPoints&&Array.isArray(t.keyPoints)&&t.keyPoints.length>0&&e.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800",children:[e.jsx("h3",{className:"text-xl font-montserrat font-bold text-white mb-6",children:"Ã€ retenir"}),e.jsx("ul",{className:"space-y-4",children:t.keyPoints.map((r,g)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-300",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[g+1,"."]}),e.jsx("span",{className:"text-lg leading-relaxed",children:r})]},g))})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((r,g)=>e.jsx("span",{className:"px-3 py-1.5 text-sm text-gray-400 bg-gray-900 rounded hover:bg-gray-800 transition-colors cursor-pointer",children:r.title},g))})}),e.jsx("div",{className:"mt-16 pt-8 border-t border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Partager"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const r=window.location.href;navigator.share?navigator.share({title:t.title,url:r}):navigator.clipboard.writeText(r)},className:"p-3 bg-gray-900 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(ge,{size:18,className:"text-gray-400"})}),e.jsx("button",{className:"p-3 bg-gray-900 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(ot,{size:18,className:"text-gray-400"})})]})]})}),e.jsx("style",{children:`
        .article-content ul,
        .article-content ol,
        .article-content li {
          list-style: none !important;
          list-style-type: none !important;
          padding-left: 0 !important;
          margin-left: 0 !important;
        }
        .article-content li::before,
        .article-content li::marker {
          content: none !important;
          display: none !important;
        }
      `})]})}),te="polygon(15% 0, 85% 0, 100% 15%, 100% 85%, 85% 100%, 15% 100%, 0 85%, 0 15%)",He=({author:t,publishedAt:l,colors:s,variant:a="desktop"})=>{const i=a==="mobile"?{width:64,height:64,iconSize:24,className:"w-16 h-16"}:{width:72,height:72,iconSize:28,className:"w-[72px] h-[72px]"},n=ze.useMemo(()=>{try{if(t.imageUrl&&typeof t.imageUrl=="string"&&t.imageUrl.startsWith("http"))return t.imageUrl;if(t.image){if(typeof t.image=="string"&&t.image.startsWith("http"))return t.image;if(t.image.asset){if(typeof t.image.asset=="string"&&t.image.asset.startsWith("http"))return t.image.asset;if(t.image.asset._ref&&t.image.asset._ref.includes("image-"))try{const o=D(t.image).width(i.width*2).height(i.height*2).url();if(o&&!o.includes("undefined"))return o}catch(o){console.error("Error with urlFor:",o)}}if(t.image.url&&typeof t.image.url=="string")return t.image.url}return null}catch{return null}},[t.image,t.imageUrl,i.width,i.height]);return a==="mobile"?e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"lg:hidden mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl",style:{background:`linear-gradient(135deg, ${s.bgLight} 0%, rgba(0,0,0,0.3) 100%)`,border:`1px solid ${s.borderColor}`},children:[e.jsx("div",{className:"relative flex-shrink-0",children:n?e.jsx("div",{className:`${i.className} overflow-hidden`,style:{clipPath:te},children:e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}):e.jsx("div",{className:`${i.className} flex items-center justify-center`,style:{clipPath:te,background:s.bgGradient},children:e.jsx(le,{size:i.iconSize,className:"text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ã‰crit par"}),e.jsx("h3",{className:"text-base font-bold text-white",children:t.name}),l&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[e.jsx(me,{size:10}),new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]})]})}):e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:s.bgGradient},children:e.jsx(ye,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-white",children:"L'auteur"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[n?e.jsx("div",{className:`${i.className} overflow-hidden`,style:{clipPath:te},children:e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}):e.jsx("div",{className:`${i.className} flex items-center justify-center`,style:{clipPath:te,background:s.bgGradient},children:e.jsx(le,{size:i.iconSize,className:"text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-md flex items-center justify-center",style:{background:s.primary},children:e.jsx(ye,{size:10,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),l&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(me,{size:10}),new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]})]})]}),t.bio&&e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mt-4 line-clamp-3",children:t.bio}),e.jsxs(B,{to:`/auteur/${t.name.toLowerCase().replace(/\s+/g,"-")}`,className:"group flex items-center justify-between mt-4 p-3 rounded-xl transition-all hover:bg-white/5",style:{border:`1px solid ${s.borderColor}`},children:[e.jsx("span",{className:"text-sm font-medium",style:{color:s.textColor},children:"Voir ses articles"}),e.jsx(Z,{size:16,className:"group-hover:translate-x-1 transition-transform",style:{color:s.textColor}})]})]})]})},Ve=({headings:t,activeSection:l,scrollProgress:s,colors:a,variant:i="desktop",mobileMenuOpen:n=!1,setMobileMenuOpen:o})=>{const[u,c]=m.useState({}),[r,g]=m.useState(!0);if(!t||t.length===0)return null;const h=x=>{i==="mobile"&&o&&o(!1);const p=document.getElementById(x);p&&p.scrollIntoView({behavior:"smooth",block:"start"})};return i==="mobile"?e.jsx("div",{className:"lg:hidden container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>o&&o(!n),className:"w-full p-5 border-b flex items-center justify-between",style:{borderColor:a.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:a.bgGradient},children:e.jsx(je,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des matiÃ¨res"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(J,{size:20,className:`text-gray-400 transition-transform ${n?"rotate-180":""}`})]}),e.jsx(Y,{children:n&&e.jsx(z.nav,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"p-4 max-h-[400px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:e.jsx("div",{className:"space-y-2 max-w-full",children:t.map((x,p)=>{const v=l===x.id,k=x.subheadings.length>0,A=u[x.id];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:`#${x.id}`,onClick:C=>{C.preventDefault(),h(x.id)},className:`flex-1 flex items-center gap-3 py-3 px-3 rounded-xl transition-all ${v?"bg-white/10":"hover:bg-white/5"}`,style:{borderLeft:v?`3px solid ${a.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0",style:{background:v?a.primary:a.bgLight,color:v?"#000":a.textColor},children:p+1}),e.jsx("span",{className:`text-sm ${v?"text-white font-medium":"text-gray-300"} break-words line-clamp-2`,children:x.text})]}),k&&e.jsx("button",{onClick:C=>{C.preventDefault(),C.stopPropagation(),c(S=>({...S,[x.id]:!S[x.id]}))},className:"p-2 rounded-lg hover:bg-white/10 transition-all",children:e.jsx(J,{size:16,className:`transition-transform ${A?"rotate-180":""}`,style:{color:a.textColor}})})]}),k&&A&&e.jsx("div",{className:"ml-8 mt-1 space-y-1",children:x.subheadings.map(C=>e.jsxs("a",{href:`#${C.id}`,onClick:S=>{S.preventDefault(),h(C.id)},className:"flex items-center gap-2 py-2 px-3 rounded-lg text-sm hover:bg-white/5",style:{color:l===C.id?a.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:l===C.id?a.primary:"#4b5563"}}),C.text]},C.id))})]},x.id)})})})})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/30 backdrop-blur-md rounded-2xl border border-gray-700/50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>g(!r),className:"w-full p-5 flex items-center justify-between hover:bg-white/5 transition-colors",style:{borderBottom:r?"none":`1px solid ${a.borderColor}30`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:a.bgGradient},children:e.jsx(je,{size:18,className:"text-white"})}),!r&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-white/20 animate-pulse",style:{background:a.primary+"40"}})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Table des matiÃ¨res"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," chapitres"]})]})]}),e.jsx(J,{size:20,className:`text-gray-400 transition-transform duration-300 ${r?"":"rotate-180"}`})]}),e.jsx(Y,{children:!r&&e.jsxs(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:[e.jsx("nav",{className:"p-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:t.map((x,p)=>{const v=l===x.id,k=x.subheadings.length>0,A=u[x.id],C=x.subheadings.some(S=>l===S.id);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsxs("a",{href:`#${x.id}`,className:`
                      flex-1 flex items-center gap-3 py-3 px-4 rounded-xl
                      transition-all duration-300 relative overflow-hidden
                      ${v?"bg-gradient-to-r":"hover:bg-white/5"}
                    `,style:{background:v?`linear-gradient(90deg, ${a.bgLight}, transparent)`:C?a.bgLight+"50":void 0,borderLeft:v?`3px solid ${a.primary}`:"3px solid transparent"},children:[e.jsx("div",{className:`
                        w-7 h-7 rounded-lg flex items-center justify-center
                        text-xs font-bold transition-all duration-300
                        ${v?"scale-110":""}
                      `,style:{background:v?a.primary:a.bgLight,color:v?"#000":a.textColor},children:p+1}),e.jsx("span",{className:`
                        flex-1 font-medium transition-colors duration-300
                        ${v?"text-white":"text-gray-300 group-hover:text-white"}
                      `,children:x.text}),v&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-green-500",children:"En cours"})]})]}),k&&e.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),c(I=>({...I,[x.id]:!I[x.id]}))},className:"p-1.5 rounded-lg transition-all duration-300 hover:bg-white/10",style:{color:a.textColor},children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{size:16,className:`transition-transform duration-300 ${A?"rotate-180":""}`}),!A&&x.subheadings.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full",style:{background:a.primary+"60"}})]})})]}),e.jsx(Y,{children:k&&A&&e.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"ml-8 mt-1 space-y-1 border-l-2 border-gray-700/50 pl-4",children:x.subheadings.map(S=>{const I=l===S.id;return e.jsxs("a",{href:`#${S.id}`,className:`
                                flex items-center gap-2 py-2 px-3 rounded-lg
                                text-sm transition-all duration-200
                                ${I?"bg-white/10":"hover:bg-white/5"}
                              `,style:{color:I?a.textColor:"#9ca3af"},children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:I?a.primary:"#4b5563"}}),e.jsx("span",{className:"line-clamp-1",children:S.text}),I&&e.jsx(Fe,{size:12,className:"ml-auto",style:{color:a.primary}})]},S.id)})})})})]},x.id)})})}),e.jsxs("div",{className:"p-4 border-t",style:{borderColor:a.borderColor+"30"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Progression de lecture"}),e.jsxs("span",{className:"text-xs font-medium",style:{color:a.textColor},children:[Math.round(s),"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(z.div,{className:"h-full rounded-full",style:{background:a.bgGradient,width:`${s}%`},transition:{duration:.1}})})]})]})})]})},Qt=({format:t="rectangle",className:l=""})=>e.jsx("div",{className:`relative ${l}`,children:e.jsx("div",{className:`
      p-4 bg-gray-900/50 border border-dashed border-gray-700 rounded-xl
      flex flex-col items-center justify-center text-center
      ${t==="skyscraper"?"min-h-[600px]":"min-h-[250px]"}
    `,children:e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-600",children:"PublicitÃ©"})})}),Gt=({article:t,relatedArticles:l,latestArticles:s=[],headings:a,activeSection:i,scrollProgress:n,colors:o,onShare:u})=>{const[c,r]=m.useState("flash"),[g,h]=m.useState([]),[x,p]=m.useState([]),[v,k]=m.useState([]),[A,C]=m.useState(null),[S,I]=m.useState(null),[R,d]=m.useState(!0),j=((a==null?void 0:a.length)||0)>=3;m.useEffect(()=>{(async()=>{try{d(!0);const y=await Oe();if(y&&y.length>0){h(y.slice(0,6));const T=y.filter(E=>E.isTrending).slice(0,6);p(T.length>0?T:y.slice(0,5));const $=y.filter(E=>E.contentType==="emission");k($.slice(0,6)),I($[0]||null);const U=y.find(E=>E.isTrending&&E._id!==t._id)||y.find(E=>E._id!==t._id);C(U||null)}}catch(y){console.error("Erreur chargement articles:",y)}finally{d(!1)}})()},[t._id]);const N=f=>{const y=new Date,T=new Date(f),$=Math.floor((y.getTime()-T.getTime())/(1e3*60*60)),U=Math.floor($/24);return $<1?"Ã€ l'instant":$<24?`${$}h`:U===1?"Hier":U<7?`${U}j`:T.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},b=()=>{switch(c){case"flash":return g;case"trending":return x;case"emissions":return v;default:return g}},L=(f,y=200)=>{var T,$,U,E,W,M,F,Q,K;try{if(($=(T=f.mainImage)==null?void 0:T.asset)!=null&&$.url)return f.mainImage.asset.url;if((E=(U=f.mainImage)==null?void 0:U.asset)!=null&&E._ref)return D(f.mainImage).width(y).height(y).url();if((W=f.mainImage)!=null&&W.asset)try{return D(f.mainImage).width(y).height(y).url()}catch{}return typeof f.mainImage=="string"&&f.mainImage.startsWith("http")?f.mainImage:f.mainImageUrl?f.mainImageUrl:(F=(M=f.image)==null?void 0:M.asset)!=null&&F.url?f.image.asset.url:(K=(Q=f.image)==null?void 0:Q.asset)!=null&&K._ref?D(f.image).width(y).height(y).url():null}catch(_){return console.error("Error getting article image:",_),null}},P=[{id:"flash",label:"Flash",icon:ct},{id:"trending",label:"Tendances",icon:Ee},{id:"emissions",label:"VidÃ©os",icon:de}],H=f=>{if(!f)return"bg-gray-500/20 text-gray-400";const y=f.toLowerCase();return y.includes("actu")?"bg-pink-500/20 text-pink-400":y.includes("match")?"bg-blue-500/20 text-blue-400":y.includes("joueur")?"bg-emerald-500/20 text-emerald-400":y.includes("meme")||y.includes("mÃ¨me")?"bg-amber-500/20 text-amber-400":y.includes("club")?"bg-purple-500/20 text-purple-400":y.includes("emission")||y.includes("Ã©mission")?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"},w=f=>{var y,T;return f.contentType?{emission:"Ã‰MISSION",analyse:"ANALYSE",interview:"INTERVIEW",actualite:"ACTUS","match-report":"MATCHS"}[f.contentType]||f.contentType.toUpperCase():(T=(y=f.categories)==null?void 0:y[0])!=null&&T.title?f.categories[0].title.toUpperCase():"ACTUS"};return e.jsxs("div",{className:"space-y-6",children:[t.author&&e.jsx(He,{author:t.author,publishedAt:t.publishedAt,colors:o,variant:"desktop"}),j&&a&&a.length>0&&e.jsx(Ve,{headings:a,activeSection:i,scrollProgress:n,colors:o,variant:"desktop"}),e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"p-1 bg-black/30",children:e.jsx("div",{className:"flex gap-1",children:P.map(f=>{const y=f.icon,T=c===f.id;return e.jsxs("button",{onClick:()=>r(f.id),className:`
                    flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg
                    text-sm font-medium transition-all
                    ${T?"bg-gradient-to-r from-pink-500 to-rose-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[e.jsx(y,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:f.label})]},f.id)})})}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:R?e.jsx("div",{className:"p-6 text-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"})}):e.jsx("div",{className:"p-2 space-y-1",children:b().map(f=>{const y=L(f),T=w(f),$=H(T);return e.jsxs(B,{to:`/article/${f.slug.current}`,className:"group flex items-start gap-3 p-2 rounded-lg hover:bg-white/5 transition-all",children:[y&&e.jsx("div",{className:"w-14 h-10 rounded-md overflow-hidden flex-shrink-0 bg-gray-800",children:e.jsx("img",{src:y,alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:`inline-block text-[9px] font-bold px-1.5 py-0.5 rounded mb-1 ${$}`,children:T}),e.jsx("h4",{className:"text-sm text-gray-300 group-hover:text-white transition-colors line-clamp-2 leading-snug",children:f.title}),e.jsx("span",{className:"text-xs text-gray-500",children:N(f.publishedAt||"")})]})]},f._id)})})}),e.jsxs(B,{to:"/articles",className:"flex items-center justify-center gap-2 text-sm text-gray-400 hover:text-white p-3 border-t border-white/5",children:["Voir tous les articles ",e.jsx(Z,{size:14})]})]}),A&&e.jsxs(B,{to:`/article/${A.slug.current}`,className:"block group rounded-xl overflow-hidden bg-gray-900/80 border border-white/10",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[L(A,600)?e.jsx("img",{src:L(A,600),alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-1.5 px-2 py-1 bg-pink-500 rounded-md",children:[e.jsx(dt,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs font-bold text-white",children:"Ã€ la une"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:A.title}),A.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:A.excerpt})]})]}),S&&e.jsxs("div",{className:"rounded-xl overflow-hidden bg-gray-900/80 border border-white/10",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center",children:e.jsx(de,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:"DerniÃ¨re Ã©mission"})]}),e.jsxs(B,{to:`/article/${S.slug.current}`,className:"block group",children:[e.jsxs("div",{className:"relative aspect-video",children:[L(S,600)?e.jsx("img",{src:L(S,600),alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-500/20 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:e.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:e.jsx(de,{size:24,className:"text-white ml-1"})})})]}),e.jsx("div",{className:"p-3",children:e.jsx("h4",{className:"text-sm font-medium text-white group-hover:text-pink-400 transition-colors line-clamp-2",children:S.title})})]})]}),e.jsxs("div",{className:"rounded-xl bg-gray-900/80 border border-white/10 p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Suivez-nous"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("a",{href:"https://youtube.com/@octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-red-500/10 hover:bg-red-500/20 transition-colors group",children:[e.jsx(xt,{size:20,className:"text-red-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"YouTube"})]}),e.jsxs("a",{href:"https://instagram.com/octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-pink-500/10 hover:bg-pink-500/20 transition-colors group",children:[e.jsx(re,{size:20,className:"text-pink-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"Instagram"})]}),e.jsxs("a",{href:"https://twitter.com/octogoal",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 transition-colors group",children:[e.jsx(ae,{size:20,className:"text-blue-500"}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white",children:"Twitter"})]})]})]}),j&&l.length>0&&e.jsxs("div",{className:"rounded-xl bg-gray-900/80 border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center",children:e.jsx(Be,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Ã€ lire aussi"})]}),e.jsx("div",{className:"p-2 space-y-1",children:l.slice(0,4).map(f=>{const y=L(f);return e.jsxs(B,{to:`/article/${f.slug.current}`,className:"group flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-all",children:[e.jsx("div",{className:"w-14 h-10 rounded-md overflow-hidden flex-shrink-0 bg-gray-800",children:y?e.jsx("img",{src:y,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-700"})}),e.jsx("h4",{className:"flex-1 text-sm text-gray-300 group-hover:text-white transition-colors line-clamp-2",children:f.title})]},f._id)})})]}),e.jsx(Qt,{format:"skyscraper"})]})},Wt=({articles:t,colors:l})=>{if(t.length===0)return null;const s=a=>{var i,n;return(i=a==null?void 0:a.asset)!=null&&i.url?a.asset.url:(n=a==null?void 0:a.asset)!=null&&n._ref?`https://cdn.sanity.io/images/5rn8u6ed/production/${a.asset._ref.replace("image-","").replace("-jpg",".jpg").replace("-jpeg",".jpeg").replace("-png",".png").replace("-webp",".webp")}?w=400&h=250&fit=crop&auto=format`:null};return e.jsx("section",{className:"py-20 bg-gradient-to-b from-transparent via-gray-900/20 to-transparent",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Continuez votre lecture"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"DÃ©couvrez d'autres articles qui pourraient vous intÃ©resser"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.slice(0,6).map((a,i)=>{var c;const o=(()=>{var g,h,x,p;switch((p=(x=(h=(g=a.categories)==null?void 0:g[0])==null?void 0:h.slug)==null?void 0:x.current)==null?void 0:p.toLowerCase()){case"story":case"recits":return{gradient:"from-amber-500 to-orange-500",primary:"#f59e0b",textColor:"#fbbf24",borderColor:"rgba(245, 158, 11, 0.3)"};case"business":return{gradient:"from-blue-500 to-cyan-500",primary:"#3b82f6",textColor:"#60a5fa",borderColor:"rgba(59, 130, 246, 0.3)"};case"mental":case"psycho":return{gradient:"from-purple-500 to-violet-500",primary:"#a855f7",textColor:"#c084fc",borderColor:"rgba(168, 85, 247, 0.3)"};case"society":return{gradient:"from-emerald-500 to-teal-500",primary:"#10b981",textColor:"#34d399",borderColor:"rgba(16, 185, 129, 0.3)"};default:return{gradient:"from-gray-500 to-gray-600",primary:"#6b7280",textColor:"#9ca3af",borderColor:"rgba(107, 114, 128, 0.3)"}}})(),u=s(a.mainImage);return e.jsx(z.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"group",children:e.jsx(B,{to:`/article/${a.slug.current}`,children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-white/5 border transition-all hover:transform hover:scale-105",style:{borderColor:o.borderColor},onMouseEnter:r=>{r.currentTarget.style.borderColor=o.primary},onMouseLeave:r=>{r.currentTarget.style.borderColor=o.borderColor},children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-900",children:[u?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:u,alt:a.title||"Article image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy",onError:r=>{const g=r.currentTarget;g.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})]}):e.jsx("div",{className:`w-full h-full bg-gradient-to-br ${o.gradient} opacity-50`,children:e.jsx("div",{className:"absolute inset-0 bg-black/40"})}),a.categories&&a.categories[0]&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium text-white bg-gradient-to-r ${o.gradient} shadow-lg`,children:a.categories[0].title})}),a.readingTime&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium text-white bg-black/60 backdrop-blur",children:[a.readingTime," min"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3 line-clamp-2 group-hover:text-opacity-90 transition-colors",children:a.title}),a.excerpt&&e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-4",children:a.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[((c=a.author)==null?void 0:c.name)&&e.jsxs("span",{className:"truncate max-w-[60%]",children:["Par ",a.author.name]}),a.publishedAt&&e.jsx("span",{children:new Date(a.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300",style:{background:`linear-gradient(to right, ${o.primary}, ${o.textColor})`}})]})})},a._id)})}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(B,{to:"/articles",className:`inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r ${l.gradient} hover:opacity-90 text-white rounded-lg font-medium transition-all transform hover:scale-105`,children:["Voir tous les articles",e.jsx(ne,{size:20})]})})]})})},Yt=({isOpen:t,onClose:l,shareUrl:s,shareTitle:a,shareText:i})=>{const[n,o]=m.useState(!1),u=()=>{navigator.clipboard.writeText(s),o(!0),setTimeout(()=>{o(!1),l()},1e3)},c=[{name:"Twitter",icon:ae,color:"hover:bg-blue-500/20 hover:text-blue-400",url:`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(s)}`},{name:"LinkedIn",icon:mt,color:"hover:bg-blue-700/20 hover:text-blue-600",url:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(s)}`},{name:"Facebook",icon:ht,color:"hover:bg-blue-600/20 hover:text-blue-500",url:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`},{name:"WhatsApp",icon:Re,color:"hover:bg-green-500/20 hover:text-green-400",url:`https://wa.me/?text=${encodeURIComponent(a+" "+s)}`},{name:"Telegram",icon:gt,color:"hover:bg-sky-500/20 hover:text-sky-400",url:`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${encodeURIComponent(a)}`},{name:"Email",icon:ut,color:"hover:bg-purple-500/20 hover:text-purple-400",url:`mailto:?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(i+`

`+s)}`}];return e.jsx(Y,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]"}),e.jsxs(z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"fixed inset-x-4 bottom-20 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-[90%] max-w-md bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-gray-700/50 shadow-2xl z-[101]",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 md:p-6 border-b border-gray-700/50",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:"Partager cet article"}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(De,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"p-5 md:p-6 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map(r=>{const g=r.icon;return e.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",onClick:l,className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10 transition-all ${r.color}`,children:[e.jsx(g,{size:20,className:"md:hidden"}),e.jsx(g,{size:24,className:"hidden md:block"}),e.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:r.name})]},r.name)})}),e.jsxs("div",{className:"pt-4 border-t border-gray-700/50",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mb-3",children:"Ou copier le lien"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-3 py-2.5 md:px-4 md:py-3 bg-black/50 border border-gray-700 rounded-lg text-gray-300 text-xs md:text-sm"}),e.jsxs("button",{onClick:u,className:"px-3 py-2.5 md:px-4 md:py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm",children:[n?e.jsx(ie,{size:16,className:"md:hidden"}):e.jsx(Ne,{size:16,className:"md:hidden"}),n?e.jsx(ie,{size:18,className:"hidden md:block"}):e.jsx(Ne,{size:18,className:"hidden md:block"}),e.jsx("span",{className:"hidden sm:inline",children:n?"CopiÃ©!":"Copier"})]})]})]})]})]})]})})},xe=[{_id:"1",title:"Comment dÃ©buter en programmation web en 2024",slug:{current:"comment-debuter-programmation"},excerpt:"Guide complet pour apprendre la programmation web de zÃ©ro. DÃ©couvrez les langages essentiels, les outils indispensables et la roadmap parfaite pour devenir dÃ©veloppeur.",body:[{_type:"block",children:[{text:"La programmation web est l'un des domaines les plus accessibles et demandÃ©s du dÃ©veloppement logiciel. Que vous souhaitiez crÃ©er des sites vitrines, des applications web complexes ou mÃªme devenir freelance, ce guide vous donnera toutes les clÃ©s pour rÃ©ussir.",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"Les langages fondamentaux",_type:"span"}]},{_type:"block",children:[{text:"HTML (HyperText Markup Language) est le squelette de toute page web. Il dÃ©finit la structure et le contenu : les titres, paragraphes, listes, liens, images, formulaires et tableaux.",_type:"span"}]},{_type:"block",children:[{text:"CSS (Cascading Style Sheets) s'occupe de la prÃ©sentation : couleurs, polices, espacements, mise en page responsive, animations et transitions.",_type:"span"}]},{_type:"block",children:[{text:"JavaScript apporte l'interactivitÃ© : manipulation du DOM, gestion des Ã©vÃ©nements, communication avec les APIs.",_type:"span"}]}],publishedAt:"2024-12-01T10:00:00.000Z",author:{name:"Alex DÃ©veloppeur",bio:"DÃ©veloppeur fullstack passionnÃ© avec 5 ans d'expÃ©rience. SpÃ©cialisÃ© en React, Node.js et formations."},categories:[{title:"Programmation",slug:{current:"programmation"}},{title:"DÃ©butant",slug:{current:"debutant"}}],tags:[{title:"HTML",slug:{current:"html"}},{title:"CSS",slug:{current:"css"}},{title:"JavaScript",slug:{current:"javascript"}}],readingTime:8,views:1247,likes:89},{_id:"2",title:"MaÃ®triser les React Hooks : Guide complet 2024",slug:{current:"react-hooks-guide"},excerpt:"DÃ©couvrez tous les secrets des React Hooks avec des exemples pratiques. useState, useEffect, useContext et hooks personnalisÃ©s expliquÃ©s simplement.",body:[{_type:"block",children:[{text:"Les React Hooks ont rÃ©volutionnÃ© la faÃ§on d'Ã©crire des composants React. Fini les classes complexes, place Ã  des fonctions Ã©lÃ©gantes et rÃ©utilisables !",_type:"span"}]},{_type:"block",style:"h2",children:[{text:"useState : GÃ©rer l'Ã©tat local",_type:"span"}]},{_type:"block",children:[{text:"Le hook le plus utilisÃ© pour gÃ©rer l'Ã©tat dans vos composants. Exemple : const [count, setCount] = useState(0);",_type:"span"}]}],publishedAt:"2024-11-28T14:30:00.000Z",author:{name:"Marie Frontend",bio:"Experte React avec une passion pour l'architecture frontend moderne."},categories:[{title:"React",slug:{current:"react"}},{title:"AvancÃ©",slug:{current:"avance"}}],tags:[{title:"React",slug:{current:"react"}},{title:"Hooks",slug:{current:"hooks"}}],readingTime:12,views:892,likes:156},{_id:"3",title:"CSS Grid vs Flexbox : Quand utiliser quoi ?",slug:{current:"css-grid-vs-flexbox"},excerpt:"Comprendre les diffÃ©rences entre CSS Grid et Flexbox. DÃ©couvrez quand et comment utiliser chaque technique pour crÃ©er des layouts parfaits.",body:[{_type:"block",children:[{text:"CSS Grid et Flexbox sont deux systÃ¨mes de mise en page puissants mais avec des objectifs diffÃ©rents. Ce guide vous aide Ã  choisir la bonne solution.",_type:"span"}]}],publishedAt:"2024-11-25T09:15:00.000Z",author:{name:"Sophie Design",bio:"Designer UI/UX spÃ©cialisÃ©e dans les interfaces web modernes et accessibles."},categories:[{title:"CSS",slug:{current:"css"}},{title:"Design",slug:{current:"design"}}],tags:[{title:"CSS",slug:{current:"css"}},{title:"Layout",slug:{current:"layout"}}],readingTime:6,views:654,likes:78},{_id:"4",title:"API REST vs GraphQL : Le guide complet",slug:{current:"api-rest-vs-graphql"},excerpt:"Comparaison dÃ©taillÃ©e entre REST et GraphQL. Avantages, inconvÃ©nients, et cas d'usage pour vous aider Ã  faire le bon choix architectural.",body:[{_type:"block",children:[{text:"Le choix entre REST et GraphQL est crucial pour votre architecture. Chaque approche a ses avantages selon votre contexte projet.",_type:"span"}]}],publishedAt:"2024-11-22T16:45:00.000Z",author:{name:"Thomas Backend",bio:"Architecte logiciel spÃ©cialisÃ© dans les APIs et les systÃ¨mes distribuÃ©s."},categories:[{title:"Backend",slug:{current:"backend"}},{title:"API",slug:{current:"api"}}],tags:[{title:"REST",slug:{current:"rest"}},{title:"GraphQL",slug:{current:"graphql"}}],readingTime:10,views:1089,likes:134}];class Jt{static delay(l=300){return new Promise(s=>setTimeout(s,l))}static async getAllArticles(){return await this.delay(),[...xe].sort((l,s)=>new Date(s.publishedAt).getTime()-new Date(l.publishedAt).getTime())}static async getArticleBySlug(l){return await this.delay(),xe.find(s=>s.slug.current===l)||null}static async getRelatedArticles(l,s=3){return await this.delay(),xe.filter(a=>a._id!==l).slice(0,s)}}const se=t=>t?typeof t=="string"?t:t._type==="block"&&t.children?t.children.map(l=>l.text||"").join(""):Array.isArray(t)?t.map(l=>l._type==="block"&&l.children?l.children.map(s=>s.text||"").join(""):"").join(" "):t.text?t.text:"":"",Zt=t=>({gradient:"from-pink-500 to-rose-600",bgGradient:"linear-gradient(135deg, rgb(236 72 153), rgb(225 29 72))",primary:"#ec4899",secondary:"#e11d48",bgLight:"rgba(236, 72, 153, 0.1)",bgMedium:"rgba(236, 72, 153, 0.2)",borderColor:"rgba(236, 72, 153, 0.3)",textColor:"#f472b6"}),Xt=t=>{if(!(t!=null&&t.body))return null;const l=[];let s=null;return t.body.filter(a=>a._type==="block"&&["h2","h3"].includes(a.style)).forEach(a=>{var u,c;const i=((c=(u=a.children)==null?void 0:u[0])==null?void 0:c.text)||"",o=`${a.style==="h2"?"h2-":"h3-"}${i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`;a.style==="h2"?(s={id:o,text:i,subheadings:[]},l.push(s)):a.style==="h3"&&(s?s.subheadings.push({id:o,text:i}):l.push({id:o,text:i,subheadings:[]}))}),l.length>0?l:null},ds=({isEmission:t=!1})=>{var E,W;const{slug:l}=We(),[s,a]=m.useState(null),[i,n]=m.useState([]),[o,u]=m.useState([]),[c,r]=m.useState(!0),[g,h]=m.useState(null),[x,p]=m.useState(!1),[v,k]=m.useState(!1),[A,C]=m.useState(0),[S,I]=m.useState("local"),[R,d]=m.useState(0),[j,N]=m.useState("intro"),[b,L]=m.useState(!1),[P,H]=m.useState(!1);m.useEffect(()=>{const M=()=>{const F=document.documentElement.scrollHeight-window.innerHeight,Q=window.scrollY/F*100;d(Math.min(Q,100)),document.querySelectorAll("section[id], h2[id], h3[id]").forEach(_=>{const V=_.getBoundingClientRect();V.top<=150&&V.bottom>=150&&N(_.id)})};return window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[]),m.useEffect(()=>{(async()=>{var F;if(!l){h("Slug de l'article manquant."),r(!1);return}try{r(!0),h(null);const K=new URLSearchParams(window.location.search).get("preview")==="true";let _=null;try{_=await bt(l,K),_&&(I("sanity"),_.excerpt&&(_.excerpt=se(_.excerpt)),(F=_.author)!=null&&F.bio&&(_.author.bio=se(_.author.bio)),_.keyPoints&&!Array.isArray(_.keyPoints)?delete _.keyPoints:_.keyPoints&&Array.isArray(_.keyPoints)&&(_.keyPoints=_.keyPoints.map(V=>typeof V=="string"?V:se(V)).filter(Boolean)))}catch(V){console.error("Erreur Sanity:",V)}if(_||(_=await Jt.getArticleBySlug(l),I("local")),!_)h("Article non trouvÃ©");else{a(_),C(_.likes||0);const V=JSON.parse(localStorage.getItem("bookmarks")||"[]");p(V.includes(_._id));try{const oe=(await Oe()).map(O=>({...O,excerpt:se(O.excerpt)}));let G;if(_.categories&&_.categories.length>0){const O=_.categories.map(q=>q._id);G=oe.filter(q=>q._id===_._id?!1:q.categories&&q.categories.length>0?q.categories.some(ee=>O.includes(ee._id)):!1)}if(!G||G.length<6){const O=oe.filter(q=>q._id!==_._id).filter(q=>!(G!=null&&G.some(ee=>ee._id===q._id)));G=[...G||[],...O].slice(0,6)}n(G||[]);const Qe=oe.filter(O=>O._id!==_._id).sort((O,q)=>{const ee=new Date(O.publishedAt||O._createdAt).getTime();return new Date(q.publishedAt||q._createdAt).getTime()-ee}).slice(0,6);u(Qe)}catch(ue){console.error("Erreur chargement articles liÃ©s:",ue)}}}catch(Q){console.error("Erreur lors du chargement:",Q),h("Erreur lors du chargement de l'article")}finally{r(!1)}})()},[l,t]),m.useEffect(()=>{window.scrollTo(0,0)},[l]),m.useCallback(()=>{k(M=>!M),C(M=>v?M-1:M+1)},[v]),m.useCallback(()=>{if(!s)return;const M=JSON.parse(localStorage.getItem("bookmarks")||"[]");if(x){const F=M.filter(Q=>Q!==s._id);localStorage.setItem("bookmarks",JSON.stringify(F))}else M.push(s._id),localStorage.setItem("bookmarks",JSON.stringify(M));p(F=>!F)},[s,x]);const w=m.useCallback(()=>{L(!0)},[]),f=m.useMemo(()=>Zt(),[s]),y=m.useMemo(()=>Xt(s),[s]),T=typeof window<"u"?window.location.href:"",$=(s==null?void 0:s.title)||"",U=(s==null?void 0:s.excerpt)||"";return c?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(Je,{})}):g||!s?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{message:g||"Article non trouvÃ©"}),e.jsxs(B,{to:"/",className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 px-6 py-3 rounded-lg text-white transition-colors mt-4",children:[e.jsx(pt,{size:20}),"Retour Ã  l'accueil"]})]})}):e.jsxs(Xe,{children:[e.jsx(Ye,{title:s.title,description:s.excerpt,keywords:(E=s.tags)==null?void 0:E.map(M=>M.title).join(", "),author:(W=s.author)==null?void 0:W.name,publishedTime:s.publishedAt,image:s.mainImage}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        /* Fix pour empÃªcher le scroll horizontal sur mobile */
        html, body {
          overflow-x: hidden !important;
          max-width: 100vw !important;
          position: relative;
        }
        body {
          overscroll-behavior-x: none;
        }
        p, h1, h2, h3, h4, h5, h6, li, span {
          word-wrap: break-word;
          overflow-wrap: break-word;
        }
        #root, main {
          overflow-x: hidden !important;
        }
      `}),e.jsx(Yt,{isOpen:b,onClose:()=>L(!1),shareUrl:T,shareTitle:$,shareText:U}),e.jsx("div",{className:`fixed top-0 left-0 h-1 bg-gradient-to-r ${f.gradient} z-[60] transition-all duration-300`,style:{width:`${R}%`}}),e.jsxs("div",{className:"min-h-screen bg-black text-white overflow-x-hidden",children:[e.jsx(vt,{article:s,colors:f}),y&&y.length>0&&e.jsx(Ve,{headings:y,activeSection:j,scrollProgress:R,colors:f,variant:"mobile",mobileMenuOpen:P,setMobileMenuOpen:H}),e.jsx("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[s.author&&e.jsx(He,{author:s.author,publishedAt:s.publishedAt,colors:f,variant:"mobile"}),e.jsx(Vt,{article:s,colors:f,isEmission:t})]}),e.jsx("div",{className:"hidden lg:block lg:col-span-4",children:e.jsx(Gt,{article:s,relatedArticles:i,latestArticles:o,headings:y,activeSection:j,scrollProgress:R,colors:f,onShare:w})})]})}),e.jsx(Wt,{articles:i,colors:f}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/90 backdrop-blur-lg border-t border-white/10 p-4 lg:hidden z-50",children:e.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 py-3 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[e.jsx(ge,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Partager cet article"})]})})]}),e.jsx(Ke,{})]})};export{ds as default};
