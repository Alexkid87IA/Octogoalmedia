import{j as e}from"./sanity-DxjeYfqd.js";import{f as y,h as N,r as i,L as c}from"./react-vendor-Lq1VaXCH.js";import{k as v,n as w}from"./index-Bg9Yd0co.js";import{T as g,I as k,g as S,o as $,m as T}from"./ui-DP1UjouT.js";function P(){const a=new Date,l=a.getFullYear();return a.getMonth()<7?`${l-1}-${String(l).slice(-2)}`:`${l}-${String(l+1).slice(-2)}`}function E(){const{leagueId:a}=y(),[l,o]=N(),[x,b]=i.useState([]),[u,d]=i.useState(!0),[r,p]=i.useState(l.get("tab")||"scorers"),n=a?v(parseInt(a)):null;i.useEffect(()=>{async function s(){if(a){d(!0);try{const t=await w(a);b(t||[])}catch(t){console.error("Error fetching scorers:",t)}finally{d(!1)}}}s()},[a]);const m=s=>{p(s),o({tab:s})},h=r==="scorers"?[...x].sort((s,t)=>t.goals-s.goals):[...x].filter(s=>s.assists>0).sort((s,t)=>t.assists-s.assists);return n?e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(236,72,153,0.15),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(59,130,246,0.15),transparent_50%)]"})]}),e.jsx("header",{className:"relative pt-24 pb-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[e.jsxs(c,{to:`/classements?league=${a}`,className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsxs("span",{children:["Retour à ",n.name]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${n.color} flex items-center justify-center`,children:e.jsx("span",{className:"text-3xl",children:n.flag})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white",children:r==="scorers"?"Meilleurs Buteurs":"Meilleurs Passeurs"}),e.jsxs("p",{className:"text-gray-400",children:[n.name," ",P()]})]})]}),e.jsxs("div",{className:"flex gap-2 bg-gray-900/50 p-1 rounded-xl w-fit",children:[e.jsxs("button",{onClick:()=>m("scorers"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${r==="scorers"?"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg shadow-pink-500/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{children:"Buteurs"})]}),e.jsxs("button",{onClick:()=>m("assists"),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${r==="assists"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:"Passeurs"})]})]})]})}),e.jsx("main",{className:"relative max-w-5xl mx-auto px-4 pb-12",children:u?e.jsx("div",{className:"space-y-3",children:[...Array(10)].map((s,t)=>e.jsx("div",{className:"bg-gray-900/50 rounded-xl h-20 animate-pulse"},t))}):h.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(g,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Aucune donnée disponible"})]}):e.jsx("div",{className:"space-y-2",children:h.map((s,t)=>{const j=r==="scorers"?s.goals:s.assists,f=t<3;return e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.03},children:e.jsxs(c,{to:`/player/${s.player.id}`,className:`flex items-center gap-4 p-4 rounded-xl transition-all hover:scale-[1.01] ${f?"bg-gradient-to-r from-gray-900/80 to-gray-800/50 border border-white/10":"bg-gray-900/30 hover:bg-gray-900/50"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-lg ${t===0?"bg-gradient-to-br from-yellow-400 to-amber-500 text-black":t===1?"bg-gradient-to-br from-gray-300 to-gray-400 text-black":t===2?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-gray-800 text-gray-400"}`,children:t+1}),e.jsxs("div",{className:"relative",children:[s.player.photo?e.jsx("img",{src:s.player.photo,alt:s.player.name,className:"w-14 h-14 rounded-full object-cover bg-gray-800"}):e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-gray-400",children:s.player.name.charAt(0)})}),e.jsx("img",{src:s.team.crest,alt:s.team.name,className:"absolute -bottom-1 -right-1 w-6 h-6 object-contain bg-black rounded-full p-0.5"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-bold text-lg truncate",children:s.player.name}),e.jsx("p",{className:"text-gray-400 text-sm truncate",children:s.team.name})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[r==="scorers"&&s.assists>0&&e.jsxs("div",{className:"text-center hidden sm:block",children:[e.jsx("div",{className:"text-blue-400 font-bold",children:s.assists}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Passes"})]}),r==="assists"&&s.goals>0&&e.jsxs("div",{className:"text-center hidden sm:block",children:[e.jsx("div",{className:"text-pink-400 font-bold",children:s.goals}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Buts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-3xl font-black ${r==="scorers"?"text-pink-400":"text-blue-400"}`,children:j}),e.jsx("div",{className:"text-gray-500 text-xs",children:r==="scorers"?"Buts":"Passes"})]})]})]})},s.player.id)})})})]}):e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Compétition non trouvée"}),e.jsx(c,{to:"/classements",className:"text-pink-400 hover:underline",children:"Retour au football"})]})})}export{E as default};
