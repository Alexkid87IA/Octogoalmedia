import{j as e}from"./sanity-tkM5Czdy.js";import{r as m,f as Be,L as b}from"./react-vendor-DFZZ7aeY.js";import{r as J,F as Ge,G as Ke,I as Ye,J as Je,K as ze,M as $e,q as Xe,g as Qe,k as Ze,w as Me}from"./index-97bC7vSA.js";import{g as es,f as Z,i as ss,a as G}from"./oddsService-CAnMnsrv.js";import{f as ts,A as Fe,m as $,ao as Ee,ac as as,c as z,h as X,U as B,az as Q,K as ls,b as Ae,ap as is,g as ee,T as rs}from"./ui-kcrkP2Yo.js";const Pe=({homeTeam:i,awayTeam:s,competitionId:a,matchStatus:o="SCHEDULED"})=>{const[d,r]=m.useState(null),[x,n]=m.useState(!0),[c,N]=m.useState(null),[f,E]=m.useState(!1);m.useEffect(()=>{const L=async()=>{if(o==="FINISHED"){n(!1);return}try{n(!0),N(null),console.log("[OddsWidget] Searching odds for:",{homeTeam:i,awayTeam:s,competitionId:a});const M=await Z(i,s,a);console.log("[OddsWidget] Found odds:",M),r(M)}catch(M){console.error("[OddsWidget] Error:",M),N("Impossible de charger les cotes")}finally{n(!1)}};if(L(),o==="IN_PLAY"){const M=setInterval(L,18e4);return()=>clearInterval(M)}},[i,s,a,o]);const A=async()=>{n(!0);const L=await Z(i,s,a);r(L),n(!1)};if(o==="FINISHED")return null;const l=d==null?void 0:d.odds.winamax,R=d?es(d):null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-8 h-8 rounded-lg object-contain"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-bold text-sm",children:"Cotes Winamax"}),o==="IN_PLAY"&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-[10px] bg-red-500 text-white rounded animate-pulse",children:"LIVE"})]})]}),e.jsx("button",{onClick:A,disabled:x,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:e.jsx(ts,{className:`w-4 h-4 text-gray-400 ${x?"animate-spin":""}`})})]}),e.jsx("div",{className:"p-4",children:e.jsx(Fe,{mode:"wait",children:x?e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})},"loading"):c?e.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(Ee,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:c})]},"error"):l?e.jsxs($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(W,{label:i.split(" ").pop()||"1",value:l.home,isFavorite:R==="home",showProbability:f}),e.jsx(W,{label:"Nul",value:l.draw,isFavorite:R==="draw",showProbability:f}),e.jsx(W,{label:s.split(" ").pop()||"2",value:l.away,isFavorite:R==="away",showProbability:f})]}),l.overUnder&&e.jsxs("div",{className:"pt-3 border-t border-white/5",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Plus/Moins ",l.overUnder.line," buts"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(W,{label:`+ ${l.overUnder.line}`,value:l.overUnder.over,showProbability:f,small:!0}),e.jsx(W,{label:`- ${l.overUnder.line}`,value:l.overUnder.under,showProbability:f,small:!0})]})]}),e.jsx("button",{onClick:()=>E(!f),className:"w-full text-xs text-gray-500 hover:text-gray-300 transition-colors py-1",children:f?"Voir les cotes":"Voir les probabilitÃ©s"}),e.jsxs("p",{className:"text-[10px] text-gray-600 text-center leading-tight",children:["Cotes Ã  titre informatif uniquement.",e.jsx("br",{}),"Les paris comportent des risques."]})]},"odds"):e.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-6 text-center",children:[e.jsx(as,{className:"w-8 h-8 text-gray-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Cotes indisponibles"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"pour ce match"})]},"no-odds")})})]})},W=({label:i,value:s,isFavorite:a=!1,showProbability:o=!1,small:d=!1})=>{const r=o?`${ss(s).toFixed(0)}%`:G(s);return e.jsxs("div",{className:`
        relative flex flex-col items-center justify-center rounded-lg
        transition-all duration-200 cursor-default
        ${d?"py-2 px-3":"py-3 px-2"}
        ${a?"bg-green-500/20 border border-green-500/30":"bg-white/5 border border-white/10 hover:bg-white/10"}
      `,children:[e.jsx("span",{className:`text-gray-400 ${d?"text-[10px]":"text-xs"} mb-0.5`,children:i}),e.jsx("span",{className:`
          font-bold
          ${d?"text-sm":"text-lg"}
          ${a?"text-green-400":"text-white"}
        `,children:r}),a&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]})},V=({label:i,homeValue:s,awayValue:a,isPercentage:o=!1})=>{const d=s+a||1,r=s/d*100,x=a/d*100;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-white font-bold",children:[s,o?"%":""]}),e.jsx("span",{className:"text-gray-400",children:i}),e.jsxs("span",{className:"text-white font-bold",children:[a,o?"%":""]})]}),e.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-800",children:[e.jsx($.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:.8},className:"bg-gradient-to-r from-pink-500 to-pink-400"}),e.jsx($.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:.8},className:"bg-gradient-to-l from-blue-500 to-blue-400"})]})]})},ns=({type:i,detail:s})=>{switch(i){case"Goal":return e.jsx("span",{className:"text-2xl",children:"âš½"});case"Card":return s==="Red Card"?e.jsx("span",{className:"text-2xl",children:"ðŸŸ¥"}):s==="Second Yellow card"?e.jsx("span",{className:"text-2xl",children:"ðŸŸ¨ðŸŸ¥"}):e.jsx("span",{className:"text-2xl",children:"ðŸŸ¨"});case"subst":return e.jsx("span",{className:"text-2xl",children:"ðŸ”„"});case"Var":return e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded",children:"VAR"});default:return e.jsx("span",{className:"text-2xl",children:"ðŸ“‹"})}},Ie=({result:i})=>{const s={W:"bg-green-500 text-white",D:"bg-gray-500 text-white",L:"bg-red-500 text-white"},a={W:"V",D:"N",L:"D"};return e.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded text-xs font-bold ${s[i]}`,children:a[i]})},cs=({standings:i,homeTeamId:s,awayTeamId:a,competitionId:o})=>{if(i.length===0)return null;const d=i.findIndex(c=>c.team.id===s),r=i.findIndex(c=>c.team.id===a),x=Math.max(0,Math.min(d,r)-2),n=i.slice(x,x+7);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Classement"})]}),e.jsx(b,{to:`/classements?league=${o}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout â†’"})]}),e.jsx("div",{className:"p-2",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-500",children:[e.jsx("th",{className:"py-1 px-2 text-left",children:"#"}),e.jsx("th",{className:"py-1 px-2 text-left",children:"Ã‰quipe"}),e.jsx("th",{className:"py-1 px-2 text-center",children:"MJ"}),e.jsx("th",{className:"py-1 px-2 text-center",children:"Pts"})]})}),e.jsx("tbody",{children:n.map(c=>{const N=c.team.id===s||c.team.id===a,f=c.team.id===s;return c.team.id,e.jsxs("tr",{className:`border-t border-white/5 ${N?f?"bg-pink-500/10":"bg-blue-500/10":""}`,children:[e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded text-xs font-bold ${c.position<=4?"bg-blue-500/30 text-blue-400":c.position>=i.length-2?"bg-red-500/30 text-red-400":"text-gray-400"}`,children:c.position})}),e.jsx("td",{className:"py-2 px-2",children:e.jsxs(b,{to:`/classements/club/${c.team.id}`,className:"flex items-center gap-2 hover:text-pink-400",children:[e.jsx("img",{src:c.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:`truncate max-w-[80px] ${N?"text-white font-bold":"text-gray-300"}`,children:c.team.name})]})}),e.jsx("td",{className:"py-2 px-2 text-center text-gray-400",children:c.playedGames}),e.jsx("td",{className:"py-2 px-2 text-center text-white font-bold",children:c.points})]},c.team.id)})})]})})]})},Le=({scorers:i,competitionId:s})=>{const[a,o]=m.useState(!1);if(i.length===0)return null;const d=[...i].filter(x=>x.assists>0).sort((x,n)=>n.assists-x.assists).slice(0,5),r=a?d:i.slice(0,5);return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:a?"ðŸŽ¯":"âš½"}),e.jsx("span",{className:"text-white font-bold text-sm",children:a?"Meilleurs passeurs":"Meilleurs buteurs"})]}),e.jsx(b,{to:`/classements?league=${s}`,className:"text-xs text-pink-400 hover:text-pink-300",children:"Voir tout â†’"})]}),e.jsxs("div",{className:"flex border-b border-white/10",children:[e.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-2 text-xs font-medium transition-colors ${a?"text-gray-500 hover:text-gray-300":"text-pink-400 bg-pink-500/10 border-b-2 border-pink-500"}`,children:"âš½ Buteurs"}),e.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-2 text-xs font-medium transition-colors ${a?"text-blue-400 bg-blue-500/10 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-300"}`,children:"ðŸŽ¯ Passeurs"})]}),e.jsx("div",{className:"p-3 space-y-2",children:r.length===0?e.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"Aucune donnÃ©e disponible"}):r.map((x,n)=>e.jsxs(b,{to:`/player/${x.player.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors",children:[e.jsx("span",{className:`w-5 h-5 flex items-center justify-center rounded text-xs font-bold ${n===0?"bg-yellow-500/30 text-yellow-400":n===1?"bg-gray-400/30 text-gray-300":n===2?"bg-amber-600/30 text-amber-500":"bg-gray-800 text-gray-500"}`,children:n+1}),e.jsx("img",{src:x.team.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:x.player.name}),e.jsx("span",{className:`font-bold text-sm ${a?"text-blue-400":"text-pink-400"}`,children:a?x.assists:x.goals})]},x.player.id))})]})},De=({homeForm:i,awayForm:s,homeTeam:a,awayTeam:o})=>i.length===0&&s.length===0?null:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-white font-bold text-sm",children:"Forme rÃ©cente"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("div",{className:"flex gap-1",children:i.slice(0,5).map((d,r)=>e.jsx(Ie,{result:d},r))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:o.crest,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("div",{className:"flex gap-1",children:s.slice(0,5).map((d,r)=>e.jsx(Ie,{result:d},r))})]})]})]}),Ce=({matches:i,currentMatchId:s,round:a,competitionId:o,matchday:d})=>{var A;const r=i.filter(l=>l.id!==s).slice(0,6),x=i.filter(l=>l.id!==s).length;if(r.length===0)return null;const n=a==null?void 0:a.includes("Regular Season"),c=(a==null?void 0:a.includes("League Phase"))||(a==null?void 0:a.includes("League Stage")),N=a&&!n&&!c;let f="Autres matchs";if(N)f=a||"Tour de coupe";else if(c){const l=(A=a==null?void 0:a.match(/\d+/))==null?void 0:A[0];f=l?`JournÃ©e ${l} - Phase de Ligue`:a||"Phase de Ligue"}else n&&(f=`JournÃ©e ${d}`);const E=o?(N||c)&&a?`/classements/matchday/${o}?round=${encodeURIComponent(a)}`:`/classements/matchday/${o}?matchday=${d}`:null;return e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[N?e.jsx(ee,{className:"w-4 h-4 text-yellow-500"}):e.jsx(Ae,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-white font-bold text-sm truncate",children:f})]}),x>6&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",x-6]})]}),e.jsxs("div",{className:"p-2 space-y-1",children:[r.map(l=>e.jsxs(b,{to:`/match/${l.id}`,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 transition-colors text-xs",children:[e.jsx("img",{src:l.homeTeam.crest,alt:"",className:"w-4 h-4 object-contain"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate",children:l.homeTeam.shortName||l.homeTeam.name.substring(0,3)}),e.jsx("span",{className:`font-bold ${l.status==="IN_PLAY"?"text-red-400":l.status==="FINISHED"?"text-white":"text-gray-500"}`,children:l.status==="FINISHED"||l.status==="IN_PLAY"?`${l.score.fullTime.home??0}-${l.score.fullTime.away??0}`:"vs"}),e.jsx("span",{className:"text-gray-400 flex-1 truncate text-right",children:l.awayTeam.shortName||l.awayTeam.name.substring(0,3)}),e.jsx("img",{src:l.awayTeam.crest,alt:"",className:"w-4 h-4 object-contain"})]},l.id)),E&&e.jsx(b,{to:E,className:"block text-center py-2 mt-2 text-xs text-pink-400 hover:text-pink-300 hover:bg-white/5 rounded-lg transition-colors",children:N?"Voir tous les matchs du tour â†’":"Voir la journÃ©e complÃ¨te â†’"})]})]})};function ps(){var ie,re,ne,ce,oe,de,xe,me,he,pe,ue,ge,je,be,fe,ye,Ne,we,ve,Te,Se,ke;const{id:i}=Be(),[s,a]=m.useState(null),[o,d]=m.useState([]),[r,x]=m.useState(null),[n,c]=m.useState(null),[N,f]=m.useState([]),[E,A]=m.useState([]),[l,R]=m.useState([]),[L,M]=m.useState([]),[se,He]=m.useState([]),[te,Ve]=m.useState([]),[u,Re]=m.useState(null),[O,Oe]=m.useState("events"),[Ue,_]=m.useState(!0),[ae,K]=m.useState(null);if(m.useEffect(()=>{async function t(){var g,k,S;if(i){_(!0),K(null);try{const v=parseInt(i),[j,D,C,F]=await Promise.all([Ge(v),Ke(v),Ye(v),Je(v)]);if(!j){K("Match non trouvÃ©"),_(!1);return}a(j),d(D||[]),x(C),c(F),_(!1);const w=(g=j.competition)==null?void 0:g.id,P=(k=j.homeTeam)==null?void 0:k.id,U=(S=j.awayTeam)==null?void 0:S.id;if(P&&U&&ze(P,U).then(h=>f(h||[])).catch(()=>{}),j.status!=="FINISHED"&&w&&Z(j.homeTeam.name,j.awayTeam.name,w).then(h=>Re(h)).catch(()=>{}),w){const h=j.round||"",H=h.includes("Regular Season"),y=h.includes("League Phase")||h.includes("League Stage"),I=!H&&!y&&h.length>0;console.log("[MatchDetail] Round detection:",{round:h,isRegularLeague:H,isLeaguePhase:y,isCupKnockout:I,matchday:j.matchday});let T;I&&h?(console.log("[MatchDetail] Fetching cup knockout matches for round:",h),T=$e(String(w),h).then(p=>(console.log("[MatchDetail] Cup matches found:",p.length),p)).catch(p=>(console.error("[MatchDetail] Error fetching cup matches:",p),[]))):y&&h?(console.log("[MatchDetail] Fetching league phase matches for round:",h),T=$e(String(w),h).then(p=>(console.log("[MatchDetail] League phase matches found:",p.length),p)).catch(p=>(console.error("[MatchDetail] Error fetching league phase matches:",p),[]))):(console.log("[MatchDetail] Fetching matchday matches:",j.matchday),T=Xe(String(w),j.matchday).catch(()=>[])),Promise.all([Qe(String(w)).catch(()=>[]),Ze(String(w)).catch(()=>[]),T]).then(([p,qe,q])=>{A(p||[]),R(qe||[]),Ve(q||[]),console.log("[MatchDetail] Other matches loaded:",(q==null?void 0:q.length)||0)})}P&&Me(P,5).then(h=>{const H=h.map(y=>{const I=y.homeTeam.id===P,T=I?y.score.fullTime.home:y.score.fullTime.away,p=I?y.score.fullTime.away:y.score.fullTime.home;return T===null||p===null?"D":T>p?"W":T<p?"L":"D"});M(H)}).catch(()=>{}),U&&Me(U,5).then(h=>{const H=h.map(y=>{const I=y.homeTeam.id===U,T=I?y.score.fullTime.home:y.score.fullTime.away,p=I?y.score.fullTime.away:y.score.fullTime.home;return T===null||p===null?"D":T>p?"W":T<p?"L":"D"});He(H)}).catch(()=>{})}catch(v){console.error("Error fetching match data:",v),K("Erreur lors du chargement du match"),_(!1)}}}t()},[i]),Ue)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Chargement du match..."})]})});if(ae||!s)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ee,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:ae||"Match non trouvÃ©"}),e.jsx(b,{to:"/matchs",className:"text-pink-400 hover:underline",children:"Retour aux matchs"})]})});const le=s.status==="IN_PLAY"||s.status==="PAUSED",We=s.status==="FINISHED",Y=s.status==="SCHEDULED"||s.status==="TIMED",_e=[{id:"events",label:"Temps forts",icon:z,count:o.length},{id:"stats",label:"Statistiques",icon:X,available:!!r},{id:"lineups",label:"Compositions",icon:B,available:!!n},{id:"h2h",label:"Face Ã  face",icon:Q,count:N.length}];return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(236,72,153,0.15),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(59,130,246,0.15),transparent_50%)]"})]}),e.jsx("header",{className:"relative pt-24 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(b,{to:"/matchs",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(ls,{className:"w-4 h-4"}),e.jsx("span",{children:"Retour aux matchs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[((ie=s.competition)==null?void 0:ie.emblem)&&e.jsx("img",{src:s.competition.emblem,alt:"",className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-gray-400 text-sm",children:(re=s.competition)==null?void 0:re.name}),e.jsx("span",{className:"text-gray-600",children:"â€¢"}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.round&&!s.round.includes("Regular Season")?s.round:`J${s.matchday}`})]})]}),e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-3xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:`h-1 bg-gradient-to-r ${le?"from-red-500 via-pink-500 to-red-500":We?"from-gray-500 to-gray-600":"from-blue-500 via-purple-500 to-pink-500"}`}),e.jsxs("div",{className:"p-6 md:p-8",children:[le&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-red-500/20 border border-red-500/50 rounded-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),e.jsx("span",{className:"text-red-400 font-bold text-sm uppercase",children:s.minute?`${s.minute}'`:"Live"})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-12",children:[e.jsxs(b,{to:`/classements/club/${s.homeTeam.id}`,className:"flex-1 text-center group",children:[e.jsx("img",{src:s.homeTeam.crest,alt:s.homeTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-base md:text-xl font-bold text-white group-hover:text-pink-400 transition-colors",children:s.homeTeam.name})]}),e.jsx("div",{className:"text-center min-w-[120px]",children:Y?e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl md:text-6xl font-black text-white",children:"VS"}),e.jsx("div",{className:"mt-2 text-gray-400 text-sm",children:J(s.utcDate)})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.home??0}),e.jsx("span",{className:"text-2xl md:text-4xl text-gray-600",children:":"}),e.jsx("span",{className:"text-4xl md:text-6xl font-black text-white",children:s.score.fullTime.away??0})]}),s.score.halfTime.home!==null&&e.jsxs("div",{className:"mt-1 text-gray-500 text-sm",children:["MT: ",s.score.halfTime.home," - ",s.score.halfTime.away]})]})}),e.jsxs(b,{to:`/classements/club/${s.awayTeam.id}`,className:"flex-1 text-center group",children:[e.jsx("img",{src:s.awayTeam.crest,alt:s.awayTeam.name,className:"w-16 h-16 md:w-24 md:h-24 object-contain mx-auto mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h2",{className:"text-base md:text-xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.awayTeam.name})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(Ae,{className:"w-3 h-3"}),e.jsx("span",{children:J(s.utcDate)})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(is,{className:"w-3 h-3"}),e.jsx("span",{children:s.venue})]}),s.referee&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg text-gray-400 text-xs",children:[e.jsx(B,{className:"w-3 h-3"}),e.jsx("span",{children:s.referee})]})]}),Y&&(u==null?void 0:u.odds.winamax)&&e.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("img",{src:"/images/winamax-logo.png",alt:"Winamax",className:"w-6 h-6 rounded object-contain"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Cotes Winamax"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"1"}),e.jsx("span",{className:`text-xl font-bold ${u.odds.winamax.home===Math.min(u.odds.winamax.home,u.odds.winamax.draw,u.odds.winamax.away)?"text-green-400":"text-white"}`,children:G(u.odds.winamax.home)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"N"}),e.jsx("span",{className:`text-xl font-bold ${u.odds.winamax.draw===Math.min(u.odds.winamax.home,u.odds.winamax.draw,u.odds.winamax.away)?"text-green-400":"text-white"}`,children:G(u.odds.winamax.draw)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"2"}),e.jsx("span",{className:`text-xl font-bold ${u.odds.winamax.away===Math.min(u.odds.winamax.home,u.odds.winamax.draw,u.odds.winamax.away)?"text-green-400":"text-white"}`,children:G(u.odds.winamax.away)})]})]})]})]})]})]})}),e.jsx("section",{className:"sticky top-20 z-30 bg-black/90 backdrop-blur-xl border-y border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex gap-1 py-3 overflow-x-auto scrollbar-hide",children:_e.map(t=>e.jsxs("button",{onClick:()=>Oe(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap ${O===t.id?"bg-gradient-to-r from-pink-500 to-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),e.jsx("span",{children:t.label}),t.count!==void 0&&t.count>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-white/20 rounded-full text-xs",children:t.count})]},t.id))})})}),e.jsx("main",{className:"relative max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Fe,{mode:"wait",children:[O==="events"&&e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-pink-500"}),"Temps forts"]}),o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(z,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucun Ã©vÃ©nement"}),Y&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Match pas encore commencÃ©"})]}):e.jsx("div",{className:"space-y-2",children:o.sort((t,g)=>{var k,S;return(((k=g.time)==null?void 0:k.elapsed)||0)-(((S=t.time)==null?void 0:S.elapsed)||0)}).map((t,g)=>{var S,v,j,D,C,F,w;const k=((S=t.team)==null?void 0:S.id)===s.homeTeam.id;return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg bg-white/5 ${k?"":"flex-row-reverse"}`,children:[e.jsxs("div",{className:"w-12 text-center",children:[e.jsxs("span",{className:"text-pink-400 font-bold",children:[(v=t.time)==null?void 0:v.elapsed,"'"]}),((j=t.time)==null?void 0:j.extra)&&e.jsxs("span",{className:"text-gray-500 text-xs",children:["+",t.time.extra]})]}),e.jsx(ns,{type:t.type,detail:t.detail}),e.jsxs("div",{className:`flex-1 ${k?"":"text-right"}`,children:[(D=t.player)!=null&&D.id?e.jsx(b,{to:`/player/${t.player.id}`,className:"text-white font-medium hover:text-pink-400",children:t.player.name}):e.jsx("span",{className:"text-white font-medium",children:((C=t.player)==null?void 0:C.name)||"Ã‰vÃ©nement"}),t.type==="subst"&&((F=t.assist)==null?void 0:F.name)&&e.jsxs("p",{className:"text-gray-500 text-xs",children:["â†“ ",t.assist.name]}),t.type==="Goal"&&((w=t.assist)==null?void 0:w.name)&&e.jsxs("p",{className:"text-gray-500 text-xs",children:["Passe: ",t.assist.name]})]})]},g)})})]})},"events"),O==="stats"&&e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-pink-500"}),"Statistiques"]}),r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8"}),e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.homeTeam.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-bold text-sm hidden md:inline",children:s.awayTeam.name}),e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8"})]})]}),e.jsx(V,{label:"Possession",homeValue:((ne=r.home)==null?void 0:ne.possession)||0,awayValue:((ce=r.away)==null?void 0:ce.possession)||0,isPercentage:!0}),e.jsx(V,{label:"Tirs",homeValue:((oe=r.home)==null?void 0:oe.shots)||0,awayValue:((de=r.away)==null?void 0:de.shots)||0}),e.jsx(V,{label:"Tirs cadrÃ©s",homeValue:((xe=r.home)==null?void 0:xe.shotsOnTarget)||0,awayValue:((me=r.away)==null?void 0:me.shotsOnTarget)||0}),e.jsx(V,{label:"Corners",homeValue:((he=r.home)==null?void 0:he.corners)||0,awayValue:((pe=r.away)==null?void 0:pe.corners)||0}),e.jsx(V,{label:"Fautes",homeValue:((ue=r.home)==null?void 0:ue.fouls)||0,awayValue:((ge=r.away)==null?void 0:ge.fouls)||0}),e.jsx(V,{label:"Hors-jeu",homeValue:((je=r.home)==null?void 0:je.offsides)||0,awayValue:((be=r.away)==null?void 0:be.offsides)||0})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Stats non disponibles"})]})]})},"stats"),O==="lineups"&&e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("h3",{className:"text-lg font-bold text-white p-4 md:p-6 border-b border-white/10 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-pink-500"}),"Compositions"]}),n?e.jsxs("div",{className:"grid md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-white/10",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.homeTeam.crest,alt:"",className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.homeTeam.name}),e.jsx("p",{className:"text-pink-400 text-xs",children:(fe=n.home)==null?void 0:fe.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((ye=n.home)==null?void 0:ye.startXI)||[]).map((t,g)=>e.jsxs(b,{to:t.id?`/player/${t.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-pink-500/30 text-pink-400 rounded text-xs font-bold",children:t.number||g+1}),e.jsx("span",{className:"text-white flex-1",children:t.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:t.pos})]},g))}),((we=(Ne=n.home)==null?void 0:Ne.substitutes)==null?void 0:we.length)>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"RemplaÃ§ants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.home.substitutes.map((t,g)=>e.jsx(b,{to:t.id?`/player/${t.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:t.name},g))})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.awayTeam.crest,alt:"",className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:s.awayTeam.name}),e.jsx("p",{className:"text-blue-400 text-xs",children:(ve=n.away)==null?void 0:ve.formation})]})]}),e.jsx("div",{className:"space-y-1",children:(((Te=n.away)==null?void 0:Te.startXI)||[]).map((t,g)=>e.jsxs(b,{to:t.id?`/player/${t.id}`:"#",className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 text-sm",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-blue-500/30 text-blue-400 rounded text-xs font-bold",children:t.number||g+1}),e.jsx("span",{className:"text-white flex-1",children:t.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:t.pos})]},g))}),((ke=(Se=n.away)==null?void 0:Se.substitutes)==null?void 0:ke.length)>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"RemplaÃ§ants"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.away.substitutes.map((t,g)=>e.jsx(b,{to:t.id?`/player/${t.id}`:"#",className:"px-2 py-1 bg-white/5 rounded text-xs text-gray-300 hover:bg-white/10",children:t.name},g))})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Compositions non disponibles"})]})]})},"lineups"),O==="h2h"&&e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"bg-gray-900/50 rounded-2xl border border-white/10 p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-pink-500"}),"Confrontations"]}),N.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Aucune confrontation trouvÃ©e"})]}):e.jsx("div",{className:"space-y-2",children:N.filter(t=>t.id!==s.id).slice(0,8).map(t=>e.jsxs(b,{to:`/match/${t.id}`,className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs w-20",children:J(t.utcDate)}),e.jsx("img",{src:t.homeTeam.crest,alt:"",className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate",children:t.homeTeam.name}),e.jsxs("span",{className:"text-white font-bold",children:[t.score.fullTime.home," - ",t.score.fullTime.away]}),e.jsx("span",{className:"text-gray-300 text-sm flex-1 truncate text-right",children:t.awayTeam.name}),e.jsx("img",{src:t.awayTeam.crest,alt:"",className:"w-5 h-5"})]},t.id))})]})},"h2h")]})}),e.jsx("div",{className:"space-y-4",children:(()=>{var S,v,j,D,C,F,w,P;const t=s.round||"",g=t.includes("Final")||t.includes("Quarter")||t.includes("Semi")||t.includes("Round of")||t.includes("8th")||t.includes("16th")||t.includes("Knockout")||t.includes("Play-off"),k=t.includes("Group");return g&&!k?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 rounded-xl border border-yellow-500/30 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ee,{className:"w-6 h-6 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold",children:"Phase finale"}),e.jsx("p",{className:"text-yellow-400/80 text-sm",children:t})]})]}),e.jsx(b,{to:`/classements/matchday/${(S=s.competition)==null?void 0:S.id}`,className:"block text-center py-2 px-4 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg text-sm font-medium transition-colors",children:"Voir le tableau complet â†’"})]}),e.jsx(De,{homeForm:L,awayForm:se,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(Pe,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((v=s.competition)==null?void 0:v.id)||0,matchStatus:s.status}),e.jsx(Le,{scorers:l,competitionId:(j=s.competition)==null?void 0:j.id}),e.jsx(Ce,{matches:te,currentMatchId:s.id,round:s.round,competitionId:(D=s.competition)==null?void 0:D.id,matchday:s.matchday})]}):e.jsxs(e.Fragment,{children:[e.jsx(cs,{standings:E,homeTeamId:s.homeTeam.id,awayTeamId:s.awayTeam.id,competitionId:(C=s.competition)==null?void 0:C.id}),e.jsx(De,{homeForm:L,awayForm:se,homeTeam:s.homeTeam,awayTeam:s.awayTeam}),e.jsx(Pe,{homeTeam:s.homeTeam.name,awayTeam:s.awayTeam.name,competitionId:((F=s.competition)==null?void 0:F.id)||0,matchStatus:s.status}),e.jsx(Le,{scorers:l,competitionId:(w=s.competition)==null?void 0:w.id}),e.jsx(Ce,{matches:te,currentMatchId:s.id,round:s.round,competitionId:(P=s.competition)==null?void 0:P.id,matchday:s.matchday})]})})()})]})})]})}export{ps as default};
